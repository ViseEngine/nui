{% extends "layout.tpl" %}

{% block title %}{% endblock %}

{% block nav %}
    {% import 'nav.tpl' as nav %}
    {{nav.active('study')}}
{% endblock %}

{% block subpage %} class="g-html"{% endblock %}

{% block content %}
    <div class="g-main f-fr">
        <div class="mainbox">
            <h1 class="e-pt20 e-pb20 f-fs28">打包工具</h1>
            <div class="e-mt15 f-lh22">
                <p>模块化开发就是将一个系统拆分为多个独立的功能模块，每个功能模块又可无限拆分为更小的模块。在Nui.js中一个模块就是一个js文件，如果开发时模块很多，就会导致http请求过多，使页面载入变的很慢。</p>
                <p>可以使用<a href="https://www.npmjs.com/package/gulp-nui" target="_blank" class="f-corange">gulp-nui</a>对模块进行压缩合并，该工具是一个<a href="http://www.gulpjs.com.cn/" target="_blank" class="f-corange">gulp</a>插件，不仅可以合并js模块，也可以对css模块进行合并，以及给静态资源添加版本号用于清理文件缓存。</p>
            </div>
            <h2 class="e-pt20 f-fs22 f-bb e-pb10" id="安装使用">安装使用</h2>
            <p class="e-mt15 f-lh22">gulp在node环境中运行，使用之前先安装<a href="http://nodejs.cn/" target="_blank" class="f-corange">nodejs</a>，由于npm是从国外下载包非常慢，因此需将服务器切换为国内：</p>
<script type="text/highlight" data-highlight-options>
npm install -g cnpm --registry=https://registry.npm.taobao.org
</script>
            <p class="e-mt15 f-lh22">完成后使用cnpm代替npm，然后全局安装gulp</p>
<script type="text/highlight" data-highlight-options>
cnpm install -g gulp
</script>
            <p class="e-mt15 f-lh22"></p>
<script type="text/highlight" data-style-options>
├─libs /* 所有项目公用资源 */
│  ├─images
│  ├─script
│  │  ├─components /* 存放组件 */
│  │  ├─jquery
│  │  │      jquery-1.11.3.js
│  │  │      jquery-1.11.3.min.js
│  │  │
│  │  └─nui
│  │          nui-min.js
│  │          nui.js
│  │
│  └─style
│          reset.css
│
└─project
    │  gulpfile.js
    │  index.html
    │  package.json
    │
    ├─images
    ├─script
    │  │  config.js
    │  │  main.js /* 入口模块 */
    │  │
    │  ├─pages
    │  │  └─helloWorld
    │  │          main.js
    │  │
    │  └─views /* 存放模版 */
    │          helloWorld.js
    │
    └─style
            helloWorld.less
</script>
        </div>	
    </div>
    {% import 'sidecol.tpl' as side %}
    {{side.active('pack')}}
{% endblock %}
