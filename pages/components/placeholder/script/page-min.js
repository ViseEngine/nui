Nui.define('src/components/placeholder',['component'],function(e){return this.extend(e,{_options:{text:'',animate:!1,equal:!1,restore:!0,color:'#ccc',onChange:null},_template:{list:'<%each style%><%$index%>:<%$value%>;<%/each%>',wrap:'<strong class="<% className %>" style="<%include \'list\'%>" />',elem:'<b style="<%include \'list\'%>"><%text%></b>'},_exec:function(){var e=this,t=e._options,a=e._getTarget();if(a){var l=e._deftext=a.attr('placeholder');!e._deftext&&t.text&&a.attr('placeholder',l=t.text),void 0===e._val&&(e._val=Nui.trim(a.val())),(e._text=Nui.trim(l))&&e._create()}},_create:function(){var e=this,t=e._options,a=e.constructor;if(!t.animate&&(t.animate||'placeholder'in document.createElement('input')))e._setStyle();else{t.animate&&e.target.removeAttr('placeholder');var l=e._tplData();l.style={'position':'relative','display':'inline-block','width':e.target.outerWidth()+'px','overflow':'hidden','cursor':'text'},e.target.wrap(e._tpl2html('wrap',l)),e.element=$(e._tpl2html('elem',{text:e._text,style:function(){var l=e.target.outerHeight(),n=e.target.is('textarea');return{'display':Nui.trim(e.target.val())?'none':'inline','position':'absolute','left':a._getSize(e.target,'l','padding')+a._getSize(e.target,'l')+'px','top':a._getSize(e.target,'t','padding')+a._getSize(e.target,'t')+'px','height':n?'auto':l+'px','line-height':n?'normal':l+'px','color':t.color}}()})).insertAfter(e.target),e._events()}},_setStyle:function(){var e=this;e._options;e.className='_placeholder-'+e.__id,e.target.addClass(e.className),e.constructor.style||e._createStyle(),e._createRules()},_createStyle:function(){var e=this,t=document.createElement('style');document.head.appendChild(t),e.constructor.style=t.sheet},_createRules:function(){var e=this,t=e.constructor.style,a=e.__id;try{t.deleteRule(a)}catch(e){}Nui.each(['::-webkit-input-placeholder',':-ms-input-placeholder','::-moz-placeholder'],function(l){var n='.'+e.className+l,i='opacity:1; color:'+(e._options.color||'');try{'addRule'in t?t.addRule(n,i,a):'insertRule'in t&&t.insertRule(n+'{'+i+'}',a)}catch(e){}})},_events:function(){var e=this,t=e._options,a=e.constructor,l=a._getSize(e.target,'l','padding')+a._getSize(e.target,'l');e._on('click',e.element,function(){e.target.focus()}),e._on('focus',e.target,function(){t.animate&&e.element.stop(!0,!1).animate({left:l+10,opacity:'0.5'})}),e._on('blur change',e.target,function(t,a){e.value()}),e._on('keyup keydown',e.target,function(t,a){Nui.trim(a.val())?e.element.hide():e.element.show()})},_reset:function(){var e=this;e._off(),e.element&&(e.element.remove(),e.target.unwrap()),!0===e._options.restore&&e.target.val(e._val),e.target.removeClass(e.className),e._deftext?e.target.attr('placeholder',e._deftext):e.target.removeAttr('placeholder')},value:function(e){var t=this.constructor,a=this.target,l=t._getSize(a,'l','padding')+t._getSize(a,'l'),n=Nui.trim(arguments.length?a.val(e).val():a.val());!this._options.equal&&n===this.text||!n?(a.val(''),this.element&&this.element.show(),this._options.animate&&this.element.stop(!0,!1).animate({left:l,opacity:'1'})):this.element&&this.element.hide(),this._callback('Change')}})}),Nui.define('./script/page',['src/components/placeholder','events'],function(e,t){t({events:{'focus :text':function(e,t){t.placeholder({text:'19920604',restore:!1})},'blur :text':function(e,t){t.placeholder('destroy')}}})});
//# sourceMappingURL=page-min.js.map?v=f1e241e