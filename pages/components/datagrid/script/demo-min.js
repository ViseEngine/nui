Nui.define('pages/components/datagrid/script/checkradio',function(require,imports,renders,extend){!function(e,t){e.fn.checkradio=function(t,n){if(!t||e.isPlainObject(t)){var a=e.extend({switches:{off:'',on:''},beforeCallback:e.noop,callback:e.noop},t||{});return this.each(function(){var t=e(this),n=t.closest('.ui-checkradio');if(n.length){var i=t.prop('checked')?' s-checked':'',r=t.prop('disabled')?' s-dis':'',o=t.attr('name'),c=e.extend({},a.switches,t.data()||{}),l=n.find('.text'),s='radio';t.is(':checkbox')&&(s='checkbox'),n.children().attr('checkname')?n.children().attr('class','ui-'+s+i+r):(c.off&&c.on&&(n.addClass('ui-switches'),l=e('<s class="text">'+(t.prop('checked')?c.on:c.off)+'</s>').insertBefore(t)),t.css({position:'absolute',top:'-999em',left:'-999em',opacity:0}).wrap('<i></i>'),n.wrapInner('<em class="ui-'+s+i+r+'" checkname="'+o+'"></em>').children().click(function(n){var i=e(this);if(!t.is(':disabled')&&!1!==a.beforeCallback(t,n)){if(t.is(':checkbox')){var r=t.prop('checked');t.prop('checked',!r),i[(r?'remove':'add')+'Class']('s-checked'),l.length&&l.text(r?c.off:c.on)}else{if(t.prop('checked'))return;t.prop('checked',!0),e('.ui-radio[checkname="'+o+'"]').removeClass('s-checked'),i.addClass('s-checked')}a.callback(t,n)}})),a.init&&!t.is(':disabled')&&!1!==a.beforeCallback(t)&&a.callback(t,'init')}})}return e(this).prop(t,1==n).checkradio()}}(jQuery)}),Nui.define('pages/components/datagrid/script/paging',function(require,imports,renders,extend){!function(e,t,n,a){function i(a){var r=this;r.load=!1,r.instance=function(){for(var t in e)if(e[t]==r)return t.toString()},n.extend(r,n.extend(!0,{url:'',wrap:null,paramJSON:'',pCount:10,current:1,aCount:0,last:!1,allData:!1,isFull:!0,container:e,scroll:{enable:!1},ajax:{},condition:{},loading:{wrap:null,show:function(){var e=this;e.hide();var t=e.wrap;t&&t.append('<i class="ui-loading" style="position:absolute;">正在加载数据...</i>').css({position:'relative'})},hide:function(){n('.ui-loading').remove()}},button:{prev:'«',next:'»',first:'',last:''},extPage:{wrap:null,desc:'',prev:'上一页',next:'下一页'},refreshCallback:null,endCallback:n.noop,jumpCallback:n.noop,echoData:n.noop},i.options,a||{})),r.container=n(r.container||e),!0===r.scroll.enable&&(r.wrap=null,r.children=r.container[0]===e?n(t.body):r.container.children(),r.container.scroll(function(){r.resize()}).resize(function(){r.resize()}))}var r=function(e){return e.dataType='json',n.ajax(e)};i.options={},i.config=function(e){n.extend(!0,i.options,e||{})},i.prototype={constructor:i,jump:function(e){var t,a=this,i=Math.ceil(a.aCount/a.pCount);if(a.showload=!0,a.aCount>0)if('object'==typeof e){var r=n(e).prevAll('input').val();t=r<=i&&r!=a.current?parseInt(r):a.current}else t=e>0&&e<=i?e:e<0?i+e+1:i;else t=e;if(a.current=a.condition.current=t,a.jumpCallback(t),'function'==typeof a.refreshCallback)return a.refreshCallback(t),void a.create();a.getData('jump')},query:function(e){var t=this;t.showload=!0,t.load=!1,'function'!=typeof t.refreshCallback||'refresh'!==e?(e?('noloading'===e?t.showload=!1:'reload'!==e&&(t.current=1),t.filter(),t.condition.current=t.current):t.condition={current:t.current=1},t.getData(e||'')):t.create()},filter:function(){var e=this;for(var t in e.condition)e.condition[t]||delete e.condition[t]},getData:function(t){var a=this;a.condition.pCount=a.pCount,!0===a.allData&&(delete a.condition.pCount,delete a.condition.current);var i=a.condition;if(a.paramJSON){i=[],n.each(a.condition,function(e,t){i.push(e+':'+t)});var o=i.length?'{'+i.join(',')+'}':'';i={},i[a.paramJSON]=o}var c='function'==typeof a.ajax?a.ajax():a.ajax;delete c.success,a.load||(a.load=!0,r(n.extend({},!0,{url:a.url,data:i,success:function(n){try{n.current=a.current}catch(e){}var i,r=0;if(a.container[0]===e||'reload'===t||'noloading'===t||'jump'===t&&('jump'!==t||a.scroll.enable)||(a.container.scrollTop(0),a.container.scrollLeft(0)),'reload'===t){var o=a.container;a.selector?(o=a.container.find(a.selector),r=o.scrollTop()):r=o.scrollTop(),i=o.find('tr.rows.s-crt').index()}if(a.echoData(n,t),a.aCount=n.aCount,a.load=!1,!0===a.scroll.enable&&a.resize(),r>0){var o=a.container;a.selector?(o=a.container.find(a.selector),o.scrollTop(r)):o.scrollTop(r),i>=0&&o.find('tr.rows').eq(i).addClass('s-crt')}if(!0===a.last)return a.last=!1,void a.jump(-1);a.create(),a.endCallback(n)},error:function(){a.showload&&a.loading.hide(),a.load=!1}},c||{})))},trim:function(e){var t=Math.abs(parseInt(n(e).val()));!t&&(t=1),n(e).val(t)},echoList:function(e,t,n){return this.current==t?'<li><span class="s-crt">'+t+'</span></li>':'<li><a href="javascript:'+n+'.jump('+t+');" target="_self">'+t+'</a></li>'},resize:function(){var e=this;try{var t=e.container.scrollTop(),n=e.container.height(),a=e.children.outerHeight();!e.load&&Math.ceil(e.aCount/e.pCount)>e.current&&(0===t&&a<=n||n+t>=a)&&e.jump(++e.current)}catch(e){}},create:function(){var e=this,t=e.button,n=Math.ceil(e.aCount/e.pCount),a=e.current,i='',r=n==a?1:a+1,o=e.instance(),c=e.extPage;if(c.wrap){var l='<div>';l+=a==n||0==n?'<span>'+c.next+'</span>':'<a href="javascript:'+o+'.jump('+(a+1)+');" target="_self">'+c.next+'</a>',l+=1==a?'<span>'+c.prev+'</span>':'<a href="javascript:'+o+'.jump('+(a-1)+');" target="_self">'+c.prev+'</a>',l+='</div><em>'+(0!==n?a:0)+'/'+n+'</em><strong>共'+e.aCount+c.desc+'</strong>',c.wrap.html(l)}if(e.wrap){if(!n)return void e.wrap.empty();if(i+=function(){var n='';return 1==a?(t.first&&(n+='<li><span>'+t.first+'</span></li>'),n+='<li><span>'+t.prev+'</span></li>'):(e.button.first&&(n+='<li><a href="javascript:'+o+'.jump(1);" target="_self">'+t.first+'</a></li>'),n+='<li><a href="javascript:'+o+'.jump('+(a-1)+');" target="_self">'+t.prev+'</a></li>'),n}(),n<=7)for(var s=1;s<=n;s++)i+=e.echoList(i,s,o);else if(a-3>1&&a+3<n){i+='<li><a href="javascript:'+o+'.jump(1);" target="_self">1</a></li>',i+='<li><em>...</em></li>';for(var s=a-2;s<=a+2;s++)i+=e.echoList(i,s,o);i+='<li><em>...</em></li>',i+='<li><a href="javascript:'+o+'.jump('+n+');" target="_self">'+n+'</a></li>'}else if(a-3<=1&&a+3<n){for(var s=1;s<=5;s++)i+=e.echoList(i,s,o);i+='<li><em>...</em></li>',i+='<li><a href="javascript:'+o+'.jump('+n+');" target="_self">'+n+'</a></li>'}else if(a-3>1&&a+3>=n){i+='<li><a href="javascript:'+o+'.jump(1);" target="_self">1</a></li>',i+='<li><em>...</em></li>';for(var s=n-5;s<=n;s++)i+=e.echoList(i,s,o)}i+=function(){var e='';return a==n?(e+='<li><span>'+t.next+'</span></li>',t.last&&(e+='<li><span>'+t.last+'</span></li>')):(e+='<li><a href="javascript:'+o+'.jump('+(a+1)+');" target="_self">'+t.next+'</a></li>',t.last&&(e+='<li><a href="javascript:'+o+'.jump('+n+');" target="_self">'+t.last+'</a></li>')),e}(),e.isFull&&(i+='<li><em>跳转到第</em><input type="text" onblur="'+o+'.trim(this);" value="'+r+'" /><em>页</em><button type="button" onclick="'+o+'.jump(this);">确定</button></li>'),i='<ul class="ui-paging">'+i+'</ul>',e.wrap.html(i)}}},n.extend({paging:function(t,n){void 0===n&&(n=t,t='paging');var a=e[t]=new i(n);return'function'!=typeof e[t].refreshCallback?(a.query(!0),a):(a.query('refresh'),a)}}),e.Paging=i}(window,document,jQuery)}),Nui.define('./script/demo',function(require,imports,renders,extend){var e=this,t=(e.require('pages/components/datagrid/script/paging'),e.require('pages/components/datagrid/script/checkradio'),require('src/components/datagrid')),n=t({container:'#data',isBorder:!1,isDir:!0,paging:{url:'http://172.30.5.28/data/',pCount:20},data:[{buname:'11111'}],columns:[{title:'名称',width:100,field:'buname',fixed:'left',nowrap:!0},{title:'名称',width:'200',field:'id',content:'input'},{title:'',content:''},{title:'名称',width:200,field:'buname',content:'input'}],onRowClick:function(e,t,n,a){},onRowDblclick:function(e,t,n,a){},onRender:function(e){},onFocus:function(e,t,n,a){}});$('h1').click(function(){n.option('isBorder',!0)})});
//# sourceMappingURL=demo-min.js.map?v=79781de