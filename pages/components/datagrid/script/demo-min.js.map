{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","require","imports","renders","extend","window","document","$","undefined","Paging","options","that","this","load","instance","attr","toString","url","wrap","paramJSON","pCount","current","aCount","last","allData","isFull","container","scroll","enable","ajax","condition","loading","show","hide","append","css","position","remove","button","prev","next","first","extPage","desc","refreshCallback","endCallback","noop","jumpCallback","echoData","children","body","resize","request","op","dataType","config","prototype","constructor","jump","page","count","Math","ceil","showload","val","prevAll","parseInt","create","getData","query","type","filter","i","param","each","key","push","temp","length","join","success","data","e","index","stop","scrollTop","scrollLeft","box","selector","find","eq","addClass","error","trim","o","abs","echoList","html","height","cheight","outerHeight","empty","tpl","paging","name","jQuery","component","module","scrollBarWidth","oldWidth","newWidth","div","createElement","style","cssText","appendChild","clientWidth","overflowY","removeChild","static","_init","self","doc","on","__instances","isActive","element","removeClass","timer","win","clearTimeout","setTimeout","_resize","_theadHeight","_resetHeight","_hasChildren","value","isArray","_getRowNumber","array","arr","id","parent","v","order","field","fixed","_colspan","columns","isFixed","isLine","isBorder","fields","dataName","width","footer","onFocusin","onFocusout","onFocus","onBlur","stringify","onRowClick","onRowDblclick","onCheckboxChange","onRender","_template","layout","table","tbody","rows","head","foot","_attr","_exec","opts","_getTarget","_columns","all","left","right","k","_create","_class","_rows","_cols","_rowNumber","_setRowCol","_hasLeftRight","console","log","_tpl2html","_tplData","appendTo","target","_body","_tableAll","_tableAllInner","_tableAllTitle","_tableAllThead","_tableLeft","_tableRight","_tableFixed","_tableFixedInner","_foot","_initList","_bindEvent","pagingId","__id","_list","_render","call","_on","_scroll","_event","cols","concat","list","_rowHeight","conntailerHeight","innerHeight","margin-right","item","cellid","elem","_height","LeftRow","RightRow","row","hasChild","colspan","rowspan","_callback","args","arguments","callback","apply","Array","slice","_events","click .table-tbody .table-row","mouseover .table-tbody .table-row","mouseout .table-tbody .table-row","dblclick .table-tbody .table-row","focus .datagrid-input","blur .datagrid-input","focusin .table-tbody .table-cell","focusout .table-tbody .table-cell","click .datagrid-order > b","_order","toggleClass","siblings","_enable","hasClass","_active","stopPropagation","_getRowData","closest","_focusin","_focusout","_rowclick","_rowdblclick","datagrid","a","prov","city","address","job","vC","title","content","asc","select","text","nowrap","click","option"],"mappings":"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","file":"demo-min.js.map?v=6c2d9c5","sourcesContent":["Nui.define('src/paging',function(require,imports,renders,extend){\n\tvar module=this;\n\t/**\n\t * @filename jquery.paging.js\n\t * @author Aniu[2014-03-29 10:07]\n\t * @update Aniu[2016-12-06 11:23]\n\t * @version v2.9.1\n\t * @description 分页组件\n\t */\n\t\n\t;!(function(window, document, $, undefined){\n\t    var resize = function(){\n\t        \n\t    };\n\t    var request = function(op){\n\t        op.dataType = 'json';\n\t        return $.ajax(op)\n\t    };\n\t    \n\t    function Paging(options){\n\t        var that = this;\n\t        that.load = false;\n\t        //获取实例对象的名称\n\t        that.instance = function(){\n\t            for(var attr in window){\n\t                if(window[attr] == that){\n\t                    return attr.toString();\n\t                }\n\t            }\n\t        }\n\t        $.extend(that, $.extend(true, {\n\t            /**\n\t             * @function ajax请求url\n\t             * @type <String>\n\t             */\n\t            url:'',\n\t            /**\n\t             * @function 页码容器\n\t             * @type <Object>\n\t             */\n\t            wrap:null,\n\t            /**\n\t             * @function 传递参数值\n\t             * @type <String>\n\t             * @desc 将传递参数封装为json字符串，后台接收该参数来获取该json\n\t             */\n\t            paramJSON:'',\n\t            /**\n\t             * @function 当页显示数量\n\t             * @type <Number>\n\t             */\n\t            pCount:10,\n\t            /**\n\t             * @function 当前页码\n\t             * @type <Number>\n\t             */\n\t            current:1,\n\t            /**\n\t             * @function 列表数据总数\n\t             * @type <Number>\n\t             */\n\t            aCount:0,\n\t            /**\n\t             * @function 是否初始化展示最后一页\n\t             * @type <Boolean>\n\t             */\n\t            last:false,\n\t            /**\n\t             * @function 是否读取全部数据\n\t             * @type <Boolean>\n\t             * @desc 该参数启用后，接口将无法接收到pCount和current参数，前后端约定好，若没接收到这2个参数，将返回全部数据\n\t             */\n\t            allData:false,\n\t            /**\n\t             * @function 是否完整形式展示分页\n\t             * @type <Boolean>\n\t             */\n\t            isFull:true,\n\t\t\t\t/**\n\t             * @function 滚动分页配置\n\t             * @type <Obejct>\n\t             */\n\t            container:window,\n\t\t\t\tscroll:{\n\t\t\t\t\tenable:false\n\t\t\t\t},\n\t            /**\n\t             * @function ajax配置信息\n\t             * @type <JSON Obejct, Function>\n\t             */\n\t            ajax:{},\n\t            /**\n\t             * @function 接口接收参数\n\t             * @type <JSON Obejct>\n\t             */\n\t            condition:{},\n\t            /**\n\t             * @function loading加载效果\n\t             * @type <JSON Obejct>\n\t             */\n\t            loading:{\n\t                //loading容器\n\t                wrap:null,\n\t                //显示loading\n\t                show:function(){\n\t                    var that = this;\n\t                    that.hide();\n\t                    var wrap = that.wrap;\n\t                    wrap && wrap.append('<i class=\"ui-loading\" style=\"position:absolute;\">正在加载数据...</i>').css({position:'relative'});\n\t                },\n\t                //隐藏loading\n\t                hide:function(){\n\t                    $('.ui-loading').remove();\n\t                }\n\t            },\n\t            /**\n\t             * @function 上一页下一页按钮文字\n\t             * @type <JSON Obejct>\n\t             */\n\t            button:{\n\t                prev:'«',\n\t                next:'»',\n\t                first:'',\n\t                last:''\n\t            },\n\t            /**\n\t             * @function 拓展分页部分\n\t             * @type <JSON Obejct>\n\t             */\n\t            extPage:{\n\t                wrap:null,\n\t                desc:'',\n\t                prev:'上一页',\n\t                next:'下一页'\n\t            },\n\t            /**\n\t             * @function 传统页面刷新方式\n\t             * @type <Null, Function>\n\t             * @param current <Number> 目标页码\n\t             * @desc 值为函数将启用\n\t             */\n\t            refreshCallback:null,\n\t            /**\n\t             * @function ajax响应数据并且分页创建完毕后回调函数\n\t             * @type <Function>\n\t             * @param data <JSON Object> 响应数据\n\t             */\n\t            endCallback:$.noop,\n\t            /**\n\t             * @function 点击分页按钮回调函数\n\t             * @type <Function>\n\t             * @param current <Number> 目标页码\n\t             */\n\t            jumpCallback:$.noop,\n\t            /**\n\t             * @function 分页数据处理\n\t             * @type <Function>\n\t             * @param data <JSON Object> 响应数据\n\t             */\n\t            echoData:$.noop\n\t        }, Paging.options, options||{}));\n\t        that.container = $(that.container||window);\n\t\t\tif(that.scroll.enable === true){\n\t\t\t\tthat.wrap = null;\n\t\t\t\tthat.children = that.container[0] === window ? $(document.body) : that.container.children();\n\t\t\t\tthat.container.scroll(function(){\n\t\t\t\t\tthat.resize();\n\t\t\t\t}).resize(function(){\n\t\t\t\t\tthat.resize();\n\t\t\t\t});\n\t\t\t}\n\t    }\n\t    \n\t    Paging.options = {};\n\t    Paging.config = function(options){\n\t    \t$.extend(true, Paging.options, options||{})\n\t    }\n\t\n\t    Paging.prototype = {\n\t        constructor:Paging,\n\t        //页面跳转\n\t        jump:function(page){\n\t            var that = this, count = Math.ceil(that.aCount/that.pCount), current;\n\t            that.showload = true;\n\t            if(that.aCount > 0){\n\t                if(typeof(page) === 'object'){\n\t                    var val = $(page).prevAll('input').val();\n\t                    if(val <= count && val != that.current){\n\t                        current = parseInt(val);\n\t                    }\n\t                    else{\n\t                        current = that.current;\n\t                    }\n\t                }\n\t                else if(page > 0 && page <= count){\n\t                    current = page;\n\t                }\n\t                else if(page < 0){\n\t                    current = count + page + 1;\n\t                }\n\t                else{\n\t                    current = count;\n\t                }\n\t            }\n\t            else{\n\t                current = page;\n\t            }\n\t            that.current = that.condition.current = current;\n\t            that.jumpCallback(current);\n\t            if(typeof that.refreshCallback === 'function'){\n\t                that.refreshCallback(current);\n\t                that.create();\n\t                return;\n\t            }\n\t            that.getData('jump');\n\t        },\n\t        query:function(type){\n\t            var that = this;\n\t            that.showload = true;\n\t            that.load = false;\n\t            if(typeof that.refreshCallback !== 'function' || type !== 'refresh'){\n\t                if(type){\n\t                    if(type === 'noloading'){\n\t                        that.showload = false;\n\t                    }\n\t                    else if(type !== 'reload'){\n\t                        that.current = 1;\n\t                    }\n\t                    that.filter();\n\t                    that.condition.current = that.current;\n\t                }\n\t                else{\n\t                    that.condition = {current:that.current = 1};\n\t                }\n\t                that.getData(type||'');\n\t            }\n\t            else{\n\t                that.create();\n\t            }\n\t            \n\t        },\n\t        filter:function(){\n\t            var that = this;\n\t            for(var i in that.condition){\n\t                if(!that.condition[i]){\n\t                    delete that.condition[i];\n\t                }\n\t            }\n\t        },\n\t        //ajax请求数据\n\t        getData:function(type){\n\t            var that = this;\n\t            //that.showload && that.loading.show(type);\n\t            that.condition.pCount = that.pCount;\n\t            if(that.allData === true){\n\t                delete that.condition.pCount;\n\t                delete that.condition.current;\n\t            }\n\t            var param = that.condition;\n\t            if(that.paramJSON){\n\t                param = [];\n\t                $.each(that.condition, function(key, val){\n\t                    param.push(key+':'+val);\n\t                });\n\t                var temp = param.length ? '{'+param.join(',')+'}' : '';\n\t                param = {};\n\t                param[that.paramJSON] = temp;\n\t            }\n\t            \n\t            var ajax = typeof that.ajax === 'function' ? that.ajax() : that.ajax;\n\t            delete ajax.success;\n\t\n\t            if(!that.load){\n\t            \tthat.load = true;\n\t            \trequest($.extend({}, true, {\n\t                    url:that.url,\n\t                    data:param,\n\t                    success:function(data){\n\t                        //that.showload && that.loading.hide();\n\t                        try{\n\t                            data.current = that.current;\n\t                        }\n\t                        catch(e){}\n\t                        var stop = 0, index;\n\t                        if(that.container[0] !== window && type !== 'reload' && type !== 'noloading' && (type !== 'jump' || (type === 'jump' && !that.scroll.enable))){\n\t                        \tthat.container.scrollTop(0)\n\t                        \tthat.container.scrollLeft(0)\n\t                        }\n\t                        if(type === 'reload'){\n\t                            var box = that.container;\n\t                            if(that.selector){\n\t                                box = that.container.find(that.selector);\n\t                                stop = box.scrollTop()\n\t                            }\n\t                            else{\n\t                                stop = box.scrollTop()\n\t                            }\n\t                            index = box.find('tr.rows.s-crt').index();\n\t                        }\n\t                        that.echoData(data, type);\n\t\n\t                        that.aCount = data.aCount;\n\t                        that.load = false;\n\t\t\t\t\t\t\tif(that.scroll.enable === true){\n\t\t\t\t\t\t\t\tthat.resize();\n\t\t\t\t\t\t\t}\n\t                        resize();\n\t                        if(stop > 0){\n\t                            var box = that.container;\n\t                            if(that.selector){\n\t                                box = that.container.find(that.selector);\n\t                                box.scrollTop(stop)\n\t                            }\n\t                            else{\n\t                                box.scrollTop(stop)\n\t                            }\n\t                            if(index >= 0){\n\t                                box.find('tr.rows').eq(index).addClass('s-crt');\n\t                            }\n\t                        }\n\t                        if(that.last === true){\n\t                            that.last = false;\n\t                            that.jump(-1);\n\t                            return;\n\t                        }\n\t                        that.create();\n\t                        that.endCallback(data);\n\t                    },\n\t                    error:function(){\n\t                        that.showload && that.loading.hide();\n\t                        that.load = false;\n\t                    }\n\t                }, ajax||{}));\n\t            }\n\t        },\n\t        //过滤分页中input值\n\t        trim:function(o){\n\t            var val = Math.abs(parseInt($(o).val()));\n\t            !val && (val = 1);\n\t            $(o).val(val);\n\t        },\n\t        echoList:function(html, i, instance){\n\t            var that = this;\n\t            if(that.current == i){\n\t                html = '<li><span class=\"s-crt\">'+ i +'</span></li>';\n\t            }\n\t            else{\n\t                html = '<li><a href=\"javascript:'+ instance +'.jump('+ i +');\" target=\"_self\">'+ i +'</a></li>';\n\t            }\n\t            return html;\n\t        },\n\t\t\tresize:function(){\n\t\t\t\tvar that = this;\n\t\t\t\ttry{\n\t\t\t\t\tvar stop = that.container.scrollTop();\n\t\t\t\t\tvar height = that.container.height();\n\t\t\t\t\tvar cheight = that.children.outerHeight();\n\t\t\t\t\tif(!that.load && Math.ceil(that.aCount/that.pCount) > that.current && ((stop === 0 && cheight <= height) || (height + stop >= cheight))){\n\t\t\t\t\t\tthat.jump(++that.current);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch(e){\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t        //创建分页骨架\n\t        create:function(){\n\t            var that = this, button = that.button,\n\t                count = Math.ceil(that.aCount/that.pCount), current = that.current,\n\t                html = '', next = count == current ? 1 : current+1,\n\t                instance = that.instance(), extPage = that.extPage;\n\t\n\t            if(extPage.wrap){\n\t                var page = '<div>';\n\t                page += current == count || count == 0 ?\n\t                     '<span>'+ extPage.next +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ extPage.next +'</a>';\n\t                page += current == 1 ?\n\t                     '<span>'+ extPage.prev +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ extPage.prev +'</a>';\n\t                page += '</div><em>'+ (count !== 0 ? current : 0) +'/'+ count +'</em><strong>共'+ that.aCount + extPage.desc +'</strong>';\n\t                extPage.wrap.html(page);\n\t            }\n\t            \n\t            if(!that.wrap){\n\t                return;\n\t            }\n\t            \n\t            if(!count){\n\t                that.wrap.empty();\n\t                return;\n\t            }\n\t\n\t            html += (function(){\n\t                var tpl = '';\n\t                if(current == 1){\n\t                    if(button.first){\n\t                        tpl += '<li><span>'+ button.first +'</span></li>';\n\t                    }\n\t                    tpl += '<li><span>'+ button.prev +'</span></li>';\n\t                }\n\t                else{\n\t                    if(that.button.first){\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">'+ button.first +'</a></li>';\n\t                    }\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ button.prev +'</a></li>';\n\t                }\n\t                return tpl;\n\t            })();\n\t            if(count <= 7){\n\t                for(var i = 1; i <= count; i++){\n\t                    html += that.echoList(html, i, instance);\n\t                }\n\t            }\n\t            else{\n\t                if(current-3 > 1 && current+3 < count){\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\n\t                    html += '<li><em>...</em></li>';\n\t                    for(var i = current-2; i <= current+2; i++){\n\t                        html += that.echoList(html, i, instance);\n\t                    }\n\t                    html += '<li><em>...</em></li>';\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\n\t                }\n\t                else if(current-3 <= 1 && current+3 < count){\n\t                    for(var i = 1; i <= 5; i++){\n\t                        html += that.echoList(html, i, instance);\n\t                    }\n\t                    html += '<li><em>...</em></li>';\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\n\t                }\n\t                else if(current-3 > 1 && current+3 >= count){\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\n\t                    html += '<li><em>...</em></li>';\n\t                    for(var i = count-5; i <= count; i++){\n\t                        html += that.echoList(html, i, instance);\n\t                    }\n\t                }\n\t            }\n\t            html += (function(){\n\t                var tpl = '';\n\t                if(current == count){\n\t                    tpl += '<li><span>'+ button.next +'</span></li>';\n\t                    if(button.last){\n\t                        tpl += '<li><span>'+ button.last +'</span></li>';\n\t                    }\n\t                }\n\t                else{\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ button.next +'</a></li>';\n\t                    if(button.last){\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ button.last +'</a></li>';\n\t                    }\n\t                }\n\t                return tpl;\n\t            })();\n\t            if(that.isFull){\n\t                html += '<li><em>跳转到第</em><input type=\"text\" onblur=\"'+ instance +'.trim(this);\" value=\"'+ next +'\" /><em>页</em><button type=\"button\" onclick=\"'+ instance +'.jump(this);\">确定</button></li>';\n\t            }\n\t            html = '<ul class=\"ui-paging\">' + html + '</ul>';\n\t            that.wrap.html(html);\n\t        }\n\t    }\n\t    \n\t    $.extend({\n\t        paging:function(name, options){\n\t            if(options === undefined){\n\t                options = name;\n\t                name = 'paging';\n\t            }\n\t            var page = window[name] = new Paging(options);\n\t            if(typeof window[name].refreshCallback !== 'function'){\n\t                page.query(true);\n\t                return page;\n\t            }\n\t            page.query('refresh');\n\t            return page\n\t        }\n\t    });\n\t    \n\t    window.Paging = Paging;\n\t    \n\t})(window, document, jQuery);\n});\nNui.define('src/components/datagrid',['component'], function(component){\r\n    var module = this;\r\n    module.require('src/paging');\r\n    \r\n    var scrollBarWidth = (function(){\r\n        var oldWidth, newWidth, div = document.createElement('div');\r\n        div.style.cssText = 'position:absolute; top:-10000em; left:-10000em; width:100px; height:100px; overflow:hidden;';\r\n        oldWidth = document.body.appendChild(div).clientWidth;\r\n        div.style.overflowY = 'scroll';\r\n        newWidth = div.clientWidth;\r\n        document.body.removeChild(div);\r\n        return oldWidth - newWidth;\r\n    })()\r\n\r\n    return module.extend(component, {\r\n        static:{\r\n            _init:function(){\r\n                var self = this;\r\n                Nui.doc.on('click', function(){\r\n                    Nui.each(self.__instances, function(val){\r\n                        if(val.options.isActive === true){\r\n                            val.element.find('.datagrid-tbody table-row.s-crt').removeClass('s-crt');\r\n                        }\r\n                    })\r\n                });\r\n\r\n                var timer = null;\r\n                Nui.win.on('resize', function(){\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function(){\r\n                        self._resize()\r\n                    }, 100)\r\n                })\r\n            },\r\n            _resize:function(){\r\n                Nui.each(this.__instances, function(val){\r\n                    val._theadHeight();\r\n                    val._resetHeight()\r\n                })\r\n            },\r\n            _hasChildren:function(value){\r\n                return Nui.isArray(value.children) && value.children.length\r\n            },\r\n            //获取表格标题行数\r\n            _getRowNumber:function(array, index, arr, id, parent){\r\n                var self = this;\r\n                if(!arr[index]){\r\n                    arr[index] = true;\r\n                }\r\n\r\n                if(id === undefined){\r\n                    id = 0;\r\n                }\r\n                \r\n                Nui.each(array, function(v){\r\n                    v['cellid'] = id++;\r\n                    var order = v.order;\r\n                    if(order === true){\r\n                        order = 'desc'\r\n                    }\r\n                    if(order === 'asc' || order === 'desc'){\r\n                        v.order = {};\r\n                        v.order[order] = 1;\r\n                    }\r\n                    if(v.order && !v.order.field){\r\n                        v.order.field = v.field\r\n                    }\r\n\r\n                    if(parent && parent.fixed){\r\n                        v.fixed = parent.fixed\r\n                    }\r\n\r\n                    if(self._hasChildren(v)){\r\n                        id = self._getRowNumber(v.children, index+1, arr, id, v)\r\n                    }\r\n                })\r\n\r\n                if(parent){\r\n                    return id\r\n                }\r\n\r\n                return arr.length\r\n            },\r\n            //获取合并单元格数\r\n            _colspan:function(array, count){\r\n                var self = this;\r\n                if(count === undefined){\r\n                    count = 0\r\n                }\r\n                Nui.each(array, function(v){\r\n                    if(self._hasChildren(v)){\r\n                        count += self._colspan(v.children, count)\r\n                    }\r\n                    else{\r\n                        count += 1\r\n                    }\r\n                })\r\n                return count\r\n            }\r\n        },\r\n        options:{\r\n            data:null,\r\n            columns:null,\r\n            isFixed:true,\r\n            isLine:false,\r\n            isActive:true,\r\n            isBorder:true,\r\n            url:null,\r\n            paging:null,\r\n            fields:null,\r\n            dataName:'list',\r\n            width:'100%',\r\n            height:'auto',\r\n            footer:'',\r\n\r\n            onFocusin:null,\r\n            onFocusout:null,\r\n            onFocus:null,\r\n            onBlur:null,\r\n\r\n            stringify:null,\r\n            onRowClick:null,\r\n            onRowDblclick:null,\r\n            onCheckboxChange:null,\r\n            onRender:null\r\n        },\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\">'+\r\n                    '<div class=\"datagrid-body\">'+\r\n                        '<%include \"table\"%>'+\r\n                    '</div>'+\r\n                    '<%if footer || paging%>'+\r\n                    '<div class=\"datagrid-foot\">'+\r\n                        '<%if footer%>'+\r\n                        '<%footer%>'+\r\n                        '<%/if%>'+\r\n                        '<%if paging%>'+\r\n                        '<div class=\"datagrid-paging\"></div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '</div>',\r\n            table:\r\n                '<%each rows v k%>'+\r\n                    '<%if v.length%>'+\r\n                    '<div class=\"datagrid-table<%if k === \"left\" || k === \"right\"%> datagrid-table-fixed<%/if%> datagrid-table-<%k%>\">'+\r\n                        '<div class=\"datagrid-title\">'+\r\n                            '<div class=\"datagrid-thead\">'+\r\n                            '<table class=\"ui-table\">'+\r\n                                '<thead class=\"table-thead\">'+\r\n                                    '<%each v%>'+\r\n                                    '<tr class=\"table-row\">'+\r\n                                        '<%each $value val%>'+\r\n                                        '<th class=\"table-cell\"<%include \"attr\"%>>'+\r\n                                            '<span class=\"cell-text\">'+\r\n                                            '<%if val.content === \"checkbox\"%>'+\r\n                                            '<span class=\"ui-checkradio\">'+\r\n                                            '<input type=\"checkbox\" name=\"datagrid-checkbox\">'+\r\n                                            '</span>'+\r\n                                            '<%else%>'+\r\n                                            '<%val.title%>'+\r\n                                            '<%if typeof val.order === \"object\"%>'+\r\n                                            '<%var asc = Nui.type(val.order.asc, [\"String\", \"Number\"]), desc = Nui.type(val.order.desc, [\"String\", \"Number\"])%>'+\r\n                                            '<em class=\"datagrid-order<%if asc && desc%> datagrid-order-both<%/if%>\" field=\"<%val.order.field%>\">'+\r\n                                            '<%if asc%>'+\r\n                                            '<b class=\"datagrid-order-asc\" type=\"asc\" value=\"<%val.order.asc%>\"><i></i><s></s></b>'+\r\n                                            '<%/if%>'+\r\n                                            '<%if desc%>'+\r\n                                            '<b class=\"datagrid-order-desc\" value=\"<%val.order.desc%>\"><i></i><s></s></b>'+\r\n                                            '<%/if%>'+\r\n                                            '</em>'+\r\n                                            '<%/if%>'+\r\n                                            '<%/if%>'+\r\n                                            '</span>'+\r\n                                        '</th>'+\r\n                                        '<%/each%>'+\r\n                                    '</tr>'+\r\n                                    '<%/each%>'+\r\n                                '</thead>'+\r\n                                '<%if isFixed !== true%>'+\r\n                                '<tbody class=\"table-tbody datagrid-inner\"></tbody>'+\r\n                                '<%/if%>'+\r\n                            '</table>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if isFixed === true%>'+\r\n                        '<div class=\"datagrid-inner\"></div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '<%/each%>',\r\n            tbody:\r\n                '<%if isFixed === true%>'+\r\n                '<div class=\"datagrid-tbody\">'+\r\n                    '<table class=\"ui-table\">'+\r\n                        '<tbody class=\"table-tbody\">'+\r\n                        '<%include \"rows\"%>'+\r\n                        '</tbody>'+\r\n                    '</table>'+\r\n                '</div>'+\r\n                '<%else%>'+\r\n                '<%include \"rows\"%>'+\r\n                '<%/if%>',\r\n            rows:\r\n                '<%if list && list.length%>'+\r\n                '<%var toLower = function(str){'+\r\n                    'return str.replace(/([A-Z])/g, function(a){'+\r\n                        'return \"-\"+a.toLowerCase()'+\r\n                    '})'+\r\n                '}%>'+\r\n                '<%each list%>'+\r\n                '<tr class=\"table-row\" data-row-index=\"<%$index%>\"<%include \"data\"%>>'+\r\n                    '<%each cols val key%>'+\r\n                    '<%var _value%>'+\r\n                    '<%if val.field && (!val.content || \"number checkbox input\".indexOf(val.content)===-1)%>'+\r\n                    '<%var _value=$value[val.field]%>'+\r\n                    '<%elseif val.content === \"number\"%>'+\r\n                    '<%var _value=$index+1%>'+\r\n                    '<%elseif val.content === \"checkbox\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-checkbox\", \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%elseif val.content === \"input\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-input\", \"class\":\"datagrid-input\", \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%else%>'+\r\n                    '<%var _value=val.content%>'+\r\n                    '<%/if%>'+\r\n                    '<td class=\"table-cell\"<%include \"attr\"%>>'+\r\n                        '<span class=\"cell-text<%if val.nowrap === true%> cell-nowrap<%/if%>\">'+\r\n                        '<%if typeof val.filter === \"function\"%>'+\r\n                        '<%var _value = val.filter(_value, val.field, $value)%>'+\r\n                        '<%/if%>'+\r\n                        '<%if val.content === \"checkbox\" && typeof _value === \"object\"%>'+\r\n                        '<span class=\"checkradio\">'+\r\n                        '<input type=\"checkbox\"<%include \"_attr\"%>>'+\r\n                        '</span>'+\r\n                        '<%elseif val.content === \"input\" && typeof _value === \"object\"%>'+\r\n                        '<input type=\"text\" autocomplete=\"off\"<%include \"_attr\"%>>'+\r\n                        '<%else%>'+\r\n                        '<%_value%>'+\r\n                        '<%/if%>'+\r\n                        '</span>'+\r\n                    '</td>'+\r\n                    '<%/each%>'+\r\n                '</tr>'+\r\n                '<%/each%>'+\r\n                '<%else%>'+\r\n                '<tr>'+\r\n                    '<td class=\"table-cell\">'+\r\n                        \r\n                    '</td>'+\r\n                '</tr>'+\r\n                '<%/if%>',\r\n            head:'',\r\n            foot:'',\r\n            _attr:\r\n                '<%each _value _v _k%>'+\r\n                ' <%_k%>=\"<%_v%>\"'+\r\n                '<%/each%>',\r\n            attr:\r\n                '<%each val value name%>'+\r\n                '<%if \"width field align valign colspan rowspan cellid\".indexOf(name) !== -1%>'+\r\n                ' <%name%>=\"<%value%>\"'+\r\n                '<%/if%>'+\r\n                '<%/each%>',\r\n            data:\r\n                '<%if fields%>'+\r\n                '<%each $value value field%>'+\r\n                '<%if fields === true || $.inArray(field, fields) !== -1%>'+\r\n                ' data-<%toLower(field)%>=<%if typeof stringify === \"function\"%><%stringify(value)%><%else%>\"<%value%>\"<%/if%>'+\r\n                '<%/if%>'+\r\n                '<%/each%>'+\r\n                '<%/if%>'\r\n        },\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self.options;\r\n            if(self._getTarget() && Nui.isArray(opts.columns) && opts.columns.length){\r\n                self._columns = {\r\n                    all:[],\r\n                    left:[],\r\n                    right:[]\r\n                }\r\n                Nui.each(opts.columns, function(v, k){\r\n                    if(v.fixed === 'left' || v.fixed === true){\r\n                        self._columns.left.push(v)\r\n                    }\r\n                    else if(v.fixed === 'right'){\r\n                        self._columns.right.push(v)\r\n                    }\r\n                    self._columns.all.push(v)\r\n                })\r\n                self._create()\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            self._rows = {};\r\n            self._cols = {};\r\n            self._rowNumber = _class._getRowNumber(opts.columns, 0, []);\r\n\r\n            Nui.each(self._columns, function(v, k){\r\n                self._setRowCol(v, k)\r\n            })\r\n\r\n            self._hasLeftRight = this._cols.left.length || this._cols.right.length;\r\nconsole.log(self._rows)\r\n            self.element = $(self._tpl2html('layout', self._tplData({\r\n                rows:self._rows,\r\n                isFixed:opts.isFixed,\r\n                paging:typeof opts.paging === 'object',\r\n                footer:opts.footer\r\n            }))).appendTo(self.target);\r\n\r\n            self._body = self.element.children('.datagrid-body');\r\n            self._tableAll = self._body.children('.datagrid-table-all');\r\n            self._tableAllInner = self._tableAll.children('.datagrid-inner');\r\n            self._tableAllTitle = self._tableAll.children('.datagrid-title');\r\n            self._tableAllThead = self._tableAllTitle.children('.datagrid-thead');\r\n            self._tableLeft = self._body.children('.datagrid-table-left');\r\n            self._tableRight = self._body.children('.datagrid-table-right');\r\n            self._tableFixed = self._body.children('.datagrid-table-fixed');\r\n            self._tableFixedInner = self._tableFixed.children('.datagrid-inner');\r\n            self._foot = self.element.children('.datagrid-foot');\r\n\r\n            self._theadHeight();\r\n            self._initList();\r\n            self._bindEvent();\r\n        },\r\n        _initList:function(){\r\n            var self = this, opts = self.options;\r\n            if(opts.paging){\r\n                opts.paging.wrap = self._foot.children('.datagrid-paging');\r\n                var pagingId = 'paging_'+self.__id;\r\n                var echoData = opts.paging.echoData;\r\n                opts.paging.echoData = function(data, type){\r\n                    self._list = data[opts.dataName] || [];\r\n                    self._render();\r\n                    if(typeof echoData === 'function'){\r\n                        echoData.call(opts.paging, data, type)\r\n                    }\r\n                }\r\n                self.paging = $.paging(pagingId, opts.paging);\r\n            }\r\n            else if(opts.data){\r\n                self._list = opts.data;\r\n                self._render();\r\n            }\r\n        },\r\n        _bindEvent:function(){\r\n            var self = this;\r\n            self._on('scroll', self._tableAllInner, function(){\r\n                self._scroll($(this))\r\n            })\r\n            self._event()\r\n        },\r\n        _render:function(){\r\n            var self = this, opts = self.options;\r\n            Nui.each(self._cols, function(v, k){\r\n                self.element.find('.datagrid-table-'+k+' > .datagrid-inner').html(self._tpl2html('tbody', {\r\n                    isFixed:opts.isFixed,\r\n                    cols:v,\r\n                    fields:opts.fields ? (opts.fields === true ? opts.fields : [].concat(opts.fields)) : null,\r\n                    list:self._list,\r\n                    stringify:opts.stringify\r\n                }))\r\n            })\r\n            self._resetHeight();\r\n            if(typeof opts.onRender === 'function'){\r\n                opts.onRender.call(self)\r\n            }\r\n        },\r\n        _resetHeight:function(){\r\n            var self = this, opts = self.options;\r\n            self._rowHeight();\r\n            if(opts.isFixed === true){\r\n                var conntailerHeight = self.target.innerHeight();\r\n                var tbody = self._tableAllInner.children('.datagrid-tbody');\r\n                var height = conntailerHeight - self._tableAllTitle.outerHeight() - self._foot.outerHeight();\r\n\r\n                self._tableAll.find('.datagrid-thead > .ui-table').width(opts.width);\r\n                self._tableAll.find('.datagrid-tbody > .ui-table').width(opts.width);\r\n\r\n                if(tbody.children().width() > self._tableAllInner.width()){\r\n                    self._tableFixedInner.height(height - scrollBarWidth);\r\n                }\r\n                else{\r\n                    self._tableFixedInner.height(height);\r\n                }\r\n                self._tableAllInner.height(height);\r\n                \r\n                var width = self._tableAllInner.innerHeight() >= tbody.outerHeight() ? 0 : scrollBarWidth;\r\n                self._tableAllTitle.css({'margin-right':width});\r\n\r\n                self._tableRight.css('right', width)\r\n            }\r\n        },\r\n        _theadHeight:function(){\r\n            var self = this, _class = self.constructor;\r\n            if(self._hasLeftRight){\r\n                self._tableFixed.find('.table-thead .table-cell').each(function(i){\r\n                    var item = $(this), cellid = item.attr('cellid');\r\n                    var elem = self._tableAllThead.find('.table-cell[cellid=\"'+ cellid +'\"]');\r\n                    var height = elem.height();\r\n                    var _height = item.height(height).height() - height;\r\n                    item.height(height - _height);\r\n                })\r\n            }\r\n        },\r\n        _rowHeight:function(){\r\n            var self = this;\r\n            if(self._hasLeftRight){\r\n                var LeftRow = self._tableLeft.find('.table-tbody .table-row');\r\n                var RightRow = self._tableLeft.find('.table-tbody .table-row');\r\n\r\n                self._tableAll.find('.table-tbody .table-row').each(function(i){\r\n                    var height = $(this).outerHeight();\r\n                    LeftRow.eq(i).height(height);\r\n                    RightRow.eq(i).height(height);\r\n                })\r\n            }\r\n        },\r\n        _setRowCol:function(array, type, row){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            if(row === undefined){\r\n                row = 0;\r\n            }\r\n\r\n            if(!self._rows[type]){\r\n                self._rows[type] = []\r\n            }\r\n\r\n            if(!self._cols[type]){\r\n                self._cols[type] = []\r\n            }\r\n\r\n            if(array.length && !self._rows[type][row]){\r\n                self._rows[type][row] = []\r\n            }\r\n\r\n            Nui.each(array, function(v){\r\n                var hasChild = _class._hasChildren(v);\r\n                var data = {};\r\n\r\n                if(hasChild){\r\n                    data.colspan = _class._colspan(v.children);\r\n                    self._setRowCol(v.children, type, row + 1)\r\n                }\r\n\r\n                Nui.each(v, function(val, key){\r\n                    if(key !== 'children' && typeof val !== 'function'){\r\n                        data[key] = val\r\n                    }\r\n                })\r\n\r\n                if(!hasChild){\r\n                    data.rowspan = self._rowNumber - row;\r\n                    self._cols[type].push(v)\r\n                }\r\n\r\n                self._rows[type][row].push(data)\r\n            })\r\n        },\r\n        _callback:function(){\r\n            var args = arguments;\r\n            var type = args[0];\r\n            var callback = this.options['on'+type];\r\n            if(typeof callback === 'function'){\r\n                return callback.apply(this, Array.prototype.slice.call(args, 1))\r\n            }\r\n        },\r\n        _events:{\r\n            'click .table-tbody .table-row':'_active _getRowData _rowclick',\r\n            'mouseover .table-tbody .table-row':function(e, elem){\r\n                this.element.find('.datagrid-tbody .table-row[data-row-index=\"'+ elem.index() +'\"]').addClass('s-hover')\r\n            },\r\n            'mouseout .table-tbody .table-row':function(e, elem){\r\n                this.element.find('.datagrid-tbody .table-row[data-row-index=\"'+ elem.index() +'\"]').removeClass('s-hover')\r\n            },\r\n            'dblclick .table-tbody .table-row':'_getRowData _rowdblclick',\r\n            'focus .datagrid-input':'_enable _getRowData _focus',\r\n            'blur .datagrid-input':'_enable _getRowData _blur',\r\n            'focusin .table-tbody .table-cell':'_focusin',\r\n            'focusout .table-tbody .table-cell':'_focusout',\r\n            'click .datagrid-order > b':'_order'\r\n        },\r\n        _order:function(e, elem){\r\n            elem.toggleClass('s-crt');\r\n            elem.siblings().removeClass('s-crt');\r\n            var parent = elem.parent();\r\n            var field = parent.attr('field');\r\n            var value = parent.children('b.s-crt').attr('value');\r\n            if(this.paging){\r\n                this.paging.condition[field] = value;\r\n                this.paging.query(true)\r\n            }\r\n        },\r\n        _enable:function(e, elem){\r\n            return !elem.hasClass('s-dis') && !elem.hasClass('s-disabled')\r\n        },\r\n        _active:function(e, elem){\r\n            var self = this;\r\n            if(self.options.isActive === true){\r\n                self.element.find('.datagrid-tbody .table-row[data-row-index=\"'+ elem.index() +'\"]').addClass('s-crt').siblings().removeClass('s-crt');\r\n                Nui.each(self.__instances, function(val){\r\n                    if(val !== self && val.options.isActive === true){\r\n                        val.element.find('.datagrid-tbody table-row.s-crt').removeClass('s-crt');\r\n                    }\r\n                })\r\n                e.stopPropagation();\r\n            }\r\n        },\r\n        _getRowData:function(e, elem){\r\n            if(elem.hasClass('table-row')){\r\n                return elem.data()\r\n            }\r\n            return elem.closest('.table-row').data()\r\n        },\r\n        _focusin:function(e, elem, data){\r\n            return this._callback('Focusin', e, elem, data)\r\n        },\r\n        _focusout:function(e, elem, data){\r\n            return this._callback('Focusout', e, elem, data)\r\n        },\r\n        _rowclick:function(e, elem, data){\r\n            return this._callback('RowClick', e, elem, data)\r\n        },\r\n        _rowdblclick:function(e, elem, data){\r\n            return this._callback('RowDblclick', e, elem, data)\r\n        },\r\n        _scroll:function(elem){\r\n            var self = this;\r\n            var scrollTop = elem.scrollTop();\r\n            var scrollLeft = elem.scrollLeft();\r\n            self._tableFixedInner.scrollTop(scrollTop);\r\n            self._tableAllThead.scrollLeft(scrollLeft);\r\n        },\r\n        resize:function(){\r\n            this._theadHeight();\r\n            this._resetHeight()\r\n        }\r\n    })\r\n})\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar datagrid = require('src/components/datagrid');\r\n\t\r\n\tvar a = datagrid({\r\n\t    target:'#data',\r\n\t    //isFixed:false,\r\n\t    //fields:true,\r\n\t    width:'110%',\r\n\t    paging:{\r\n\t        url:'http://127.0.0.1/data/'\r\n\t    },\r\n\t    footer:'11',\r\n\t    data:[{\r\n\t        id:'11111111',\r\n\t        prov:'安徽', \r\n\t        city:'蚌埠',\r\n\t        address:'安徽蚌',\r\n\t        job:'php工程师',\r\n\t        name:'阿牛'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        vC:{\r\n\t            a:1\r\n\t        },\r\n\t        a:[{\r\n\t            a:1\r\n\t        }],\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }],\r\n\t    columns:[{\r\n\t        title:'编号',\r\n\t        content:'number',\r\n\t        width:'40',\r\n\t        fixed:true\r\n\t    }, {\r\n\t        title:'ID',\r\n\t        field:'id',\r\n\t        width:'200',\r\n\t        order:{\r\n\t            desc:'1',\r\n\t            asc:'2'\r\n\t        },\r\n\t        select:[{\r\n\t            text:'',\r\n\t            value:''\r\n\t        }]\r\n\t    }, {\r\n\t        title:'期初余额',\r\n\t        field:'address',\r\n\t        width:'400',\r\n\t        children:[{\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            filter:function(val, field, data){\r\n\t                return ''\r\n\t            }\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true\r\n\t        }]\r\n\t    }, {\r\n\t        title:'姓名',\r\n\t        order:'desc',\r\n\t        field:'certificate',\r\n\t        content:'input',\r\n\t        width:200\r\n\t    }, {\r\n\t        title:'职业',\r\n\t        field:'buname'\r\n\t    }, {\r\n\t        title:'操作',\r\n\t        content:'<a class=\"datagrid-button\" on-click=\"alter\">修改</a> <a class=\"datagrid-button\" on-click=\"delete\">删除</a>',\r\n\t        width:150,\r\n\t        fixed:'right'\r\n\t    }],\r\n\t    onRowClick:function(e, elem, data){\r\n\t        //console.log(1)\r\n\t    },\r\n\t    onRowDblclick:function(e, elem, data){\r\n\t        //alert()\r\n\t    },\r\n\t    onRender:function(){\r\n\t        console.log(this)\r\n\t    }\r\n\t})\r\n\t\r\n\t$('h1').click(function(){\r\n\t    a.option('columns', [{\r\n\t        title:'编号1',\r\n\t        content:'number',\r\n\t        width:'40',\r\n\t        //fixed:true\r\n\t    }, {\r\n\t        title:'ID',\r\n\t        field:'id',\r\n\t        width:'200',\r\n\t        order:{\r\n\t            desc:'1',\r\n\t            asc:'2'\r\n\t        },\r\n\t        select:[{\r\n\t            text:'',\r\n\t            value:''\r\n\t        }]\r\n\t    }, {\r\n\t        title:'期初余额',\r\n\t        field:'address',\r\n\t        width:'400',\r\n\t        children:[{\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            filter:function(val, field, data){\r\n\t                return ''\r\n\t            }\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true\r\n\t        }]\r\n\t    }, {\r\n\t        title:'姓名',\r\n\t        order:'desc',\r\n\t        field:'certificate',\r\n\t        content:'input',\r\n\t        width:200\r\n\t    }, {\r\n\t        title:'职业',\r\n\t        field:'buname'\r\n\t    }, {\r\n\t        title:'操作',\r\n\t        content:'<a class=\"datagrid-button\" on-click=\"alter\">修改</a> <a class=\"datagrid-button\" on-click=\"delete\">删除</a>',\r\n\t        width:150,\r\n\t        fixed:'right'\r\n\t    }])\r\n\t})\n});\n"]}