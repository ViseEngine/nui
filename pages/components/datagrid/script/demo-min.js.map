{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","component","module","this","scrollBarWidth","oldWidth","newWidth","div","document","createElement","style","cssText","body","appendChild","clientWidth","overflowY","removeChild","extend","_static","_init","self","doc","on","e","isRow","$","target","closest","hasClass","each","__instances","val","_options","isActive","element","find","removeClass","timer","win","clearTimeout","setTimeout","_resize","height","_theadHeight","_resetHeight","_hasChildren","value","isArray","children","length","_getRowNumber","array","index","arr","id","parent","undefined","v","order","className","field","align","valign","trim","isEmptyObject","fixed","_colspan","count","container","data","columns","isFixed","isLine","isBorder","isPaging","url","paging","fields","dataField","width","footer","placeholder","onFocusin","onFocusout","onFocus","onBlur","stringify","onRowClick","onRowDblclick","onCheckboxChange","onRender","_template","layout","table","thead","rows","head","foot","_attr","attr","_exec","opts","_class","constructor","_container","_jquery","_columns","all","left","right","k","push","_create","_rows","_cols","_rowNumber","_setRowCol","_hasLeftRight","_bindComponentName","_tpl2html","_tplData","isPage","appendTo","_body","_tableAll","_tableAllInner","_tableAllBox","_tableAllTitle","_tableAllThead","_tableLeft","_tableRight","_tableFixed","_tableFixedInner","_tableFixedBox","_foot","_tableTbody","css","_initList","_bindEvent","wrap","pagingId","__id","echoData","type","_render","call","window","Paging","query","_on","_scroll","_event","_getData","split","html","cols","concat","checkradio","_checkradio","callback","elem","checked","prop","_rowHeight","conntailerHeight","outerHeight","_getSize","stop","scrollTop","innerHeight","fixedHeight","margin-right","i","item","cellid","_height","LeftRow","RightRow","eq","row","hasChild","colspan","key","rowspan","_callback","args","arguments","apply","Array","prototype","slice","_events","click .table-tbody .table-row","mouseover .table-tbody .table-row","addClass","mouseout .table-tbody .table-row","dblclick .table-tbody .table-row","focus .datagrid-input","blur .datagrid-input","focusin .table-tbody .table-cell","focusout .table-tbody .table-cell","click .datagrid-order > b","_order","toggleClass","siblings","condition","_enable","_active","_getRowData","_focus","_blur","_focusin","_focusout","_rowclick","_rowdblclick","scrollLeft","resize","require","imports","renders","fn","isPlainObject","o","switches","off","beforeCallback","noop","me","disabled","name","switchElem","is","insertBefore","position","top","opacity","wrapInner","click","ele","text","init","jQuery","options","that","load","instance","toString","paramJSON","pCount","current","aCount","last","allData","isFull","scroll","enable","ajax","loading","show","hide","append","remove","button","prev","next","first","extPage","desc","refreshCallback","endCallback","jumpCallback","request","op","dataType","config","jump","page","Math","ceil","showload","prevAll","parseInt","create","getData","filter","param","temp","join","success","box","selector","error","abs","echoList","cheight","empty","tpl","datagrid","a","content","title","nowrap","filed","console","log","option"],"mappings":"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","file":"demo-min.js.map?v=c391567","sourcesContent":["Nui.define('src/components/datagrid',['component'], function(component){\r\n    var module = this;\r\n    var scrollBarWidth = (function(){\r\n        var oldWidth, newWidth, div = document.createElement('div');\r\n        div.style.cssText = 'position:absolute; top:-10000em; left:-10000em; width:100px; height:100px; overflow:hidden;';\r\n        oldWidth = document.body.appendChild(div).clientWidth;\r\n        div.style.overflowY = 'scroll';\r\n        newWidth = div.clientWidth;\r\n        document.body.removeChild(div);\r\n        return oldWidth - newWidth;\r\n    })()\r\n\r\n    return module.extend(component, {\r\n        _static:{\r\n            _init:function(){\r\n                var self = this;\r\n                Nui.doc.on('click', function(e){\r\n                    var isRow = $(e.target).closest('tr').hasClass('table-row');\r\n                    Nui.each(self.__instances, function(val){\r\n                        if(!isRow && val._options.isActive === true){\r\n                            val.element.find('.datagrid-tbody .table-row.s-crt').removeClass('s-crt');\r\n                        }\r\n                    })\r\n                });\r\n\r\n                var timer = null;\r\n                Nui.win.on('resize', function(){\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function(){\r\n                        self._resize()\r\n                    }, 100)\r\n                })\r\n            },\r\n            _resize:function(){\r\n                Nui.each(this.__instances, function(val){\r\n                    if(val._options.height === '100%'){\r\n                        val._theadHeight();\r\n                        val._resetHeight()\r\n                    }\r\n                })\r\n            },\r\n            _hasChildren:function(value){\r\n                return Nui.isArray(value.children) && value.children.length\r\n            },\r\n            //获取表格标题行数\r\n            _getRowNumber:function(array, index, arr, id, parent){\r\n                var self = this;\r\n                if(!arr[index]){\r\n                    arr[index] = true;\r\n                }\r\n\r\n                if(id === undefined){\r\n                    id = 0;\r\n                }\r\n                \r\n                Nui.each(array, function(v){\r\n                    v['cellid'] = id++;\r\n                    var order = v.order;\r\n                    var className = v.className;\r\n                    if(order === true){\r\n                        order = 'desc'\r\n                    }\r\n                    if(order === 'asc' || order === 'desc'){\r\n                        v.order = {};\r\n                        v.order[order] = 1;\r\n                    }\r\n                    if(v.order && !v.order.field){\r\n                        v.order.field = v.field\r\n                    }\r\n\r\n                    if(!v.style){\r\n                        v.style = {};\r\n                    }\r\n                    \r\n                    if(v.align){\r\n                        v.style['text-align'] = v.align;\r\n                    }\r\n\r\n                    if(v.valign){\r\n                        v.style['vertical-align'] = v.valign;\r\n                    }\r\n\r\n                    if(!className){\r\n                        className = '';\r\n                    }\r\n\r\n                    if(className){\r\n                        className = ' ' + Nui.trim(className);\r\n                    }\r\n\r\n                    v.className = className;\r\n\r\n                    if($.isEmptyObject(v.style)){\r\n                        delete v.style\r\n                    }\r\n\r\n                    if(parent && parent.fixed){\r\n                        v.fixed = parent.fixed\r\n                    }\r\n\r\n                    if(self._hasChildren(v)){\r\n                        id = self._getRowNumber(v.children, index+1, arr, id, v)\r\n                    }\r\n                })\r\n\r\n                if(parent){\r\n                    return id\r\n                }\r\n\r\n                return arr.length\r\n            },\r\n            //获取合并单元格数\r\n            _colspan:function(array, count){\r\n                var self = this;\r\n                if(count === undefined){\r\n                    count = 0\r\n                }\r\n                Nui.each(array, function(v){\r\n                    if(self._hasChildren(v)){\r\n                        count += self._colspan(v.children)\r\n                    }\r\n                    else{\r\n                        count += 1\r\n                    }\r\n                })\r\n                return count\r\n            }\r\n        },\r\n        _options:{\r\n            container:null,\r\n            data:null,\r\n            columns:null,\r\n            isFixed:true,\r\n            isLine:false,\r\n            isActive:true,\r\n            isBorder:true,\r\n            //初始化时是否调用分页\r\n            isPaging:true,\r\n            url:null,\r\n            //分页配置\r\n            paging:null,\r\n            fields:null,\r\n            dataField:'list',\r\n            width:'100%',\r\n            height:'100%',\r\n            footer:'',\r\n            placeholder:'',\r\n\r\n            onFocusin:null,\r\n            onFocusout:null,\r\n            onFocus:null,\r\n            onBlur:null,\r\n\r\n            stringify:null,\r\n            onRowClick:null,\r\n            onRowDblclick:null,\r\n            onCheckboxChange:null,\r\n            onRender:null\r\n        },\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\">'+\r\n                    '<div class=\"datagrid-body\">'+\r\n                        '<%include \"table\"%>'+\r\n                    '</div>'+\r\n                    '<%if footer || paging%>'+\r\n                    '<div class=\"datagrid-foot\">'+\r\n                        '<%if footer%>'+\r\n                        '<%footer%>'+\r\n                        '<%/if%>'+\r\n                        '<%if paging%>'+\r\n                        '<div class=\"datagrid-paging\"></div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '</div>',\r\n            table:\r\n                '<%each rows v k%>'+\r\n                    '<%if v.length%>'+\r\n                    '<div class=\"datagrid-table<%if k === \"left\" || k === \"right\"%> datagrid-table-fixed<%/if%> datagrid-table-<%k%>\">'+\r\n                        '<%if !isFixed%>'+\r\n                            '<div class=\"datagrid-box\">'+\r\n                            '<table class=\"ui-table<%if !isBorder%> ui-table-nobd<%/if%>\">'+\r\n                                '<%include \"thead\"%>'+\r\n                                '<tbody class=\"table-tbody datagrid-tbody\"></tbody>'+\r\n                            '</table>'+\r\n                            '</div>'+\r\n                        '<%else%>'+\r\n                            '<div class=\"datagrid-title\">'+\r\n                                '<div class=\"datagrid-thead\">'+\r\n                                '<table class=\"ui-table<%if !isBorder%> ui-table-nobd<%/if%>\">'+\r\n                                    '<%include \"thead\"%>'+\r\n                                '</table>'+\r\n                                '</div>'+\r\n                            '</div>'+\r\n                            '<div class=\"datagrid-inner\">'+\r\n                                '<div class=\"datagrid-box\">'+\r\n                                    '<table class=\"ui-table<%if !isBorder%> ui-table-nobd<%/if%>\">'+\r\n                                    '<tbody class=\"table-tbody datagrid-tbody\"></tbody>'+\r\n                                    '</table>'+\r\n                                '</div>'+\r\n                            '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '<%/each%>',\r\n            thead:\r\n                '<thead class=\"table-thead\">'+\r\n                    '<%each v%>'+\r\n                    '<tr class=\"table-row\">'+\r\n                        '<%var cellLastIndex = $value.length-1%>'+\r\n                        '<%each $value val key%>'+\r\n                        '<%var isTitle = true%>'+\r\n                        '<th class=\"table-cell<%val.className%> table-cell-<%key%><%if cellLastIndex === key%> table-cell-last<%/if%>\"<%include \"attr\"%>>'+\r\n                            '<span class=\"cell-text\">'+\r\n                            '<%if val.title%>'+\r\n                            '<%val.title%>'+\r\n                            '<%if typeof val.order === \"object\"%>'+\r\n                            '<%var asc = Nui.type(val.order.asc, [\"String\", \"Number\"]), desc = Nui.type(val.order.desc, [\"String\", \"Number\"])%>'+\r\n                            '<em class=\"datagrid-order<%if asc && desc%> datagrid-order-both<%/if%>\" field=\"<%val.order.field%>\">'+\r\n                            '<%if asc%>'+\r\n                            '<b class=\"datagrid-order-asc\" type=\"asc\" value=\"<%val.order.asc%>\"><i></i><s></s></b>'+\r\n                            '<%/if%>'+\r\n                            '<%if desc%>'+\r\n                            '<b class=\"datagrid-order-desc\" value=\"<%val.order.desc%>\"><i></i><s></s></b>'+\r\n                            '<%/if%>'+\r\n                            '</em>'+\r\n                            '<%/if%>'+\r\n                            '<%elseif val.content === \"checkbox\"%>'+\r\n                            '<span class=\"ui-checkradio\">'+\r\n                            '<input type=\"checkbox\" name=\"datagrid-checkbox-all\" class=\"datagrid-checkbox datagrid-checkbox-choose\">'+\r\n                            '</span>'+\r\n                            '<%/if%>'+\r\n                            '</span>'+\r\n                        '</th>'+\r\n                        '<%/each%>'+\r\n                    '</tr>'+\r\n                    '<%/each%>'+\r\n                '</thead>',\r\n            rows:\r\n                '<%if data && data.length%>'+\r\n                '<%var toLower = function(str){'+\r\n                    'return str.replace(/([A-Z])/g, function(a){'+\r\n                        'return \"-\"+a.toLowerCase()'+\r\n                    '})'+\r\n                '}%>'+\r\n                '<%each data%>'+\r\n                '<tr class=\"table-row table-row-<%$index%>\" row-index=\"<%$index%>\"<%include \"data\"%>>'+\r\n                    '<%var colLastIndex = cols.length-1%>'+\r\n                    '<%each cols val key%>'+\r\n                    '<%var _value%>'+\r\n                    '<%if val.field && (!val.content || \"number checkbox input\".indexOf(val.content)===-1)%>'+\r\n                    '<%var _value=$value[val.field]%>'+\r\n                    '<%elseif val.content === \"number\"%>'+\r\n                    '<%var _value=$index+1%>'+\r\n                    '<%elseif val.content === \"checkbox\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-checkbox\", \"class\":\"datagrid-checkbox\"+(!val.title ? \" datagrid-checkbox-choose\" : \"\"), \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%elseif val.content === \"input\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-input\", \"class\":\"datagrid-input\", \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%else%>'+\r\n                    '<%var _value=val.content%>'+\r\n                    '<%/if%>'+\r\n                    '<td class=\"table-cell<%val.className%> table-cell-<%key%><%if colLastIndex === key%> table-cell-last<%/if%>\"<%include \"attr\"%>>'+\r\n                        '<%if typeof val.filter === \"function\"%>'+\r\n                        '<%var _value = val.filter(_value, val.field, $value)%>'+\r\n                        '<%/if%>'+\r\n                        '<span class=\"cell-text'+\r\n                            '<%if val.nowrap === true%> cell-nowrap<%/if%>'+\r\n                            '<%if val.content === \"checkbox\"%> cell-text-checkbox<%/if%>'+\r\n                            '<%if val.content === \"input\"%> cell-text-input<%/if%>\"'+\r\n                            '<%if val.showtitle === true%> title=\"<%_value%>\"<%/if%>>'+\r\n                        '<%if val.content === \"checkbox\" && typeof _value === \"object\"%>'+\r\n                        '<span class=\"ui-checkradio\">'+\r\n                        '<input type=\"checkbox\"<%include \"_attr\"%>>'+\r\n                        '</span>'+\r\n                        '<%elseif val.content === \"input\" && typeof _value === \"object\"%>'+\r\n                        '<input type=\"text\" autocomplete=\"off\"<%include \"_attr\"%>>'+\r\n                        '<%else%>'+\r\n                        '<%_value%>'+\r\n                        '<%/if%>'+\r\n                        '</span>'+\r\n                    '</td>'+\r\n                    '<%/each%>'+\r\n                '</tr>'+\r\n                '<%/each%>'+\r\n                '<%elseif type === \"all\"%>'+\r\n                '<tr>'+\r\n                    '<td class=\"table-cell table-cell-void\" colspan=\"<%cols.length%>\">'+\r\n                        '<span class=\"ui-void\"><%placeholder??%></span>'+\r\n                    '</td>'+\r\n                '</tr>'+\r\n                '<%/if%>',\r\n            head:'',\r\n            foot:'',\r\n            _attr:\r\n                '<%if !_value[\"class\"]%>'+\r\n                '<%var _class = _value[\"class\"] = \"\"%>'+\r\n                '<%/if%>'+\r\n                '<%if _value.className%>'+\r\n                '<%var _class = (_value[\"class\"]+=\" \"+Nui.trim(_value.className))%>'+\r\n                '<%delete _value.className%>'+\r\n                '<%/if%>'+\r\n                '<%each _value _v _k%>'+\r\n                ' <%_k%>=\"<%_v%>\"'+\r\n                '<%/each%>',\r\n            attr:\r\n                '<%each val value name%>'+\r\n                '<%if !isTitle?? && name === \"style\"%>'+\r\n                'style=\"<%each value _v _k%><%_k%>:<%_v%>;<%/each%>\"'+\r\n                '<%elseif \"width field colspan rowspan cellid\".indexOf(name) !== -1%>'+\r\n                ' <%name%>=\"<%value%>\"'+\r\n                '<%/if%>'+\r\n                '<%/each%>',\r\n            data:\r\n                '<%if fields%>'+\r\n                '<%each $value value field%>'+\r\n                '<%if fields === true || $.inArray(field, fields) !== -1%>'+\r\n                ' data-<%toLower(field)%>=<%if typeof stringify === \"function\"%><%stringify(value)%><%else%>\"<%value%>\"<%/if%>'+\r\n                '<%/if%>'+\r\n                '<%/each%>'+\r\n                '<%/if%>'\r\n        },\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, _class = self.constructor, container = opts.container;\r\n            if(container && Nui.isArray(opts.columns) && opts.columns.length){\r\n                self._container = _class._jquery(container);\r\n                self._columns = {\r\n                    all:[],\r\n                    left:[],\r\n                    right:[]\r\n                }\r\n                Nui.each(opts.columns, function(v, k){\r\n                    if(v.fixed === 'left' || v.fixed === true){\r\n                        self._columns.left.push(v)\r\n                    }\r\n                    else if(v.fixed === 'right'){\r\n                        self._columns.right.push(v)\r\n                    }\r\n                    self._columns.all.push(v)\r\n                })\r\n                self._create()\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            self._rows = {};\r\n            self._cols = {};\r\n            self._rowNumber = _class._getRowNumber(opts.columns, 0, []);\r\n\r\n            Nui.each(self._columns, function(v, k){\r\n                self._setRowCol(v, k)\r\n            })\r\n\r\n            self._hasLeftRight = this._cols.left.length || this._cols.right.length;\r\n\r\n            self.element = self._bindComponentName($(self._tpl2html('layout', self._tplData({\r\n                rows:self._rows,\r\n                isFixed:opts.isFixed === true,\r\n                isBorder:opts.isBorder === true,\r\n                paging:opts.paging && typeof opts.paging === 'object' && opts.paging.isPage !== false,\r\n                footer:opts.footer\r\n            }))).appendTo(self._container));\r\n\r\n            self._body = self.element.children('.datagrid-body');\r\n            self._tableAll = self._body.children('.datagrid-table-all');\r\n            self._tableAllInner = self._tableAll.children('.datagrid-inner');\r\n            self._tableAllBox =  self._tableAll.find('.datagrid-box');\r\n            self._tableAllTitle = self._tableAll.children('.datagrid-title');\r\n            self._tableAllThead = self._tableAll.find('.datagrid-thead');\r\n            self._tableLeft = self._body.children('.datagrid-table-left');\r\n            self._tableRight = self._body.children('.datagrid-table-right');\r\n            self._tableFixed = self._body.children('.datagrid-table-fixed');\r\n            self._tableFixedInner = self._tableFixed.children('.datagrid-inner');\r\n            self._tableFixedBox = self._tableFixed.find('.datagrid-box');\r\n            self._foot = self.element.children('.datagrid-foot');\r\n            self._tableTbody = self._body.find('.datagrid-tbody');\r\n\r\n            if(opts.width){\r\n                self._tableAllThead.children().css('width', opts.width);\r\n                self._tableAllBox.children().css('width', opts.width);\r\n            }\r\n\r\n            self._theadHeight();\r\n            self._initList();\r\n            self._bindEvent();\r\n        },\r\n        _initList:function(){\r\n            var self = this, opts = self._options;\r\n            if(opts.paging){\r\n                delete opts.paging.wrap;\r\n                opts.paging.wrap = self._foot.children('.datagrid-paging');\r\n                opts.paging.container = self._tableAllBox;\r\n                var pagingId = 'paging_'+self.__id;\r\n                var echoData = opts.paging.echoData;\r\n                opts.paging.echoData = function(data, type){\r\n                    if(self.element){\r\n                        self.data = data;\r\n                        self._render();\r\n                            if(typeof echoData === 'function'){\r\n                            echoData.call(opts.paging, data, type)\r\n                        }\r\n                    }\r\n                }\r\n                self.paging = window[pagingId] = new Paging(opts.paging);\r\n\r\n                if(opts.isPaging === true){\r\n                    self.paging.query(true)\r\n                }\r\n            }\r\n            else if(opts.data){\r\n                self.data = opts.data;\r\n                self._render();\r\n            }\r\n        },\r\n        _bindEvent:function(){\r\n            var self = this;\r\n            self._on('scroll', self._tableAllInner.children(), function(){\r\n                self._scroll($(this))\r\n            })\r\n            self._event()\r\n        },\r\n        _getData:function(){\r\n            var self = this, opts = self._options, field = opts.dataField, data = self.data;\r\n            if(field){\r\n                Nui.each(field.split('.'), function(v){\r\n                    if(data[v]){\r\n                        data = data[v]\r\n                    }\r\n                    else{\r\n                        data = null;\r\n                        return false;\r\n                    }\r\n                })\r\n            }\r\n            return data||[]\r\n        },\r\n        _render:function(){\r\n            var self = this, opts = self._options;\r\n            Nui.each(self._cols, function(v, k){\r\n                self.element.find('.datagrid-table-'+k+' .datagrid-tbody').html(self._tpl2html('rows', {\r\n                    type:k,\r\n                    isFixed:opts.isFixed === true,\r\n                    cols:v,\r\n                    fields:opts.fields ? (opts.fields === true ? opts.fields : [].concat(opts.fields)) : null,\r\n                    data:self._getData(),\r\n                    placeholder:opts.placeholder,\r\n                    stringify:opts.stringify\r\n                }))\r\n            })\r\n            self.element.find('.datagrid-checkbox:checkbox').checkradio(self._checkradio())\r\n            self._resetHeight();\r\n            if(typeof opts.onRender === 'function'){\r\n                opts.onRender.call(opts, self)\r\n            }\r\n        },\r\n        _checkradio:function(){\r\n            var self = this, opts = self._options;\r\n            var callback = function(elem, e){\r\n                var className = 'datagrid-checkbox-choose';\r\n                if(elem.hasClass(className)){\r\n                    var checked = elem.prop('checked');\r\n                    if(!elem.closest('.datagrid-table').hasClass('datagrid-table-all')){\r\n                        self._tableAllBox.find('tr[row-index=\"'+ elem.closest('tr.table-row').attr('row-index') +'\"]').find('.'+className).checkradio('checked', checked)\r\n                    }\r\n                    if(elem.attr('name') === 'datagrid-checkbox-all'){\r\n                        self._tableTbody.find('.'+ className +':enabled').checkradio('checked', checked)\r\n                    }\r\n                    else{\r\n                        var checked = self._tableTbody.find('.'+ className +':checked').length === self._tableTbody.find('.'+className).length;\r\n                        self._body.find('.table-thead .'+className).checkradio('checked', checked)\r\n                    }\r\n                }\r\n                if(typeof opts.onCheckboxChange === 'function'){\r\n                    opts.onCheckboxChange.call(opts, e, self, elem)\r\n                }\r\n            }\r\n            var _opts = {\r\n                callback:callback\r\n            }\r\n            return _opts;\r\n        },\r\n        _resetHeight:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            self._rowHeight();\r\n            if(opts.isFixed === true){\r\n                var conntailerHeight = self._container.height();\r\n                var height = conntailerHeight - \r\n                             self._tableAllTitle.outerHeight() - \r\n                             _class._getSize(self._tableAllTitle, 'tb', 'margin') - \r\n                             self._foot.outerHeight() - \r\n                             _class._getSize(self._foot, 'tb', 'margin');\r\n                var stop = self._tableAllBox.scrollTop();\r\n\r\n                self._tableAllBox.css('height', 'auto');\r\n                self._tableAllInner.height(height);\r\n                \r\n                var width = self._tableAllInner.innerHeight() >= self._tableAllBox.outerHeight() ? 0 : scrollBarWidth;\r\n                var fixedHeight = height;\r\n\r\n                if(self._tableAllBox.children().width() > self._tableAllInner.width()){\r\n                    fixedHeight -= scrollBarWidth;\r\n                }\r\n\r\n                if(width){\r\n                    self._tableAllBox.css('height', height);\r\n                    self._tableFixedBox.css('height', fixedHeight);\r\n                }\r\n                else{\r\n                    self._tableAllBox.css('height', 'auto');\r\n                    self._tableFixedBox.css('height', 'auto');\r\n                }\r\n                \r\n                self._tableAllBox.scrollTop(stop);\r\n\r\n                self._tableAllTitle.css({'margin-right':width});\r\n\r\n                self._tableRight.css('right', width)\r\n            }\r\n        },\r\n        _theadHeight:function(){\r\n            var self = this;\r\n            if(self._hasLeftRight){\r\n                self._tableFixed.find('.table-thead .table-cell').each(function(i){\r\n                    var item = $(this), cellid = item.attr('cellid');\r\n                    var elem = self._tableAll.find('.table-thead .table-cell[cellid=\"'+ cellid +'\"]');\r\n                    var height = elem.height();\r\n                    var _height = item.height(height).height() - height;\r\n                    item.height(height - _height);\r\n                })\r\n            }\r\n        },\r\n        _rowHeight:function(){\r\n            var self = this;\r\n            if(self._hasLeftRight){\r\n                var LeftRow = self._tableLeft.find('.table-tbody .table-row');\r\n                var RightRow = self._tableLeft.find('.table-tbody .table-row');\r\n\r\n                self._tableAll.find('.table-tbody .table-row').each(function(i){\r\n                    var height = $(this).outerHeight();\r\n                    LeftRow.eq(i).height(height);\r\n                    RightRow.eq(i).height(height);\r\n                })\r\n            }\r\n        },\r\n        _setRowCol:function(array, type, row){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            if(row === undefined){\r\n                row = 0;\r\n            }\r\n\r\n            if(!self._rows[type]){\r\n                self._rows[type] = []\r\n            }\r\n\r\n            if(!self._cols[type]){\r\n                self._cols[type] = []\r\n            }\r\n\r\n            if(array.length && !self._rows[type][row]){\r\n                self._rows[type][row] = []\r\n            }\r\n\r\n            Nui.each(array, function(v){\r\n                var hasChild = _class._hasChildren(v);\r\n                var data = {};\r\n\r\n                if(hasChild){\r\n                    data.colspan = _class._colspan(v.children);\r\n                    self._setRowCol(v.children, type, row + 1)\r\n                }\r\n\r\n                Nui.each(v, function(val, key){\r\n                    if(key !== 'children' && typeof val !== 'function'){\r\n                        data[key] = val\r\n                    }\r\n                })\r\n\r\n                if(!hasChild){\r\n                    data.rowspan = self._rowNumber - row;\r\n                    self._cols[type].push(v)\r\n                }\r\n\r\n                self._rows[type][row].push(data)\r\n            })\r\n        },\r\n        _callback:function(){\r\n            var self = this, opts = self._options;\r\n            var args = arguments;\r\n            var type = args[0];\r\n            var callback = opts['on'+type];\r\n            if(typeof callback === 'function'){\r\n                return callback.apply(opts, Array.prototype.slice.call(args, 1))\r\n            }\r\n        },\r\n        _events:{\r\n            'click .table-tbody .table-row':'_active _getRowData _rowclick',\r\n            'mouseover .table-tbody .table-row':function(e, elem){\r\n                this.element.find('.datagrid-tbody .table-row[row-index=\"'+ elem.attr('row-index') +'\"]').addClass('s-hover')\r\n            },\r\n            'mouseout .table-tbody .table-row':function(e, elem){\r\n                this.element.find('.datagrid-tbody .table-row[row-index=\"'+ elem.attr('row-index') +'\"]').removeClass('s-hover')\r\n            },\r\n            'dblclick .table-tbody .table-row':'_getRowData _rowdblclick',\r\n            'focus .datagrid-input':'_enable _getRowData _focus',\r\n            'blur .datagrid-input':'_enable _getRowData _blur',\r\n            'focusin .table-tbody .table-cell':'_focusin',\r\n            'focusout .table-tbody .table-cell':'_focusout',\r\n            'click .datagrid-order > b':'_order'\r\n        },\r\n        _order:function(e, elem){\r\n            elem.toggleClass('s-crt');\r\n            elem.siblings().removeClass('s-crt');\r\n            var parent = elem.parent();\r\n            var field = parent.attr('field');\r\n            var value = parent.children('b.s-crt').attr('value');\r\n            if(this.paging){\r\n                this.paging.condition[field] = value;\r\n                this.paging.query(true)\r\n            }\r\n        },\r\n        _enable:function(e, elem){\r\n            return !elem.hasClass('s-dis') && !elem.hasClass('s-disabled')\r\n        },\r\n        _active:function(e, elem){\r\n            var self = this;\r\n            if(self._options.isActive === true){\r\n                self.element.find('.datagrid-tbody .table-row[row-index=\"'+ elem.attr('row-index') +'\"]').addClass('s-crt').siblings().removeClass('s-crt');\r\n                Nui.each(self.__instances, function(val){\r\n                    if(val !== self && val._options.isActive === true){\r\n                        val.element.find('.datagrid-tbody table-row.s-crt').removeClass('s-crt');\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _getRowData:function(e, elem){\r\n            if(elem.hasClass('table-row')){\r\n                return elem.data()\r\n            }\r\n            return elem.closest('.table-row').data()\r\n        },\r\n        _focus:function(e, elem, data){\r\n            return this._callback('Focus', e, this, elem, data)\r\n        },\r\n        _blur:function(e, elem, data){\r\n            return this._callback('Blur', e, this, elem, data)\r\n        },\r\n        _focusin:function(e, elem){\r\n            return this._callback('Focusin', e, this, elem)\r\n        },\r\n        _focusout:function(e, elem){\r\n            return this._callback('Focusout', e, this, elem)\r\n        },\r\n        _rowclick:function(e, elem, data){\r\n            return this._callback('RowClick', e, this, elem, data)\r\n        },\r\n        _rowdblclick:function(e, elem, data){\r\n            return this._callback('RowDblclick', e, this, elem, data)\r\n        },\r\n        _scroll:function(elem){\r\n            var self = this;\r\n            var scrollTop = elem.scrollTop();\r\n            var scrollLeft = elem.scrollLeft();\r\n            self._tableFixedBox.scrollTop(scrollTop);\r\n            self._tableAllThead.scrollLeft(scrollLeft);\r\n        },\r\n        resize:function(){\r\n            this._theadHeight();\r\n            this._resetHeight()\r\n        }\r\n    })\r\n})\nNui.define('pages/components/datagrid/script/checkradio',function(require,imports,renders,extend){\n\tvar module=this;\n\t/**\r\n\t * @filename jquery.checkradio.js\r\n\t * @author Aniu[2016-04-27 14:00]\r\n\t * @update Aniu[2016-08-23 22:44]\r\n\t * @version v1.4\r\n\t * @description 模拟单选复选框\r\n\t */\r\n\t\r\n\t;!(function($, undefined){\r\n\t    $.fn.checkradio = function(attr, value){\r\n\t\t\tif(!attr || $.isPlainObject(attr)){\r\n\t\t\t\tvar o = $.extend({\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * @func 配置开关按钮\r\n\t\t\t\t\t * @type <Object>\r\n\t\t\t\t\t */\r\n\t\t\t\t\tswitches:{\r\n\t\t\t\t\t\toff:'',\r\n\t\t\t\t\t\ton:''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * @func 点击元素状态改变前回调，如返回值为false则将阻止状态改变\r\n\t\t\t\t\t * @type <Function>\r\n\t\t\t\t\t * @return <undefined, Boolean>\r\n\t\t\t\t\t */\r\n\t\t\t\t\tbeforeCallback:$.noop,\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * @func 点击元素状态改变后回调\r\n\t\t\t\t\t * @type <Function>\r\n\t\t\t\t\t */\r\n\t\t\t\t\tcallback:$.noop\r\n\t\t\t\t}, attr||{});\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tvar me = $(this);\r\n\t\t\t\t\tvar checkradio = me.closest('.ui-checkradio');\r\n\t\t\t\t\tif(!checkradio.length){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar checked = me.prop('checked') ? ' s-checked' : '';\r\n\t\t\t\t\tvar disabled = me.prop('disabled') ? ' s-dis' : '';\r\n\t\t\t\t\tvar name = me.attr('name');\r\n\t\t\t\t\tvar switches = $.extend({}, o.switches, me.data()||{});\r\n\t\t\t\t\tvar switchElem = checkradio.find('.text');\r\n\t\t\t\t\tvar type = 'radio';\r\n\t\t\t\t\tif(me.is(':checkbox')){\r\n\t\t\t\t\t\ttype = 'checkbox';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(checkradio.children().attr('checkname')){\r\n\t\t\t\t\t\tcheckradio.children().attr('class', 'ui-'+ type + checked + disabled);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(switches.off && switches.on){\r\n\t\t\t\t\t\t\tcheckradio.addClass('ui-switches');\r\n\t\t\t\t\t\t\tswitchElem = $('<s class=\"text\">'+ (me.prop('checked') ? switches.on : switches.off) +'</s>').insertBefore(me);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tme.css({position:'absolute', top:'-999em', left:'-999em', opacity:0}).wrap('<i></i>');\r\n\t\t\t\t\t\tcheckradio.wrapInner('<em class=\"ui-'+ type + checked + disabled +'\" checkname=\"'+ name +'\"></em>')\r\n\t\t\t\t\t\t.children().click(function(e){\r\n\t\t\t\t\t\t\tvar ele = $(this);\r\n\t\t\t\t\t\t\tif(me.is(':disabled') || o.beforeCallback(me, e) === false){\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(me.is(':checkbox')){\r\n\t\t\t\t\t\t\t\tvar checked = me.prop('checked');\r\n\t\t\t\t\t\t\t\tme.prop('checked', !checked);\r\n\t\t\t\t\t\t\t\tele[(checked ? 'remove' : 'add') + 'Class']('s-checked');\r\n\t\t\t\t\t\t\t\tif(switchElem.length){\r\n\t\t\t\t\t\t\t\t\tswitchElem.text(checked ? switches.off : switches.on);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tif(me.prop('checked')){\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tme.prop('checked', true);\r\n\t\t\t\t\t\t\t\t$('.ui-radio[checkname=\"'+ name +'\"]').removeClass('s-checked');\r\n\t\t\t\t\t\t\t\tele.addClass('s-checked');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\to.callback(me, e)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(o.init && !me.is(':disabled') && o.beforeCallback(me) !== false){\r\n\t\t\t\t\t\to.callback(me, 'init')\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\treturn $(this).prop(attr, value == true).checkradio();\r\n\t\t\t}\r\n\t    }\r\n\t})(jQuery);\n});\nNui.define('pages/components/datagrid/script/paging',function(require,imports,renders,extend){\n\tvar module=this;\n\t/**\r\n\t * @filename jquery.paging.js\r\n\t * @author Aniu[2014-03-29 10:07]\r\n\t * @update Aniu[2016-12-06 11:23]\r\n\t * @version v2.9.1\r\n\t * @description 分页组件\r\n\t */\r\n\t\r\n\t;!(function(window, document, $, undefined){\r\n\t    var resize = function(){\r\n\t        \r\n\t    };\r\n\t    var request = function(op){\r\n\t        op.dataType = 'json';\r\n\t        return $.ajax(op)\r\n\t    };\r\n\t    \r\n\t    function Paging(options){\r\n\t        var that = this;\r\n\t        that.load = false;\r\n\t        //获取实例对象的名称\r\n\t        that.instance = function(){\r\n\t            for(var attr in window){\r\n\t                if(window[attr] == that){\r\n\t                    return attr.toString();\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        $.extend(that, $.extend(true, {\r\n\t            /**\r\n\t             * @function ajax请求url\r\n\t             * @type <String>\r\n\t             */\r\n\t            url:'',\r\n\t            /**\r\n\t             * @function 页码容器\r\n\t             * @type <Object>\r\n\t             */\r\n\t            wrap:null,\r\n\t            /**\r\n\t             * @function 传递参数值\r\n\t             * @type <String>\r\n\t             * @desc 将传递参数封装为json字符串，后台接收该参数来获取该json\r\n\t             */\r\n\t            paramJSON:'',\r\n\t            /**\r\n\t             * @function 当页显示数量\r\n\t             * @type <Number>\r\n\t             */\r\n\t            pCount:10,\r\n\t            /**\r\n\t             * @function 当前页码\r\n\t             * @type <Number>\r\n\t             */\r\n\t            current:1,\r\n\t            /**\r\n\t             * @function 列表数据总数\r\n\t             * @type <Number>\r\n\t             */\r\n\t            aCount:0,\r\n\t            /**\r\n\t             * @function 是否初始化展示最后一页\r\n\t             * @type <Boolean>\r\n\t             */\r\n\t            last:false,\r\n\t            /**\r\n\t             * @function 是否读取全部数据\r\n\t             * @type <Boolean>\r\n\t             * @desc 该参数启用后，接口将无法接收到pCount和current参数，前后端约定好，若没接收到这2个参数，将返回全部数据\r\n\t             */\r\n\t            allData:false,\r\n\t            /**\r\n\t             * @function 是否完整形式展示分页\r\n\t             * @type <Boolean>\r\n\t             */\r\n\t            isFull:true,\r\n\t\t\t\t/**\r\n\t             * @function 滚动分页配置\r\n\t             * @type <Obejct>\r\n\t             */\r\n\t            container:window,\r\n\t\t\t\tscroll:{\r\n\t\t\t\t\tenable:false\r\n\t\t\t\t},\r\n\t            /**\r\n\t             * @function ajax配置信息\r\n\t             * @type <JSON Obejct, Function>\r\n\t             */\r\n\t            ajax:{},\r\n\t            /**\r\n\t             * @function 接口接收参数\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            condition:{},\r\n\t            /**\r\n\t             * @function loading加载效果\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            loading:{\r\n\t                //loading容器\r\n\t                wrap:null,\r\n\t                //显示loading\r\n\t                show:function(){\r\n\t                    var that = this;\r\n\t                    that.hide();\r\n\t                    var wrap = that.wrap;\r\n\t                    wrap && wrap.append('<i class=\"ui-loading\" style=\"position:absolute;\">正在加载数据...</i>').css({position:'relative'});\r\n\t                },\r\n\t                //隐藏loading\r\n\t                hide:function(){\r\n\t                    $('.ui-loading').remove();\r\n\t                }\r\n\t            },\r\n\t            /**\r\n\t             * @function 上一页下一页按钮文字\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            button:{\r\n\t                prev:'«',\r\n\t                next:'»',\r\n\t                first:'',\r\n\t                last:''\r\n\t            },\r\n\t            /**\r\n\t             * @function 拓展分页部分\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            extPage:{\r\n\t                wrap:null,\r\n\t                desc:'',\r\n\t                prev:'上一页',\r\n\t                next:'下一页'\r\n\t            },\r\n\t            /**\r\n\t             * @function 传统页面刷新方式\r\n\t             * @type <Null, Function>\r\n\t             * @param current <Number> 目标页码\r\n\t             * @desc 值为函数将启用\r\n\t             */\r\n\t            refreshCallback:null,\r\n\t            /**\r\n\t             * @function ajax响应数据并且分页创建完毕后回调函数\r\n\t             * @type <Function>\r\n\t             * @param data <JSON Object> 响应数据\r\n\t             */\r\n\t            endCallback:$.noop,\r\n\t            /**\r\n\t             * @function 点击分页按钮回调函数\r\n\t             * @type <Function>\r\n\t             * @param current <Number> 目标页码\r\n\t             */\r\n\t            jumpCallback:$.noop,\r\n\t            /**\r\n\t             * @function 分页数据处理\r\n\t             * @type <Function>\r\n\t             * @param data <JSON Object> 响应数据\r\n\t             */\r\n\t            echoData:$.noop\r\n\t        }, Paging.options, options||{}));\r\n\t        that.container = $(that.container||window);\r\n\t\t\tif(that.scroll.enable === true){\r\n\t\t\t\tthat.wrap = null;\r\n\t\t\t\tthat.children = that.container[0] === window ? $(document.body) : that.container.children();\r\n\t\t\t\tthat.container.scroll(function(){\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t}).resize(function(){\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t    }\r\n\t    \r\n\t    Paging.options = {};\r\n\t    Paging.config = function(options){\r\n\t    \t$.extend(true, Paging.options, options||{})\r\n\t    }\r\n\t\r\n\t    Paging.prototype = {\r\n\t        constructor:Paging,\r\n\t        //页面跳转\r\n\t        jump:function(page){\r\n\t            var that = this, count = Math.ceil(that.aCount/that.pCount), current;\r\n\t            that.showload = true;\r\n\t            if(that.aCount > 0){\r\n\t                if(typeof(page) === 'object'){\r\n\t                    var val = $(page).prevAll('input').val();\r\n\t                    if(val <= count && val != that.current){\r\n\t                        current = parseInt(val);\r\n\t                    }\r\n\t                    else{\r\n\t                        current = that.current;\r\n\t                    }\r\n\t                }\r\n\t                else if(page > 0 && page <= count){\r\n\t                    current = page;\r\n\t                }\r\n\t                else if(page < 0){\r\n\t                    current = count + page + 1;\r\n\t                }\r\n\t                else{\r\n\t                    current = count;\r\n\t                }\r\n\t            }\r\n\t            else{\r\n\t                current = page;\r\n\t            }\r\n\t            that.current = that.condition.current = current;\r\n\t            that.jumpCallback(current);\r\n\t            if(typeof that.refreshCallback === 'function'){\r\n\t                that.refreshCallback(current);\r\n\t                that.create();\r\n\t                return;\r\n\t            }\r\n\t            that.getData('jump');\r\n\t        },\r\n\t        query:function(type){\r\n\t            var that = this;\r\n\t            that.showload = true;\r\n\t            that.load = false;\r\n\t            if(typeof that.refreshCallback !== 'function' || type !== 'refresh'){\r\n\t                if(type){\r\n\t                    if(type === 'noloading'){\r\n\t                        that.showload = false;\r\n\t                    }\r\n\t                    else if(type !== 'reload'){\r\n\t                        that.current = 1;\r\n\t                    }\r\n\t                    that.filter();\r\n\t                    that.condition.current = that.current;\r\n\t                }\r\n\t                else{\r\n\t                    that.condition = {current:that.current = 1};\r\n\t                }\r\n\t                that.getData(type||'');\r\n\t            }\r\n\t            else{\r\n\t                that.create();\r\n\t            }\r\n\t            \r\n\t        },\r\n\t        filter:function(){\r\n\t            var that = this;\r\n\t            for(var i in that.condition){\r\n\t                if(!that.condition[i]){\r\n\t                    delete that.condition[i];\r\n\t                }\r\n\t            }\r\n\t        },\r\n\t        //ajax请求数据\r\n\t        getData:function(type){\r\n\t            var that = this;\r\n\t            //that.showload && that.loading.show(type);\r\n\t            that.condition.pCount = that.pCount;\r\n\t            if(that.allData === true){\r\n\t                delete that.condition.pCount;\r\n\t                delete that.condition.current;\r\n\t            }\r\n\t            var param = that.condition;\r\n\t            if(that.paramJSON){\r\n\t                param = [];\r\n\t                $.each(that.condition, function(key, val){\r\n\t                    param.push(key+':'+val);\r\n\t                });\r\n\t                var temp = param.length ? '{'+param.join(',')+'}' : '';\r\n\t                param = {};\r\n\t                param[that.paramJSON] = temp;\r\n\t            }\r\n\t            \r\n\t            var ajax = typeof that.ajax === 'function' ? that.ajax() : that.ajax;\r\n\t            delete ajax.success;\r\n\t\r\n\t            if(!that.load){\r\n\t            \tthat.load = true;\r\n\t            \trequest($.extend({}, true, {\r\n\t                    url:that.url,\r\n\t                    data:param,\r\n\t                    success:function(data){\r\n\t                        //that.showload && that.loading.hide();\r\n\t                        try{\r\n\t                            data.current = that.current;\r\n\t                        }\r\n\t                        catch(e){}\r\n\t                        var stop = 0, index;\r\n\t                        if(that.container[0] !== window && type !== 'reload' && type !== 'noloading' && (type !== 'jump' || (type === 'jump' && !that.scroll.enable))){\r\n\t                        \tthat.container.scrollTop(0)\r\n\t                        \tthat.container.scrollLeft(0)\r\n\t                        }\r\n\t                        if(type === 'reload'){\r\n\t                            var box = that.container;\r\n\t                            if(that.selector){\r\n\t                                box = that.container.find(that.selector);\r\n\t                                stop = box.scrollTop()\r\n\t                            }\r\n\t                            else{\r\n\t                                stop = box.scrollTop()\r\n\t                            }\r\n\t                            index = box.find('tr.rows.s-crt').index();\r\n\t                        }\r\n\t                        that.echoData(data, type);\r\n\t\r\n\t                        that.aCount = data.aCount;\r\n\t                        that.load = false;\r\n\t\t\t\t\t\t\tif(that.scroll.enable === true){\r\n\t\t\t\t\t\t\t\tthat.resize();\r\n\t\t\t\t\t\t\t}\r\n\t                        resize();\r\n\t                        if(stop > 0){\r\n\t                            var box = that.container;\r\n\t                            if(that.selector){\r\n\t                                box = that.container.find(that.selector);\r\n\t                                box.scrollTop(stop)\r\n\t                            }\r\n\t                            else{\r\n\t                                box.scrollTop(stop)\r\n\t                            }\r\n\t                            if(index >= 0){\r\n\t                                box.find('tr.rows').eq(index).addClass('s-crt');\r\n\t                            }\r\n\t                        }\r\n\t                        if(that.last === true){\r\n\t                            that.last = false;\r\n\t                            that.jump(-1);\r\n\t                            return;\r\n\t                        }\r\n\t                        that.create();\r\n\t                        that.endCallback(data);\r\n\t                    },\r\n\t                    error:function(){\r\n\t                        that.showload && that.loading.hide();\r\n\t                        that.load = false;\r\n\t                    }\r\n\t                }, ajax||{}));\r\n\t            }\r\n\t        },\r\n\t        //过滤分页中input值\r\n\t        trim:function(o){\r\n\t            var val = Math.abs(parseInt($(o).val()));\r\n\t            !val && (val = 1);\r\n\t            $(o).val(val);\r\n\t        },\r\n\t        echoList:function(html, i, instance){\r\n\t            var that = this;\r\n\t            if(that.current == i){\r\n\t                html = '<li><span class=\"s-crt\">'+ i +'</span></li>';\r\n\t            }\r\n\t            else{\r\n\t                html = '<li><a href=\"javascript:'+ instance +'.jump('+ i +');\" target=\"_self\">'+ i +'</a></li>';\r\n\t            }\r\n\t            return html;\r\n\t        },\r\n\t\t\tresize:function(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar stop = that.container.scrollTop();\r\n\t\t\t\t\tvar height = that.container.height();\r\n\t\t\t\t\tvar cheight = that.children.outerHeight();\r\n\t\t\t\t\tif(!that.load && Math.ceil(that.aCount/that.pCount) > that.current && ((stop === 0 && cheight <= height) || (height + stop >= cheight))){\r\n\t\t\t\t\t\tthat.jump(++that.current);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t        //创建分页骨架\r\n\t        create:function(){\r\n\t            var that = this, button = that.button,\r\n\t                count = Math.ceil(that.aCount/that.pCount), current = that.current,\r\n\t                html = '', next = count == current ? 1 : current+1,\r\n\t                instance = that.instance(), extPage = that.extPage;\r\n\t\r\n\t            if(extPage.wrap){\r\n\t                var page = '<div>';\r\n\t                page += current == count || count == 0 ?\r\n\t                     '<span>'+ extPage.next +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ extPage.next +'</a>';\r\n\t                page += current == 1 ?\r\n\t                     '<span>'+ extPage.prev +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ extPage.prev +'</a>';\r\n\t                page += '</div><em>'+ (count !== 0 ? current : 0) +'/'+ count +'</em><strong>共'+ that.aCount + extPage.desc +'</strong>';\r\n\t                extPage.wrap.html(page);\r\n\t            }\r\n\t            \r\n\t            if(!that.wrap){\r\n\t                return;\r\n\t            }\r\n\t            \r\n\t            if(!count){\r\n\t                that.wrap.empty();\r\n\t                return;\r\n\t            }\r\n\t\r\n\t            html += (function(){\r\n\t                var tpl = '';\r\n\t                if(current == 1){\r\n\t                    if(button.first){\r\n\t                        tpl += '<li><span>'+ button.first +'</span></li>';\r\n\t                    }\r\n\t                    tpl += '<li><span>'+ button.prev +'</span></li>';\r\n\t                }\r\n\t                else{\r\n\t                    if(that.button.first){\r\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">'+ button.first +'</a></li>';\r\n\t                    }\r\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ button.prev +'</a></li>';\r\n\t                }\r\n\t                return tpl;\r\n\t            })();\r\n\t            if(count <= 7){\r\n\t                for(var i = 1; i <= count; i++){\r\n\t                    html += that.echoList(html, i, instance);\r\n\t                }\r\n\t            }\r\n\t            else{\r\n\t                if(current-3 > 1 && current+3 < count){\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    for(var i = current-2; i <= current+2; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\r\n\t                }\r\n\t                else if(current-3 <= 1 && current+3 < count){\r\n\t                    for(var i = 1; i <= 5; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\r\n\t                }\r\n\t                else if(current-3 > 1 && current+3 >= count){\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    for(var i = count-5; i <= count; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            html += (function(){\r\n\t                var tpl = '';\r\n\t                if(current == count){\r\n\t                    tpl += '<li><span>'+ button.next +'</span></li>';\r\n\t                    if(button.last){\r\n\t                        tpl += '<li><span>'+ button.last +'</span></li>';\r\n\t                    }\r\n\t                }\r\n\t                else{\r\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ button.next +'</a></li>';\r\n\t                    if(button.last){\r\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ button.last +'</a></li>';\r\n\t                    }\r\n\t                }\r\n\t                return tpl;\r\n\t            })();\r\n\t            if(that.isFull){\r\n\t                html += '<li><em>跳转到第</em><input type=\"text\" onblur=\"'+ instance +'.trim(this);\" value=\"'+ next +'\" /><em>页</em><button type=\"button\" onclick=\"'+ instance +'.jump(this);\">确定</button></li>';\r\n\t            }\r\n\t            html = '<ul class=\"ui-paging\">' + html + '</ul>';\r\n\t            that.wrap.html(html);\r\n\t        }\r\n\t    }\r\n\t    \r\n\t    $.extend({\r\n\t        paging:function(name, options){\r\n\t            if(options === undefined){\r\n\t                options = name;\r\n\t                name = 'paging';\r\n\t            }\r\n\t            var page = window[name] = new Paging(options);\r\n\t            if(typeof window[name].refreshCallback !== 'function'){\r\n\t                page.query(true);\r\n\t                return page;\r\n\t            }\r\n\t            page.query('refresh');\r\n\t            return page\r\n\t        }\r\n\t    });\r\n\t    \r\n\t    window.Paging = Paging;\r\n\t    \r\n\t})(window, document, jQuery);\n});\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar paging = module.require('pages/components/datagrid/script/paging');\r\n\tvar checkradio = module.require('pages/components/datagrid/script/checkradio');\r\n\t\r\n\tvar datagrid = require('src/components/datagrid');\r\n\t\r\n\t\r\n\tvar a = datagrid({\r\n\t    container:'#data',\r\n\t    isFixed:false,\r\n\t    isBorder:false,\r\n\t    //fields:true,\r\n\t    paging:{\r\n\t        url:'http://172.30.5.28/data/',\r\n\t        pCount:4\r\n\t    },\r\n\t    footer:'11',\r\n\t    columns:[{\r\n\t        content:'checkbox',\r\n\t        width:'40',\r\n\t        align:'right',\r\n\t    }, {\r\n\t        title:'ID'\r\n\t    }, {\r\n\t        title:'期初余额',\r\n\t        field:'address',\r\n\t        children:[{\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'10%',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            children:[{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            },{\r\n\t                title:'aaa',\r\n\t                filed:'id',\r\n\t                width:'5%'\r\n\t            }]\r\n\t        }]\r\n\t    }],\r\n\t    onRowClick:function(e, self, elem, data){\r\n\t        \r\n\t    },\r\n\t    onRowDblclick:function(e, self, elem, data){\r\n\t        //alert()\r\n\t    },\r\n\t    onRender:function(self){\r\n\t        console.log(self)\r\n\t    },\r\n\t    onFocus:function(e, self, elem, data){\r\n\t        \r\n\t    }\r\n\t})\r\n\t\r\n\t$('h1').click(function(){\r\n\t    a.option('isBorder', true)\r\n\t})\n});\n"]}