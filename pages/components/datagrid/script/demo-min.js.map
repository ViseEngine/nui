{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","require","imports","renders","extend","window","document","$","undefined","Paging","options","that","this","load","instance","attr","toString","url","wrap","paramJSON","pCount","current","aCount","last","allData","isFull","container","scroll","enable","ajax","condition","loading","show","hide","append","css","position","remove","button","prev","next","first","extPage","desc","refreshCallback","endCallback","noop","jumpCallback","echoData","children","body","resize","request","op","dataType","config","prototype","constructor","jump","page","count","Math","ceil","showload","val","prevAll","parseInt","create","getData","query","type","filter","i","param","each","key","push","temp","length","join","success","data","e","index","stop","scrollTop","scrollLeft","box","selector","find","eq","addClass","error","trim","o","abs","echoList","html","height","cheight","outerHeight","empty","tpl","paging","name","jQuery","component","module","scrollBarWidth","oldWidth","newWidth","div","createElement","style","cssText","appendChild","clientWidth","overflowY","removeChild","static","_init","self","doc","on","__instances","isActive","element","removeClass","_resize","_theadHeight","_resetHeight","_hasChildren","value","isArray","_getRowNumber","array","arr","id","parent","v","order","field","fixed","_colspan","columns","isFixed","isLine","isBorder","fields","dataName","width","footer","onFocusin","onFocusout","onFocus","onBlur","stringify","onRowClick","onRowDblclick","onCheckboxChange","onRender","_template","layout","table","tbody","rows","head","foot","_attr","_exec","opts","_getTarget","_columns","left","normal","right","k","_create","_class","_rows","_cols","_rowNumber","_setRowCol","_hasLeftRight","_tpl2html","_tplData","appendTo","target","_body","_tableNormal","_tableNormalInner","_tableNormalTitle","_tableNormalThead","_tableLeft","_tableRight","_tableFixed","_tableFixedInner","_foot","_initList","_bindEvent","pagingId","__id","_list","_render","call","_on","_scroll","_event","cols","concat","list","_rowHeight","conntailerHeight","innerHeight","bsie7","padding-right","item","cellid","elem","browser","msie","version","LeftRow","RightRow","row","hasChild","colspan","rowspan","_callback","args","arguments","callback","apply","Array","slice","_events","click .table-tbody .table-row","dblclick .table-tbody .table-row","focus .datagrid-input","blur .datagrid-input","focusin .table-tbody .table-cell","focusout .table-tbody .table-cell","click .datagrid-order > b","_order","toggleClass","siblings","_enable","hasClass","_active","stopPropagation","_getRowData","closest","_focusin","_focusout","_rowclick","_rowdblclick","prov","city","address","job","vC","a","title","content","asc","select","text","nowrap","console","log"],"mappings":"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","file":"demo-min.js.map?v=7315e58","sourcesContent":["Nui.define('src/paging',function(require,imports,renders,extend){\n\tvar module=this;\n\t/**\r\n\t * @filename jquery.paging.js\r\n\t * @author Aniu[2014-03-29 10:07]\r\n\t * @update Aniu[2016-12-06 11:23]\r\n\t * @version v2.9.1\r\n\t * @description 分页组件\r\n\t */\r\n\t\r\n\t;!(function(window, document, $, undefined){\r\n\t    var resize = function(){\r\n\t        \r\n\t    };\r\n\t    var request = function(op){\r\n\t        op.dataType = 'json';\r\n\t        return $.ajax(op)\r\n\t    };\r\n\t    \r\n\t    function Paging(options){\r\n\t        var that = this;\r\n\t        that.load = false;\r\n\t        //获取实例对象的名称\r\n\t        that.instance = function(){\r\n\t            for(var attr in window){\r\n\t                if(window[attr] == that){\r\n\t                    return attr.toString();\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        $.extend(that, $.extend(true, {\r\n\t            /**\r\n\t             * @function ajax请求url\r\n\t             * @type <String>\r\n\t             */\r\n\t            url:'',\r\n\t            /**\r\n\t             * @function 页码容器\r\n\t             * @type <Object>\r\n\t             */\r\n\t            wrap:null,\r\n\t            /**\r\n\t             * @function 传递参数值\r\n\t             * @type <String>\r\n\t             * @desc 将传递参数封装为json字符串，后台接收该参数来获取该json\r\n\t             */\r\n\t            paramJSON:'',\r\n\t            /**\r\n\t             * @function 当页显示数量\r\n\t             * @type <Number>\r\n\t             */\r\n\t            pCount:10,\r\n\t            /**\r\n\t             * @function 当前页码\r\n\t             * @type <Number>\r\n\t             */\r\n\t            current:1,\r\n\t            /**\r\n\t             * @function 列表数据总数\r\n\t             * @type <Number>\r\n\t             */\r\n\t            aCount:0,\r\n\t            /**\r\n\t             * @function 是否初始化展示最后一页\r\n\t             * @type <Boolean>\r\n\t             */\r\n\t            last:false,\r\n\t            /**\r\n\t             * @function 是否读取全部数据\r\n\t             * @type <Boolean>\r\n\t             * @desc 该参数启用后，接口将无法接收到pCount和current参数，前后端约定好，若没接收到这2个参数，将返回全部数据\r\n\t             */\r\n\t            allData:false,\r\n\t            /**\r\n\t             * @function 是否完整形式展示分页\r\n\t             * @type <Boolean>\r\n\t             */\r\n\t            isFull:true,\r\n\t\t\t\t/**\r\n\t             * @function 滚动分页配置\r\n\t             * @type <Obejct>\r\n\t             */\r\n\t            container:window,\r\n\t\t\t\tscroll:{\r\n\t\t\t\t\tenable:false\r\n\t\t\t\t},\r\n\t            /**\r\n\t             * @function ajax配置信息\r\n\t             * @type <JSON Obejct, Function>\r\n\t             */\r\n\t            ajax:{},\r\n\t            /**\r\n\t             * @function 接口接收参数\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            condition:{},\r\n\t            /**\r\n\t             * @function loading加载效果\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            loading:{\r\n\t                //loading容器\r\n\t                wrap:null,\r\n\t                //显示loading\r\n\t                show:function(){\r\n\t                    var that = this;\r\n\t                    that.hide();\r\n\t                    var wrap = that.wrap;\r\n\t                    wrap && wrap.append('<i class=\"ui-loading\" style=\"position:absolute;\">正在加载数据...</i>').css({position:'relative'});\r\n\t                },\r\n\t                //隐藏loading\r\n\t                hide:function(){\r\n\t                    $('.ui-loading').remove();\r\n\t                }\r\n\t            },\r\n\t            /**\r\n\t             * @function 上一页下一页按钮文字\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            button:{\r\n\t                prev:'«',\r\n\t                next:'»',\r\n\t                first:'',\r\n\t                last:''\r\n\t            },\r\n\t            /**\r\n\t             * @function 拓展分页部分\r\n\t             * @type <JSON Obejct>\r\n\t             */\r\n\t            extPage:{\r\n\t                wrap:null,\r\n\t                desc:'',\r\n\t                prev:'上一页',\r\n\t                next:'下一页'\r\n\t            },\r\n\t            /**\r\n\t             * @function 传统页面刷新方式\r\n\t             * @type <Null, Function>\r\n\t             * @param current <Number> 目标页码\r\n\t             * @desc 值为函数将启用\r\n\t             */\r\n\t            refreshCallback:null,\r\n\t            /**\r\n\t             * @function ajax响应数据并且分页创建完毕后回调函数\r\n\t             * @type <Function>\r\n\t             * @param data <JSON Object> 响应数据\r\n\t             */\r\n\t            endCallback:$.noop,\r\n\t            /**\r\n\t             * @function 点击分页按钮回调函数\r\n\t             * @type <Function>\r\n\t             * @param current <Number> 目标页码\r\n\t             */\r\n\t            jumpCallback:$.noop,\r\n\t            /**\r\n\t             * @function 分页数据处理\r\n\t             * @type <Function>\r\n\t             * @param data <JSON Object> 响应数据\r\n\t             */\r\n\t            echoData:$.noop\r\n\t        }, Paging.options, options||{}));\r\n\t        that.container = $(that.container||window);\r\n\t\t\tif(that.scroll.enable === true){\r\n\t\t\t\tthat.wrap = null;\r\n\t\t\t\tthat.children = that.container[0] === window ? $(document.body) : that.container.children();\r\n\t\t\t\tthat.container.scroll(function(){\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t}).resize(function(){\r\n\t\t\t\t\tthat.resize();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t    }\r\n\t    \r\n\t    Paging.options = {};\r\n\t    Paging.config = function(options){\r\n\t    \t$.extend(true, Paging.options, options||{})\r\n\t    }\r\n\t\r\n\t    Paging.prototype = {\r\n\t        constructor:Paging,\r\n\t        //页面跳转\r\n\t        jump:function(page){\r\n\t            var that = this, count = Math.ceil(that.aCount/that.pCount), current;\r\n\t            that.showload = true;\r\n\t            if(that.aCount > 0){\r\n\t                if(typeof(page) === 'object'){\r\n\t                    var val = $(page).prevAll('input').val();\r\n\t                    if(val <= count && val != that.current){\r\n\t                        current = parseInt(val);\r\n\t                    }\r\n\t                    else{\r\n\t                        current = that.current;\r\n\t                    }\r\n\t                }\r\n\t                else if(page > 0 && page <= count){\r\n\t                    current = page;\r\n\t                }\r\n\t                else if(page < 0){\r\n\t                    current = count + page + 1;\r\n\t                }\r\n\t                else{\r\n\t                    current = count;\r\n\t                }\r\n\t            }\r\n\t            else{\r\n\t                current = page;\r\n\t            }\r\n\t            that.current = that.condition.current = current;\r\n\t            that.jumpCallback(current);\r\n\t            if(typeof that.refreshCallback === 'function'){\r\n\t                that.refreshCallback(current);\r\n\t                that.create();\r\n\t                return;\r\n\t            }\r\n\t            that.getData('jump');\r\n\t        },\r\n\t        query:function(type){\r\n\t            var that = this;\r\n\t            that.showload = true;\r\n\t            that.load = false;\r\n\t            if(typeof that.refreshCallback !== 'function' || type !== 'refresh'){\r\n\t                if(type){\r\n\t                    if(type === 'noloading'){\r\n\t                        that.showload = false;\r\n\t                    }\r\n\t                    else if(type !== 'reload'){\r\n\t                        that.current = 1;\r\n\t                    }\r\n\t                    that.filter();\r\n\t                    that.condition.current = that.current;\r\n\t                }\r\n\t                else{\r\n\t                    that.condition = {current:that.current = 1};\r\n\t                }\r\n\t                that.getData(type||'');\r\n\t            }\r\n\t            else{\r\n\t                that.create();\r\n\t            }\r\n\t            \r\n\t        },\r\n\t        filter:function(){\r\n\t            var that = this;\r\n\t            for(var i in that.condition){\r\n\t                if(!that.condition[i]){\r\n\t                    delete that.condition[i];\r\n\t                }\r\n\t            }\r\n\t        },\r\n\t        //ajax请求数据\r\n\t        getData:function(type){\r\n\t            var that = this;\r\n\t            //that.showload && that.loading.show(type);\r\n\t            that.condition.pCount = that.pCount;\r\n\t            if(that.allData === true){\r\n\t                delete that.condition.pCount;\r\n\t                delete that.condition.current;\r\n\t            }\r\n\t            var param = that.condition;\r\n\t            if(that.paramJSON){\r\n\t                param = [];\r\n\t                $.each(that.condition, function(key, val){\r\n\t                    param.push(key+':'+val);\r\n\t                });\r\n\t                var temp = param.length ? '{'+param.join(',')+'}' : '';\r\n\t                param = {};\r\n\t                param[that.paramJSON] = temp;\r\n\t            }\r\n\t            \r\n\t            var ajax = typeof that.ajax === 'function' ? that.ajax() : that.ajax;\r\n\t            delete ajax.success;\r\n\t\r\n\t            if(!that.load){\r\n\t            \tthat.load = true;\r\n\t            \trequest($.extend({}, true, {\r\n\t                    url:that.url,\r\n\t                    data:param,\r\n\t                    success:function(data){\r\n\t                        //that.showload && that.loading.hide();\r\n\t                        try{\r\n\t                            data.current = that.current;\r\n\t                        }\r\n\t                        catch(e){}\r\n\t                        var stop = 0, index;\r\n\t                        if(that.container[0] !== window && type !== 'reload' && type !== 'noloading' && (type !== 'jump' || (type === 'jump' && !that.scroll.enable))){\r\n\t                        \tthat.container.scrollTop(0)\r\n\t                        \tthat.container.scrollLeft(0)\r\n\t                        }\r\n\t                        if(type === 'reload'){\r\n\t                            var box = that.container;\r\n\t                            if(that.selector){\r\n\t                                box = that.container.find(that.selector);\r\n\t                                stop = box.scrollTop()\r\n\t                            }\r\n\t                            else{\r\n\t                                stop = box.scrollTop()\r\n\t                            }\r\n\t                            index = box.find('tr.rows.s-crt').index();\r\n\t                        }\r\n\t                        that.echoData(data, type);\r\n\t\r\n\t                        that.aCount = data.aCount;\r\n\t                        that.load = false;\r\n\t\t\t\t\t\t\tif(that.scroll.enable === true){\r\n\t\t\t\t\t\t\t\tthat.resize();\r\n\t\t\t\t\t\t\t}\r\n\t                        resize();\r\n\t                        if(stop > 0){\r\n\t                            var box = that.container;\r\n\t                            if(that.selector){\r\n\t                                box = that.container.find(that.selector);\r\n\t                                box.scrollTop(stop)\r\n\t                            }\r\n\t                            else{\r\n\t                                box.scrollTop(stop)\r\n\t                            }\r\n\t                            if(index >= 0){\r\n\t                                box.find('tr.rows').eq(index).addClass('s-crt');\r\n\t                            }\r\n\t                        }\r\n\t                        if(that.last === true){\r\n\t                            that.last = false;\r\n\t                            that.jump(-1);\r\n\t                            return;\r\n\t                        }\r\n\t                        that.create();\r\n\t                        that.endCallback(data);\r\n\t                    },\r\n\t                    error:function(){\r\n\t                        that.showload && that.loading.hide();\r\n\t                        that.load = false;\r\n\t                    }\r\n\t                }, ajax||{}));\r\n\t            }\r\n\t        },\r\n\t        //过滤分页中input值\r\n\t        trim:function(o){\r\n\t            var val = Math.abs(parseInt($(o).val()));\r\n\t            !val && (val = 1);\r\n\t            $(o).val(val);\r\n\t        },\r\n\t        echoList:function(html, i, instance){\r\n\t            var that = this;\r\n\t            if(that.current == i){\r\n\t                html = '<li><span class=\"s-crt\">'+ i +'</span></li>';\r\n\t            }\r\n\t            else{\r\n\t                html = '<li><a href=\"javascript:'+ instance +'.jump('+ i +');\" target=\"_self\">'+ i +'</a></li>';\r\n\t            }\r\n\t            return html;\r\n\t        },\r\n\t\t\tresize:function(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tvar stop = that.container.scrollTop();\r\n\t\t\t\t\tvar height = that.container.height();\r\n\t\t\t\t\tvar cheight = that.children.outerHeight();\r\n\t\t\t\t\tif(!that.load && Math.ceil(that.aCount/that.pCount) > that.current && ((stop === 0 && cheight <= height) || (height + stop >= cheight))){\r\n\t\t\t\t\t\tthat.jump(++that.current);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(e){\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t        //创建分页骨架\r\n\t        create:function(){\r\n\t            var that = this, button = that.button,\r\n\t                count = Math.ceil(that.aCount/that.pCount), current = that.current,\r\n\t                html = '', next = count == current ? 1 : current+1,\r\n\t                instance = that.instance(), extPage = that.extPage;\r\n\t\r\n\t            if(extPage.wrap){\r\n\t                var page = '<div>';\r\n\t                page += current == count || count == 0 ?\r\n\t                     '<span>'+ extPage.next +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ extPage.next +'</a>';\r\n\t                page += current == 1 ?\r\n\t                     '<span>'+ extPage.prev +'</span>' : '<a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ extPage.prev +'</a>';\r\n\t                page += '</div><em>'+ (count !== 0 ? current : 0) +'/'+ count +'</em><strong>共'+ that.aCount + extPage.desc +'</strong>';\r\n\t                extPage.wrap.html(page);\r\n\t            }\r\n\t            \r\n\t            if(!that.wrap){\r\n\t                return;\r\n\t            }\r\n\t            \r\n\t            if(!count){\r\n\t                that.wrap.empty();\r\n\t                return;\r\n\t            }\r\n\t\r\n\t            html += (function(){\r\n\t                var tpl = '';\r\n\t                if(current == 1){\r\n\t                    if(button.first){\r\n\t                        tpl += '<li><span>'+ button.first +'</span></li>';\r\n\t                    }\r\n\t                    tpl += '<li><span>'+ button.prev +'</span></li>';\r\n\t                }\r\n\t                else{\r\n\t                    if(that.button.first){\r\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">'+ button.first +'</a></li>';\r\n\t                    }\r\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current-1) +');\" target=\"_self\">'+ button.prev +'</a></li>';\r\n\t                }\r\n\t                return tpl;\r\n\t            })();\r\n\t            if(count <= 7){\r\n\t                for(var i = 1; i <= count; i++){\r\n\t                    html += that.echoList(html, i, instance);\r\n\t                }\r\n\t            }\r\n\t            else{\r\n\t                if(current-3 > 1 && current+3 < count){\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    for(var i = current-2; i <= current+2; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\r\n\t                }\r\n\t                else if(current-3 <= 1 && current+3 < count){\r\n\t                    for(var i = 1; i <= 5; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ count +'</a></li>';\r\n\t                }\r\n\t                else if(current-3 > 1 && current+3 >= count){\r\n\t                    html += '<li><a href=\"javascript:'+ instance +'.jump(1);\" target=\"_self\">1</a></li>';\r\n\t                    html += '<li><em>...</em></li>';\r\n\t                    for(var i = count-5; i <= count; i++){\r\n\t                        html += that.echoList(html, i, instance);\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            html += (function(){\r\n\t                var tpl = '';\r\n\t                if(current == count){\r\n\t                    tpl += '<li><span>'+ button.next +'</span></li>';\r\n\t                    if(button.last){\r\n\t                        tpl += '<li><span>'+ button.last +'</span></li>';\r\n\t                    }\r\n\t                }\r\n\t                else{\r\n\t                    tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ (current+1) +');\" target=\"_self\">'+ button.next +'</a></li>';\r\n\t                    if(button.last){\r\n\t                        tpl += '<li><a href=\"javascript:'+ instance +'.jump('+ count +');\" target=\"_self\">'+ button.last +'</a></li>';\r\n\t                    }\r\n\t                }\r\n\t                return tpl;\r\n\t            })();\r\n\t            if(that.isFull){\r\n\t                html += '<li><em>跳转到第</em><input type=\"text\" onblur=\"'+ instance +'.trim(this);\" value=\"'+ next +'\" /><em>页</em><button type=\"button\" onclick=\"'+ instance +'.jump(this);\">确定</button></li>';\r\n\t            }\r\n\t            html = '<ul class=\"ui-paging\">' + html + '</ul>';\r\n\t            that.wrap.html(html);\r\n\t        }\r\n\t    }\r\n\t    \r\n\t    $.extend({\r\n\t        paging:function(name, options){\r\n\t            if(options === undefined){\r\n\t                options = name;\r\n\t                name = 'paging';\r\n\t            }\r\n\t            var page = window[name] = new Paging(options);\r\n\t            if(typeof window[name].refreshCallback !== 'function'){\r\n\t                page.query(true);\r\n\t                return page;\r\n\t            }\r\n\t            page.query('refresh');\r\n\t            return page\r\n\t        }\r\n\t    });\r\n\t    \r\n\t    window.Paging = Paging;\r\n\t    \r\n\t})(window, document, jQuery);\n});\nNui.define('src/components/datagrid',['component'], function(component){\r\n    var module = this;\r\n    var paging = module.require('src/paging');\r\n    \r\n    var scrollBarWidth = (function(){\r\n        var oldWidth, newWidth, div = document.createElement('div');\r\n        div.style.cssText = 'position:absolute; top:-10000em; left:-10000em; width:100px; height:100px; overflow:hidden;';\r\n        oldWidth = document.body.appendChild(div).clientWidth;\r\n        div.style.overflowY = 'scroll';\r\n        newWidth = div.clientWidth;\r\n        document.body.removeChild(div);\r\n        return oldWidth - newWidth;\r\n    })()\r\n\r\n    return module.extend(component, {\r\n        static:{\r\n            _init:function(){\r\n                var self = this;\r\n                Nui.doc.on('click', function(){\r\n                    Nui.each(self.__instances, function(val){\r\n                        if(val.options.isActive === true){\r\n                            val.element.find('.datagrid-tbody table-row.s-crt').removeClass('s-crt');\r\n                        }\r\n                    })\r\n                });\r\n\r\n                /*var timer = null;\r\n                Nui.win.on('resize', function(){\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function(){\r\n                        self._resize()\r\n                    }, 100)\r\n                })*/\r\n            },\r\n            _resize:function(){\r\n                Nui.each(this.__instances, function(val){\r\n                    val._theadHeight();\r\n                    val._resetHeight()\r\n                })\r\n            },\r\n            _hasChildren:function(value){\r\n                return Nui.isArray(value.children) && value.children.length\r\n            },\r\n            //获取表格标题行数\r\n            _getRowNumber:function(array, index, arr, id, parent){\r\n                var self = this;\r\n                if(!arr[index]){\r\n                    arr[index] = true;\r\n                }\r\n\r\n                if(id === undefined){\r\n                    id = 0;\r\n                }\r\n                \r\n                Nui.each(array, function(v){\r\n                    v['cellid'] = id++;\r\n                    var order = v.order;\r\n                    if(order === true){\r\n                        order = 'desc'\r\n                    }\r\n                    if(order === 'asc' || order === 'desc'){\r\n                        v.order = {};\r\n                        v.order[order] = 1;\r\n                    }\r\n                    if(v.order && !v.order.field){\r\n                        v.order.field = v.field\r\n                    }\r\n\r\n                    if(parent && parent.fixed){\r\n                        v.fixed = parent.fixed\r\n                    }\r\n\r\n                    if(self._hasChildren(v)){\r\n                        id = self._getRowNumber(v.children, index+1, arr, id, v)\r\n                    }\r\n                })\r\n\r\n                if(parent){\r\n                    return id\r\n                }\r\n\r\n                return arr.length\r\n            },\r\n            //获取合并单元格数\r\n            _colspan:function(array, count){\r\n                var self = this;\r\n                if(count === undefined){\r\n                    count = 0\r\n                }\r\n                Nui.each(array, function(v){\r\n                    if(self._hasChildren(v)){\r\n                        count += self._colspan(v.children, count)\r\n                    }\r\n                    else{\r\n                        count += 1\r\n                    }\r\n                })\r\n                return count\r\n            }\r\n        },\r\n        options:{\r\n            data:null,\r\n            columns:null,\r\n            isFixed:true,\r\n            isLine:false,\r\n            isActive:true,\r\n            isBorder:true,\r\n            url:null,\r\n            paging:null,\r\n            fields:null,\r\n            dataName:'list',\r\n            width:'100%',\r\n            height:'auto',\r\n            footer:'',\r\n\r\n            onFocusin:null,\r\n            onFocusout:null,\r\n            onFocus:null,\r\n            onBlur:null,\r\n\r\n            stringify:null,\r\n            onRowClick:null,\r\n            onRowDblclick:null,\r\n            onCheckboxChange:null,\r\n            onRender:null\r\n        },\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\">'+\r\n                    '<div class=\"datagrid-body\">'+\r\n                        '<%include \"table\"%>'+\r\n                    '</div>'+\r\n                    '<%if footer || paging%>'+\r\n                    '<div class=\"datagrid-foot\">'+\r\n                        '<%if footer%>'+\r\n                        '<%footer%>'+\r\n                        '<%/if%>'+\r\n                        '<%if paging%>'+\r\n                        '<div class=\"datagrid-paging\"></div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '</div>',\r\n            table:\r\n                '<%each rows v k%>'+\r\n                    '<%if v.length%>'+\r\n                    '<div class=\"datagrid-table<%if k === \"left\" || k === \"right\"%> datagrid-table-fixed<%/if%> datagrid-table-<%k%>\">'+\r\n                        '<div class=\"datagrid-title\">'+\r\n                            '<div class=\"datagrid-thead\">'+\r\n                            '<table class=\"ui-table\">'+\r\n                                '<thead class=\"table-thead\">'+\r\n                                    '<%each v%>'+\r\n                                    '<tr class=\"table-row\">'+\r\n                                        '<%each $value val%>'+\r\n                                        '<th class=\"table-cell\"<%include \"attr\"%>>'+\r\n                                            '<span class=\"cell-text\">'+\r\n                                            '<%if val.content === \"checkbox\"%>'+\r\n                                            '<span class=\"ui-checkradio\">'+\r\n                                            '<input type=\"checkbox\" name=\"datagrid-checkbox\">'+\r\n                                            '</span>'+\r\n                                            '<%else%>'+\r\n                                            '<%val.title%>'+\r\n                                            '<%if typeof val.order === \"object\"%>'+\r\n                                            '<%var asc = Nui.type(val.order.asc, [\"String\", \"Number\"]), desc = Nui.type(val.order.desc, [\"String\", \"Number\"])%>'+\r\n                                            '<em class=\"datagrid-order<%if asc && desc%> datagrid-order-both<%/if%>\" field=\"<%val.order.field%>\">'+\r\n                                            '<%if asc%>'+\r\n                                            '<b class=\"datagrid-order-asc\" type=\"asc\" value=\"<%val.order.asc%>\"><i></i><s></s></b>'+\r\n                                            '<%/if%>'+\r\n                                            '<%if desc%>'+\r\n                                            '<b class=\"datagrid-order-desc\" value=\"<%val.order.desc%>\"><i></i><s></s></b>'+\r\n                                            '<%/if%>'+\r\n                                            '</em>'+\r\n                                            '<%/if%>'+\r\n                                            '<%/if%>'+\r\n                                            '</span>'+\r\n                                        '</th>'+\r\n                                        '<%/each%>'+\r\n                                    '</tr>'+\r\n                                    '<%/each%>'+\r\n                                '</thead>'+\r\n                                '<%if isFixed !== true%>'+\r\n                                '<tbody class=\"table-tbody datagrid-inner\"></tbody>'+\r\n                                '<%/if%>'+\r\n                            '</table>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if isFixed === true%>'+\r\n                        '<div class=\"datagrid-inner\"></div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                    '<%/if%>'+\r\n                '<%/each%>',\r\n            tbody:\r\n                '<%if isFixed === true%>'+\r\n                '<div class=\"datagrid-tbody\">'+\r\n                    '<table class=\"ui-table\">'+\r\n                        '<tbody class=\"table-tbody\">'+\r\n                        '<%include \"rows\"%>'+\r\n                        '</tbody>'+\r\n                    '</table>'+\r\n                '</div>'+\r\n                '<%else%>'+\r\n                '<%include \"rows\"%>'+\r\n                '<%/if%>',\r\n            rows:\r\n                '<%if list && list.length%>'+\r\n                '<%var toLower = function(str){'+\r\n                    'return str.replace(/([A-Z])/g, function(a){'+\r\n                        'return \"-\"+a.toLowerCase()'+\r\n                    '})'+\r\n                '}%>'+\r\n                '<%each list%>'+\r\n                '<tr class=\"table-row\" data-row-index=\"<%$index%>\"<%include \"data\"%>>'+\r\n                    '<%each cols val key%>'+\r\n                    '<%var _value%>'+\r\n                    '<%if val.field && (!val.content || \"number checkbox input\".indexOf(val.content)===-1)%>'+\r\n                    '<%var _value=$value[val.field]%>'+\r\n                    '<%elseif val.content === \"number\"%>'+\r\n                    '<%var _value=$index+1%>'+\r\n                    '<%elseif val.content === \"checkbox\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-checkbox\", \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%elseif val.content === \"input\"%>'+\r\n                    '<%var _value={\"name\":val.field ? val.field : \"datagrid-input\", \"class\":\"datagrid-input\", \"value\":$value[val.field]!==undefined?$value[val.field]:\"\"}%>'+\r\n                    '<%else%>'+\r\n                    '<%var _value=val.content%>'+\r\n                    '<%/if%>'+\r\n                    '<td class=\"table-cell\"<%include \"attr\"%>>'+\r\n                        '<span class=\"cell-text<%if val.nowrap === true%> cell-nowrap<%/if%>\">'+\r\n                        '<%if typeof val.filter === \"function\"%>'+\r\n                        '<%var _value = val.filter(_value, val.field, $value)%>'+\r\n                        '<%/if%>'+\r\n                        '<%if val.content === \"checkbox\" && typeof _value === \"object\"%>'+\r\n                        '<span class=\"checkradio\">'+\r\n                        '<input type=\"checkbox\"<%include \"_attr\"%>>'+\r\n                        '</span>'+\r\n                        '<%elseif val.content === \"input\" && typeof _value === \"object\"%>'+\r\n                        '<input type=\"text\" autocomplete=\"off\"<%include \"_attr\"%>>'+\r\n                        '<%else%>'+\r\n                        '<%_value%>'+\r\n                        '<%/if%>'+\r\n                        '</span>'+\r\n                    '</td>'+\r\n                    '<%/each%>'+\r\n                '</tr>'+\r\n                '<%/each%>'+\r\n                '<%else%>'+\r\n                '<tr>'+\r\n                    '<td class=\"table-cell\">'+\r\n                        \r\n                    '</td>'+\r\n                '</tr>'+\r\n                '<%/if%>',\r\n            head:'',\r\n            foot:'',\r\n            _attr:\r\n                '<%each _value _v _k%>'+\r\n                ' <%_k%>=\"<%_v%>\"'+\r\n                '<%/each%>',\r\n            attr:\r\n                '<%each val value name%>'+\r\n                '<%if \"width field align valign colspan rowspan cellid\".indexOf(name) !== -1%>'+\r\n                ' <%name%>=\"<%value%>\"'+\r\n                '<%/if%>'+\r\n                '<%/each%>',\r\n            data:\r\n                '<%if fields%>'+\r\n                '<%each $value value field%>'+\r\n                '<%if fields === true || $.inArray(field, fields) !== -1%>'+\r\n                ' data-<%toLower(field)%>=<%if typeof stringify === \"function\"%><%stringify(value)%><%else%>\"<%value%>\"<%/if%>'+\r\n                '<%/if%>'+\r\n                '<%/each%>'+\r\n                '<%/if%>'\r\n        },\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self.options;\r\n            if(self._getTarget() && Nui.isArray(opts.columns) && opts.columns.length){\r\n                self._columns = {\r\n                    left:[],\r\n                    normal:[],\r\n                    right:[]\r\n                }\r\n                Nui.each(opts.columns, function(v, k){\r\n                    if(v.fixed === 'left' || v.fixed === true){\r\n                        self._columns.left.push(v)\r\n                    }\r\n                    else if(v.fixed === 'right'){\r\n                        self._columns.right.push(v)\r\n                    }\r\n                    self._columns.normal.push(v)\r\n                })\r\n                self._create()\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            self._rows = {};\r\n            self._cols = {};\r\n            self._rowNumber = _class._getRowNumber(opts.columns, 0, []);\r\n\r\n            Nui.each(self._columns, function(v, k){\r\n                self._setRowCol(v, k)\r\n            })\r\n\r\n            self._hasLeftRight = this._cols.left.length || this._cols.right.length;\r\n\r\n            self.element = $(self._tpl2html('layout', self._tplData({\r\n                rows:self._rows,\r\n                isFixed:opts.isFixed,\r\n                paging:typeof opts.paging === 'object',\r\n                footer:opts.footer\r\n            }))).appendTo(self.target);\r\n\r\n            self._body = self.element.children('.datagrid-body');\r\n            self._tableNormal = self._body.children('.datagrid-table-normal');\r\n            self._tableNormalInner = self._tableNormal.children('.datagrid-inner');\r\n            self._tableNormalTitle = self._tableNormal.children('.datagrid-title');\r\n            self._tableNormalThead = self._tableNormalTitle.children('.datagrid-thead');\r\n            self._tableLeft = self._body.children('.datagrid-table-left');\r\n            self._tableRight = self._body.children('.datagrid-table-right');\r\n            self._tableFixed = self._body.children('.datagrid-table-fixed');\r\n            self._tableFixedInner = self._tableFixed.children('.datagrid-inner');\r\n            self._foot = self.element.children('.datagrid-foot');\r\n\r\n            self._theadHeight();\r\n            self._initList();\r\n            self._bindEvent();\r\n        },\r\n        _initList:function(){\r\n            var self = this, opts = self.options;\r\n            if(opts.paging){\r\n                opts.paging.wrap = self._foot.children('.datagrid-paging');\r\n                var pagingId = 'paging_'+self.__id;\r\n                var echoData = opts.paging.echoData;\r\n                opts.paging.echoData = function(data, type){\r\n                    self._list = data[opts.dataName] || [];\r\n                    self._render();\r\n                    if(typeof echoData === 'function'){\r\n                        echoData.call(opts.paging, data, type)\r\n                    }\r\n                }\r\n                self.paging = $.paging(pagingId, opts.paging);\r\n            }\r\n            else if(opts.data){\r\n                self._list = opts.data;\r\n                self._render();\r\n            }\r\n        },\r\n        _bindEvent:function(){\r\n            var self = this;\r\n            self._on('scroll', self._tableNormalInner, function(){\r\n                self._scroll($(this))\r\n            })\r\n            self._event()\r\n        },\r\n        _render:function(){\r\n            var self = this, opts = self.options;\r\n            Nui.each(self._cols, function(v, k){\r\n                self.element.find('.datagrid-table-'+k+' > .datagrid-inner').html(self._tpl2html('tbody', {\r\n                    isFixed:opts.isFixed,\r\n                    cols:v,\r\n                    fields:opts.fields ? (opts.fields === true ? opts.fields : [].concat(opts.fields)) : null,\r\n                    list:self._list,\r\n                    stringify:opts.stringify\r\n                }))\r\n            })\r\n            self._resetHeight();\r\n            if(typeof opts.onRender === 'function'){\r\n                opts.onRender.call(self)\r\n            }\r\n        },\r\n        _resetHeight:function(){\r\n            var self = this, opts = self.options;\r\n            self._rowHeight();\r\n            if(opts.isFixed === true){\r\n                var conntailerHeight = self.target.innerHeight();\r\n                var tbody = self._tableNormalInner.children('.datagrid-tbody');\r\n                var height = conntailerHeight - self._tableNormalTitle.outerHeight() - self._foot.outerHeight();\r\n\r\n                self._tableNormal.find('.datagrid-thead > .ui-table').width(opts.width);\r\n                self._tableNormal.find('.datagrid-tbody > .ui-table').width(opts.width);\r\n\r\n                if(tbody.children().width() > self._tableNormalInner.width()){\r\n                    self._tableFixedInner.height(height - scrollBarWidth);\r\n                }\r\n                else{\r\n                    self._tableFixedInner.height(height);\r\n                }\r\n                self._tableNormalInner.height(height);\r\n                \r\n                var width = self._tableNormalInner.innerHeight() >= tbody.outerHeight() ? 0 : scrollBarWidth;\r\n                if(!Nui.bsie7){\r\n                    self._tableNormalTitle.css({'padding-right':width});\r\n                }\r\n\r\n                self._tableRight.css('right', width)\r\n            }\r\n        },\r\n        _theadHeight:function(){\r\n            var self = this;\r\n            if(self._hasLeftRight){\r\n                self._tableFixed.find('.table-thead .table-cell').each(function(i){\r\n                    var item = $(this), cellid = item.attr('cellid');\r\n                    var elem = self._tableNormalThead.find('.table-cell[cellid=\"'+ cellid +'\"]');\r\n                    var height = elem.innerHeight();\r\n                    if(Nui.browser.msie){\r\n                        if(Nui.browser.version > 8){\r\n                            height += 1\r\n                        }\r\n                        else if(Nui.browser.version == 7){\r\n                            height -= 1\r\n                        }\r\n                    }\r\n                    item.height(height)\r\n                })\r\n            }\r\n        },\r\n        _rowHeight:function(){\r\n            var self = this;\r\n            if(self._hasLeftRight){\r\n                var LeftRow = self._tableLeft.find('.table-tbody .table-row');\r\n                var RightRow = self._tableLeft.find('.table-tbody .table-row');\r\n\r\n                self._tableNormal.find('.table-tbody .table-row').each(function(i){\r\n                    var height = $(this).outerHeight();\r\n                    LeftRow.eq(i).height(height);\r\n                    RightRow.eq(i).height(height);\r\n                })\r\n            }\r\n        },\r\n        _setRowCol:function(array, type, row){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            if(row === undefined){\r\n                row = 0;\r\n            }\r\n\r\n            if(!self._rows[type]){\r\n                self._rows[type] = []\r\n            }\r\n\r\n            if(!self._cols[type]){\r\n                self._cols[type] = []\r\n            }\r\n\r\n            if(array.length && !self._rows[type][row]){\r\n                self._rows[type][row] = []\r\n            }\r\n\r\n            Nui.each(array, function(v){\r\n                var hasChild = _class._hasChildren(v);\r\n                var data = {};\r\n\r\n                if(hasChild){\r\n                    data.colspan = _class._colspan(v.children);\r\n                    self._setRowCol(v.children, type, row + 1)\r\n                }\r\n\r\n                Nui.each(v, function(val, key){\r\n                    if(key !== 'children' && typeof val !== 'function'){\r\n                        data[key] = val\r\n                    }\r\n                })\r\n\r\n                if(!hasChild){\r\n                    data.rowspan = self._rowNumber - row;\r\n                    self._cols[type].push(v)\r\n                }\r\n\r\n                self._rows[type][row].push(data)\r\n            })\r\n        },\r\n        _callback:function(){\r\n            var args = arguments;\r\n            var type = args[0];\r\n            var callback = this.options['on'+type];\r\n            if(typeof callback === 'function'){\r\n                return callback.apply(this, Array.prototype.slice.call(args, 1))\r\n            }\r\n        },\r\n        _events:{\r\n            'click .table-tbody .table-row':'_active _getRowData _rowclick',\r\n            'dblclick .table-tbody .table-row':'_getRowData _rowdblclick',\r\n            'focus .datagrid-input':'_enable _getRowData _focus',\r\n            'blur .datagrid-input':'_enable _getRowData _blur',\r\n            'focusin .table-tbody .table-cell':'_focusin',\r\n            'focusout .table-tbody .table-cell':'_focusout',\r\n            'click .datagrid-order > b':'_order'\r\n        },\r\n        _order:function(e, elem){\r\n            elem.toggleClass('s-crt');\r\n            elem.siblings().removeClass('s-crt');\r\n            var parent = elem.parent();\r\n            var field = parent.attr('field');\r\n            var value = parent.children('b.s-crt').attr('value');\r\n            if(this.paging){\r\n                this.paging.condition[field] = value;\r\n                this.paging.query(true)\r\n            }\r\n        },\r\n        _enable:function(e, elem){\r\n            return !elem.hasClass('s-dis') && !elem.hasClass('s-disabled')\r\n        },\r\n        _active:function(e, elem){\r\n            var self = this;\r\n            if(self.options.isActive === true){\r\n                self.element.find('.datagrid-tbody .table-row[data-row-index=\"'+ elem.index() +'\"]').addClass('s-crt').siblings().removeClass('s-crt');\r\n                Nui.each(self.__instances, function(val){\r\n                    if(val !== self && val.options.isActive === true){\r\n                        val.element.find('.datagrid-tbody table-row.s-crt').removeClass('s-crt');\r\n                    }\r\n                })\r\n                e.stopPropagation();\r\n            }\r\n        },\r\n        _getRowData:function(e, elem){\r\n            if(elem.hasClass('table-row')){\r\n                return elem.data()\r\n            }\r\n            return elem.closest('.table-row').data()\r\n        },\r\n        _focusin:function(e, elem, data){\r\n            return this._callback('Focusin', e, elem, data)\r\n        },\r\n        _focusout:function(e, elem, data){\r\n            return this._callback('Focusout', e, elem, data)\r\n        },\r\n        _rowclick:function(e, elem, data){\r\n            return this._callback('RowClick', e, elem, data)\r\n        },\r\n        _rowdblclick:function(e, elem, data){\r\n            return this._callback('RowDblclick', e, elem, data)\r\n        },\r\n        _scroll:function(elem){\r\n            var self = this;\r\n            var scrollTop = elem.scrollTop();\r\n            var scrollLeft = elem.scrollLeft();\r\n            self._tableFixedInner.scrollTop(scrollTop);\r\n            self._tableNormalThead.scrollLeft(scrollLeft);\r\n        },\r\n        resize:function(){\r\n            this._theadHeight();\r\n            this._resetHeight()\r\n        }\r\n    })\r\n})\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar datagrid = require('src/components/datagrid');\r\n\t\r\n\tdatagrid({\r\n\t    target:'#data',\r\n\t    //isFixed:false,\r\n\t    //fields:true,\r\n\t    width:'110%',\r\n\t    /*paging:{\r\n\t        url:'http://127.0.0.1/data/'\r\n\t    },*/\r\n\t    footer:'11',\r\n\t    data:[{\r\n\t        id:'11111111',\r\n\t        prov:'安徽', \r\n\t        city:'蚌埠',\r\n\t        address:'安徽蚌',\r\n\t        job:'php工程师',\r\n\t        name:'阿牛'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        vC:{\r\n\t            a:1\r\n\t        },\r\n\t        a:[{\r\n\t            a:1\r\n\t        }],\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        address:'浙江杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }],\r\n\t    columns:[{\r\n\t        title:'编号',\r\n\t        content:'number',\r\n\t        width:'40',\r\n\t        //fixed:true\r\n\t    }, {\r\n\t        title:'ID',\r\n\t        field:'id',\r\n\t        width:'200',\r\n\t        order:{\r\n\t            desc:'1',\r\n\t            asc:'2'\r\n\t        },\r\n\t        select:[{\r\n\t            text:'',\r\n\t            value:''\r\n\t        }]\r\n\t    }, {\r\n\t        title:'期初余额',\r\n\t        field:'address',\r\n\t        width:'400',\r\n\t        children:[{\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            field:'buaddress',\r\n\t            nowrap:true,\r\n\t            filter:function(val, field, data){\r\n\t                return ''\r\n\t            }\r\n\t        }, {\r\n\t            title:'借方',\r\n\t            width:'200',\r\n\t            order:'asc',\r\n\t            field:'buaddress',\r\n\t            nowrap:true\r\n\t        }]\r\n\t    }, {\r\n\t        title:'姓名',\r\n\t        order:'desc',\r\n\t        field:'certificate',\r\n\t        content:'input',\r\n\t        width:200\r\n\t    }, {\r\n\t        title:'职业',\r\n\t        field:'buname'\r\n\t    }, {\r\n\t        title:'操作',\r\n\t        content:'<a class=\"datagrid-button\" on-click=\"alter\">修改</a> <a class=\"datagrid-button\" on-click=\"delete\">删除</a>',\r\n\t        width:150,\r\n\t        fixed:'right'\r\n\t    }],\r\n\t    onRowClick:function(e, elem, data){\r\n\t        //console.log(1)\r\n\t    },\r\n\t    onRowDblclick:function(e, elem, data){\r\n\t        //alert()\r\n\t    },\r\n\t    onRender:function(){\r\n\t        console.log(this)\r\n\t    }\r\n\t})\n});\n"]}