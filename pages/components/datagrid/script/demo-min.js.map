{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","component","this","extend","static","options","_init","_exec","module","require","data","columns","_template","layout","head","foot","body","that","opts","target","_getTarget","isArray","length","_titleRows","_cols","each","arr","line","v","children","obj","colspan","push","val","key","console","log","imports","renders","id","prov","city","job","name","title","field"],"mappings":"AAAAA,IAAIC,OAAO,yBAAyB,aAAc,SAASC,GACvD,MAAOC,MAAKC,OAAOF,GACfG,UAGAC,WAGAC,MAAM,WACFJ,KAAKK,SAETA,MAAM,iBAKdR,IAAIC,OAAO,2BAA2B,aAAc,SAASC,GACzD,GAAIO,GAASN,IACAM,GAAOC,QAAQ,wBAC5B,OAAOD,GAAOL,OAAOF,GACjBG,QACIE,MAAM,cAIVD,SACIK,KAAK,KACLC,QAAQ,MAEZC,WACIC,OAAO,8fAyBPC,KAAK,GACLC,KAAK,GACLC,KAAK,0XAuBTV,MAAM,WACFJ,KAAKK,SAETA,MAAM,WACF,GAAIU,GAAOf,KAAMgB,EAAOD,EAAKZ,QAASc,EAASF,EAAKG,YACpD,IAAGD,GAAUpB,IAAIsB,QAAQH,EAAKP,UAAYO,EAAKP,QAAQW,OAAO,CAC1DL,EAAKM,cACLN,EAAKO,QAEL,IAAIC,GAAO,SAASC,EAAKC,GACjBV,EAAKM,WAAWI,KAChBV,EAAKM,WAAWI,OAEpB5B,IAAI0B,KAAKC,EAAK,SAASE,GACnB,GAAIC,GAAWD,EAAEC,SACbC,IACD/B,KAAIsB,QAAQQ,IAAaA,EAASP,QACjCQ,EAAIC,QAAUF,EAASP,OACvBG,EAAKI,EAAUF,EAAK,IAGpBV,EAAKO,MAAMQ,KAAKJ,GAEpB7B,IAAI0B,KAAKG,EAAG,SAASK,EAAKC,GACJ,kBAARD,KACNH,EAAII,GAAOD,KAGnBhB,EAAKM,WAAWI,GAAMK,KAAKF,KAanC,OATAL,GAAKP,EAAKP,QAAS,GAEnBZ,IAAI0B,KAAKR,EAAKM,WAAY,SAASK,GAC/B7B,IAAI0B,KAAKG,EAAG,SAASK,YAKzBE,SAAQC,IAAInB,EAAKM,kBASjCxB,IAAIC,OAAO,gBAAgB,SAASS,QAAQ4B,QAAQC,QAAQnC,QAE5CM,QAAQ,4BAGnBU,OAAO,QACPT,OACI6B,GAAG,WACHC,KAAK,KACLC,KAAK,KACLC,IAAI,SACJC,KAAK,OAELJ,GAAG,WACHC,KAAK,KACLC,KAAK,KACLC,IAAI,QACJC,KAAK,QAEThC,UACIiC,MAAM,KACNf,WACIe,MAAM,MACNC,MAAM,KACNhB,WACIe,MAAM,OACNC,MAAM,OAEND,MAAM,OACNC,MAAM,SAGVD,MAAM,MACNC,MAAM,SAGVD,MAAM,KACNC,MAAM,SAEND,MAAM,KACNf,WACIe,MAAM,KACNC,MAAM,SAEND,MAAM,KACNC,MAAM,WAGVD,MAAM,KACNC,MAAM","file":"demo-min.js.map?v=7348701","sourcesContent":["Nui.define('src/components/paging',['component'], function(component){\r\n    return this.extend(component, {\r\n        static:{\r\n            \r\n        },\r\n        options:{\r\n            \r\n        },\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            \r\n        }\r\n    })\r\n})\nNui.define('src/components/datagrid',['component'], function(component){\r\n    var module = this;\r\n    var paging = module.require('src/components/paging');\r\n    return module.extend(component, {\r\n        static:{\r\n            _init:function(){\r\n\r\n            }\r\n        },\r\n        options:{\r\n            data:null,\r\n            columns:null\r\n        },\r\n        _template:{\r\n            layout:'<div class=\"nui-datagrid\">'+\r\n                    '<div class=\"datagrid-body\">'+\r\n                        '<div class=\"datagrid-main\">'+\r\n                            '<div class=\"datagrid-table\">'+\r\n                                '<div class=\"datagrid-thead\">'+\r\n                                    '<table class=\"ui-table\">'+\r\n                                        '<tbody class=\"table-tbody\">'+\r\n                                            '<%each titleRows%>'+\r\n                                            '<tr class=\"table-row\">'+\r\n                                                '<%each $value val%>'+\r\n                                                '<th class=\"table-cell\" rowspan=\"<%val.rowspan??%>\" colspan=\"<%val.colspan??%>\">'+\r\n                                                    '<span class=\"cell-text\"><%val.title%></span>'+\r\n                                                '</th>'+\r\n                                                '<%/each%>'+\r\n                                            '</tr>'+\r\n                                            '<%/each%>'+\r\n                                        '</tbody>'+\r\n                                    '</table>'+\r\n                                '</div>'+\r\n                                '<div class=\"datagrid-inner\"></div>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<div class=\"nui-paging\"></div>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            head:'',\r\n            foot:'',\r\n            body:'<div class=\"datagrid-tbody\">'+\r\n                    '<table class=\"ui-table\">'+\r\n                        '<tbody class=\"table-tbody\">'+\r\n                            '<tr class=\"table-row\">'+\r\n                                '<td class=\"table-cell\">'+\r\n                                    '<span class=\"cell-text\">1</div>'+\r\n                                '</td>'+\r\n                            '</tr>'+\r\n                        '</tbody>'+\r\n                    '</table>'+\r\n                '</div>'+\r\n                '<div class=\"datagrid-tfoot\">'+\r\n                    '<table class=\"ui-table\">'+\r\n                        '<tbody class=\"table-tbody\">'+\r\n                            '<tr class=\"table-row\">'+\r\n                                '<td class=\"table-cell\">'+\r\n                                    '<span class=\"cell-text\">1</div>'+\r\n                                '</td>'+\r\n                            '</tr>'+\r\n                        '</tbody>'+\r\n                    '</table>'+\r\n                '</div>'\r\n        },\r\n        _init:function(){\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, target = that._getTarget();\r\n            if(target && Nui.isArray(opts.columns) && opts.columns.length){\r\n                that._titleRows = [];\r\n                that._cols = [];\r\n\r\n                var each = function(arr, line){\r\n                    if(!that._titleRows[line]){\r\n                        that._titleRows[line] = [];\r\n                    }\r\n                    Nui.each(arr, function(v){\r\n                        var children = v.children;\r\n                        var obj = {};\r\n                        if(Nui.isArray(children) && children.length){\r\n                            obj.colspan = children.length;\r\n                            each(children, line+1)\r\n                        }\r\n                        else{\r\n                            that._cols.push(v)\r\n                        }\r\n                        Nui.each(v, function(val, key){\r\n                            if(typeof val !== 'function'){\r\n                                obj[key] = val;\r\n                            }\r\n                        })\r\n                        that._titleRows[line].push(obj);\r\n                    })\r\n                }\r\n\r\n                each(opts.columns, 0)\r\n\r\n                Nui.each(that._titleRows, function(v){\r\n                    Nui.each(v, function(val){\r\n                        \r\n                    })\r\n                })\r\n\r\n                console.log(that._titleRows)\r\n                return\r\n                that.element = $(that._tpl2html('layout', {\r\n                    titleRows:that._titleRows\r\n                })).appendTo(target)\r\n            }\r\n        }\r\n    })\r\n})\nNui.define('./script/demo',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar datagrid = require('src/components/datagrid');\r\n\t\r\n\tdatagrid({\r\n\t    target:'#data',\r\n\t    data:[{\r\n\t        id:'11111111',\r\n\t        prov:'安徽',\r\n\t        city:'蚌埠',\r\n\t        job:'php工程师',\r\n\t        name:'阿牛'\r\n\t    }, {\r\n\t        id:'22222222',\r\n\t        prov:'浙江',\r\n\t        city:'杭州',\r\n\t        job:'前端工程师',\r\n\t        name:'尹加增'\r\n\t    }],\r\n\t    columns:[{\r\n\t        title:'ID',\r\n\t        children:[{\r\n\t            title:'id1',\r\n\t            field:'id',\r\n\t            children:[{\r\n\t                title:'id11',\r\n\t                field:'id',\r\n\t            }, {\r\n\t                title:'id12',\r\n\t                field:'id',\r\n\t            }]\r\n\t        }, {\r\n\t            title:'id2',\r\n\t            field:'id'\r\n\t        }]\r\n\t    }, {\r\n\t        title:'姓名',\r\n\t        field:'name'\r\n\t    }, {\r\n\t        title:'地址',\r\n\t        children:[{\r\n\t            title:'省份',\r\n\t            field:'prov'\r\n\t        }, {\r\n\t            title:'城市',\r\n\t            field:'city'\r\n\t        }]\r\n\t    }, {\r\n\t        title:'职业',\r\n\t        field:'job'\r\n\t    }]\r\n\t})\n});\n"]}