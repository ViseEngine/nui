{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","text","color","component","this","extend","_options","animate","equal","_template","list","wrap","elem","_exec","self","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","_class","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","template","events","statics","_paths","_init","doc","on","back","forward","_setpaths","rule","paths","_replace","hash","replace","location","protocol","host","_getWrapper","container","appendTo","_split","url","ret","params","match","split","k","arr","_change","_active","isEmptyObject","_hash","query","path","indexOf","object","__instances","param","isRender","_isRrender","unWrapper","_wrapper","loaded","_defaultOptions","key","_send","onData","call","wrapper","children","destroy","off","onChange","tmpl","html","render","main","onInit","init","siblings","onAfter","_initialize","bsie7","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","win","_$ready","_$fn","start","temp","_router","RegExp","active","index","history","_history","_isHistory","push","len","i","window","_static","level","onBefore","router","_bind","_jquery","_getpath","sub","shift","join","_event","substr","href","jQuery","trigger","change","preventDefault","option","reset","require","renders","detail","title","tpl"],"mappings":"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","file":"demo-min.js.map?v=b939f10","sourcesContent":["Nui.define('pages/components/router/script/options',function(){\r\n    return {\r\n        text:'1111',\r\n        color:'#f60'\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        _options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _exec:function(){\r\n            var self = this, target = self._getTarget();\r\n            if(target){\r\n                var text = self.deftext = target.attr('placeholder');\r\n                if(!self.deftext && self._options.text){\r\n                    target.attr('placeholder', text = self._options.text)\r\n                }\r\n                self.text = Nui.trim(text);\r\n                if(self.val === undefined){\r\n                    self.val = Nui.trim(target.val());\r\n                }\r\n                if(self.text){\r\n                    self._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    self.target.removeAttr('placeholder')\r\n                }\r\n                var data = self._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':self.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                self.target.wrap(self._tpl2html('wrap', data))\r\n                self.element = $(self._tpl2html('elem', {\r\n                        text:self.text,\r\n                        style:(function(){\r\n                            var height = self.target.outerHeight();\r\n                            var isText = self.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(self.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':_class._getSize(self.target, 'l', 'padding')+_class._getSize(self.target, 'l')+'px',\r\n                                'top':_class._getSize(self.target, 't', 'padding')+_class._getSize(self.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(self.target)\r\n\r\n                self._events()\r\n            }\r\n            else{\r\n                self._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var self = this, opts = self._options;\r\n            self.className = '_placeholder-'+self.__id;\r\n            self.target.addClass(self.className);\r\n            if(!self.constructor.style){\r\n                self._createStyle()\r\n            }\r\n            self._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var self = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            self.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var self = this;\r\n            var sheet = self.constructor.style;\r\n            var id = self.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+self.className+v;\r\n                var rules = 'opacity:1; color:'+(self._options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            var pleft = _class._getSize(self.target, 'l', 'padding') + _class._getSize(self.target, 'l');\r\n            self._on('click', self.element, function(){\r\n                self.target.focus()\r\n            })\r\n\r\n            self._on('focus', self.target, function(){\r\n                opts.animate && self.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            self._on('blur change', self.target, function(e, elem){\r\n                self.value();\r\n            })\r\n\r\n            self._on('keyup keydown', self.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? self.element.hide() : self.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var self = this;\r\n            self._off();\r\n            if(self.element){\r\n                self.element.remove();\r\n                self.target.unwrap();\r\n            }\r\n            self.target.val(self.val).removeClass(self.className);\r\n            if(self.deftext){\r\n                self.target.attr('placeholder', self.deftext)\r\n            }\r\n            else{\r\n                self.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var _class = this.constructor, target = this.target;\r\n            var pleft = _class._getSize(target, 'l', 'padding') + _class._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this._options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this._options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return self.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return self.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var self = this;\r\n            delete self._active;\r\n            if(!$.isEmptyObject(self._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = self._replace(ret.url), query = ret.params;\r\n                Nui.each(self._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = self.__instances[v.id], opts = object._options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            var isRender = object._isRrender === true;\r\n                            var unWrapper = object._isRrender !== false && !object._wrapper;\r\n                            var _isRrender = !object.loaded || isRender || unWrapper;\r\n                            delete object._isRrender;\r\n\r\n                            if(unWrapper || (object._wrapper && isRender)){\r\n                                opts.data = $.extend(true, {}, object._defaultOptions.data);\r\n                            }\r\n\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            self._active = {\r\n                                path:v.path+'/',\r\n                                url:hash+'/',\r\n                                params:param,\r\n                                query:query\r\n                            }\r\n\r\n                            opts.data = $.extend(true, opts.data, self._active);\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data);\r\n                                delete object._send;\r\n                            }\r\n\r\n                            if(_isRrender){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    if(typeof opts.wrapper !== 'boolean'){\r\n                                        object._wrapper = object.container.children(opts.wrapper)\r\n                                    }\r\n                                    else{\r\n                                        object._wrapper = self._getWrapper(object.container)\r\n                                    }\r\n                                }\r\n                                else if(!self._wrapper){\r\n                                    self._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||self._wrapper).off());\r\n                                }\r\n                            }\r\n\r\n                            var wrapper = opts.element = object._wrapper || self._wrapper;\r\n                            \r\n                            if(typeof opts.onChange === 'function'){\r\n                                opts.onChange.call(opts);\r\n                            }\r\n                                \r\n                            if(_isRrender){\r\n                                var tmpl = opts.template;\r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.main, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onInit === 'function'){\r\n                                    opts.onInit.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                object.loaded = true;\r\n                            }\r\n\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            self._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                self._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!self._initialize){\r\n                    Nui.each(self.__instances, function(v){\r\n                        if(!self._isEntry && v._options.entry === true){\r\n                            self._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            else if(v.path){\r\n                                v._render(v.path);\r\n                            }\r\n                            self._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            self._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var self = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(self._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        self._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    self._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        init:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var self = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(new RegExp('^'+val.path), '').replace(/^\\//, '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = self.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                self.start()\r\n            }\r\n        },\r\n        active:function(){\r\n            return this._active\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var self = this, len = self._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(self._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = self._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        _static:statics,\r\n        _options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:2,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onData:null,\r\n            onInit:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var self = this, router = self.constructor;\r\n            if(self._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, router = self.constructor;\r\n            self.container = router._jquery(opts.container);\r\n            if(opts.path && self.container){\r\n                self.path = router._replace(opts.path);\r\n                var paths = self._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(self._getTarget()){\r\n                    self._event()\r\n                }\r\n                return self\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var self = this, path = self.path, opts = self._options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:self.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                self.path = paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var self = this, opts = self._options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+self.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self._options;\r\n            self._on('click', Nui.doc, self.target, function(e, elem){\r\n                self._render(elem);\r\n                e.preventDefault()\r\n            })\r\n            return self\r\n        },\r\n        _reset:function(){\r\n            var self = this, router = self.constructor;\r\n            self._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === self.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        option:null,\r\n        reset:null\r\n    })\r\n})\nNui.define('./script/demo',['src/components/router'], function(router){\r\n\tvar renders = this.renders;\r\n\tvar require = this.require;\r\n\tvar placeholder = require('src/components/placeholder');\r\n\trouter({\r\n\t\ttarget:'#home',\r\n\t\tentry:true,\r\n\t\tpath:'/home/',\r\n\t\twrapper:'#aa',\r\n\t\tcontainer:'#main'\r\n\t})\r\n\tvar placeholder_opts = require('pages/components/router/script/options', true);\r\n\trouter({\r\n\t\ttarget:'#news, .news',\r\n\t\tentry:true,\r\n\t\tpath:'/news/:id/:title',\r\n\t\tcontainer:'#main',\r\n\t\tlevel:2,\r\n\t\ttemplate:{\r\n\t\t\tlist:'<ul>'+\r\n\t\t\t\t\t'<%each list%>'+\r\n\t\t\t\t\t'<li><a href=\"<%$value.url%>/<%$value.title%>\" class=\"news\"><%$value.title%></a></li>'+\r\n\t\t\t\t\t'<%/each%>'+\r\n\t\t\t\t'</ul>',\r\n\t\t\tdetail:'<div>'+\r\n\t\t\t\t\t\t'<h3><%params.title%></h3>'+\r\n\t\t\t\t\t\t'<p>这是<%params.title%>详情，id是<%params.id%>。<input type=\"text\" data-placeholder-options=\"'+ placeholder_opts.id +'\"></p>'+\r\n\t\t\t\t\t'</div>'\r\n\t\t},\r\n\t\tdata:{\r\n\t\t\tlist:[{\r\n\t\t\t\turl:'/news/1',\r\n\t\t\t\ttitle:'资讯1'\r\n\t\t\t},{\r\n\t\t\t\turl:'/news/2',\r\n\t\t\t\ttitle:'资讯2'\r\n\t\t\t}, {\r\n\t\t\t\turl:'/news/3',\r\n\t\t\t\ttitle:'资讯3'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tonChange:function(){\r\n\t\t\tvar tpl = this.template, params = this.data.params;\r\n\t\t\tif(params.id && params.title){\r\n\t\t\t\ttpl.main = tpl.detail;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ttpl.main = tpl.list;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonInit:function(){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\r\n\trouter.start()\r\n})\n"]}