{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","text","color","component","this","extend","_options","animate","equal","onChange","_template","list","wrap","elem","_exec","self","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","_class","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","_callback","template","events","statics","_paths","_init","doc","on","back","forward","_setpaths","rule","paths","_replace","hash","replace","location","protocol","host","_getWrapper","container","appendTo","_split","url","ret","params","match","split","k","arr","_change","_active","isEmptyObject","_hash","query","path","indexOf","object","__instances","param","isRender","_isRrender","unWrapper","_wrapper","loaded","_defaultOptions","key","_send","onData","call","wrapper","children","destroy","off","tmpl","html","render","main","onInit","init","siblings","onAfter","_initialize","bsie7","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","win","_$ready","_$fn","start","temp","_router","RegExp","active","index","history","_history","_isHistory","push","len","i","window","_static","level","onBefore","router","_bind","_jquery","_getpath","sub","shift","join","_event","substr","href","jQuery","trigger","change","preventDefault","option","reset","require","renders","detail","title","tpl"],"mappings":"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","file":"demo-min.js.map?v=fb71898","sourcesContent":["Nui.define('pages/components/router/script/options',function(){\r\n    return {\r\n        text:'1111',\r\n        color:'#f60'\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        _options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc',\r\n            /**\r\n             * @func 调用value方法后执行回调\r\n             * @type <Function>\r\n             */\r\n            onChange:null\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _exec:function(){\r\n            var self = this, target = self._getTarget();\r\n            if(target){\r\n                var text = self.deftext = target.attr('placeholder');\r\n                if(!self.deftext && self._options.text){\r\n                    target.attr('placeholder', text = self._options.text)\r\n                }\r\n                self.text = Nui.trim(text);\r\n                if(self.val === undefined){\r\n                    self.val = Nui.trim(target.val());\r\n                }\r\n                if(self.text){\r\n                    self._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    self.target.removeAttr('placeholder')\r\n                }\r\n                var data = self._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':self.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                self.target.wrap(self._tpl2html('wrap', data))\r\n                self.element = $(self._tpl2html('elem', {\r\n                        text:self.text,\r\n                        style:(function(){\r\n                            var height = self.target.outerHeight();\r\n                            var isText = self.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(self.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':_class._getSize(self.target, 'l', 'padding')+_class._getSize(self.target, 'l')+'px',\r\n                                'top':_class._getSize(self.target, 't', 'padding')+_class._getSize(self.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(self.target)\r\n\r\n                self._events()\r\n            }\r\n            else{\r\n                self._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var self = this, opts = self._options;\r\n            self.className = '_placeholder-'+self.__id;\r\n            self.target.addClass(self.className);\r\n            if(!self.constructor.style){\r\n                self._createStyle()\r\n            }\r\n            self._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var self = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            self.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var self = this;\r\n            var sheet = self.constructor.style;\r\n            var id = self.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+self.className+v;\r\n                var rules = 'opacity:1; color:'+(self._options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            var pleft = _class._getSize(self.target, 'l', 'padding') + _class._getSize(self.target, 'l');\r\n            self._on('click', self.element, function(){\r\n                self.target.focus()\r\n            })\r\n\r\n            self._on('focus', self.target, function(){\r\n                opts.animate && self.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            self._on('blur change', self.target, function(e, elem){\r\n                self.value();\r\n            })\r\n\r\n            self._on('keyup keydown', self.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? self.element.hide() : self.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var self = this;\r\n            self._off();\r\n            if(self.element){\r\n                self.element.remove();\r\n                self.target.unwrap();\r\n            }\r\n            self.target.val(self.val).removeClass(self.className);\r\n            if(self.deftext){\r\n                self.target.attr('placeholder', self.deftext)\r\n            }\r\n            else{\r\n                self.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var _class = this.constructor, target = this.target;\r\n            var pleft = _class._getSize(target, 'l', 'padding') + _class._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this._options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this._options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n            this._callback('Change');\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return self.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return self.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var self = this;\r\n            delete self._active;\r\n            if(!$.isEmptyObject(self._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = self._replace(ret.url), query = ret.params;\r\n                Nui.each(self._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = self.__instances[v.id], opts = object._options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            var isRender = object._isRrender === true;\r\n                            var unWrapper = object._isRrender !== false && !object._wrapper;\r\n                            var _isRrender = !object.loaded || isRender || unWrapper;\r\n                            delete object._isRrender;\r\n\r\n                            if(unWrapper || (object._wrapper && isRender)){\r\n                                opts.data = $.extend(true, {}, object._defaultOptions.data);\r\n                            }\r\n\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            self._active = {\r\n                                path:v.path+'/',\r\n                                url:hash+'/',\r\n                                params:param,\r\n                                query:query\r\n                            }\r\n\r\n                            opts.data = $.extend(true, opts.data, self._active);\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data);\r\n                                delete object._send;\r\n                            }\r\n\r\n                            if(_isRrender){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    if(typeof opts.wrapper !== 'boolean'){\r\n                                        object._wrapper = object.container.children(opts.wrapper)\r\n                                    }\r\n                                    else{\r\n                                        object._wrapper = self._getWrapper(object.container)\r\n                                    }\r\n                                }\r\n                                else if(!self._wrapper){\r\n                                    self._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||self._wrapper).off());\r\n                                }\r\n                            }\r\n\r\n                            var wrapper = opts.element = object._wrapper || self._wrapper;\r\n                            \r\n                            if(typeof opts.onChange === 'function'){\r\n                                opts.onChange.call(opts);\r\n                            }\r\n                                \r\n                            if(_isRrender){\r\n                                var tmpl = opts.template;\r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.main, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onInit === 'function'){\r\n                                    opts.onInit.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                object.loaded = true;\r\n                            }\r\n\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            self._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                self._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!self._initialize){\r\n                    Nui.each(self.__instances, function(v){\r\n                        if(!self._isEntry && v._options.entry === true){\r\n                            self._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            else if(v.path){\r\n                                v._render(v.path);\r\n                            }\r\n                            self._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            self._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var self = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(self._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        self._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    self._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        init:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var self = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(new RegExp('^'+val.path), '').replace(/^\\//, '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = self.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                self.start()\r\n            }\r\n        },\r\n        active:function(){\r\n            return this._active\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var self = this, len = self._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(self._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = self._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        _static:statics,\r\n        _options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:2,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onData:null,\r\n            onInit:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var self = this, router = self.constructor;\r\n            if(self._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, router = self.constructor;\r\n            self.container = router._jquery(opts.container);\r\n            if(opts.path && self.container){\r\n                self.path = router._replace(opts.path);\r\n                var paths = self._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(self._getTarget()){\r\n                    self._event()\r\n                }\r\n                return self\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var self = this, path = self.path, opts = self._options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:self.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                self.path = paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var self = this, opts = self._options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+self.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self._options;\r\n            self._on('click', Nui.doc, self.target, function(e, elem){\r\n                self._render(elem);\r\n                e.preventDefault()\r\n            })\r\n            return self\r\n        },\r\n        _reset:function(){\r\n            var self = this, router = self.constructor;\r\n            self._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === self.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        option:null,\r\n        reset:null\r\n    })\r\n})\nNui.define('./script/demo',['src/components/router'], function(router){\r\n\tvar renders = this.renders;\r\n\tvar require = this.require;\r\n\tvar placeholder = require('src/components/placeholder');\r\n\trouter({\r\n\t\ttarget:'#home',\r\n\t\tentry:true,\r\n\t\tpath:'/home/',\r\n\t\twrapper:'#aa',\r\n\t\tcontainer:'#main'\r\n\t})\r\n\tvar placeholder_opts = require('pages/components/router/script/options', true);\r\n\trouter({\r\n\t\ttarget:'#news, .news',\r\n\t\tentry:true,\r\n\t\tpath:'/news/:id/:title',\r\n\t\tcontainer:'#main',\r\n\t\tlevel:2,\r\n\t\ttemplate:{\r\n\t\t\tlist:'<ul>'+\r\n\t\t\t\t\t'<%each list%>'+\r\n\t\t\t\t\t'<li><a href=\"<%$value.url%>/<%$value.title%>\" class=\"news\"><%$value.title%></a></li>'+\r\n\t\t\t\t\t'<%/each%>'+\r\n\t\t\t\t'</ul>',\r\n\t\t\tdetail:'<div>'+\r\n\t\t\t\t\t\t'<h3><%params.title%></h3>'+\r\n\t\t\t\t\t\t'<p>这是<%params.title%>详情，id是<%params.id%>。<input type=\"text\" data-placeholder-options=\"'+ placeholder_opts.id +'\"></p>'+\r\n\t\t\t\t\t'</div>'\r\n\t\t},\r\n\t\tdata:{\r\n\t\t\tlist:[{\r\n\t\t\t\turl:'/news/1',\r\n\t\t\t\ttitle:'资讯1'\r\n\t\t\t},{\r\n\t\t\t\turl:'/news/2',\r\n\t\t\t\ttitle:'资讯2'\r\n\t\t\t}, {\r\n\t\t\t\turl:'/news/3',\r\n\t\t\t\ttitle:'资讯3'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tonChange:function(){\r\n\t\t\tvar tpl = this.template, params = this.data.params;\r\n\t\t\tif(params.id && params.title){\r\n\t\t\t\ttpl.main = tpl.detail;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ttpl.main = tpl.list;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonInit:function(){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\r\n\trouter.start()\r\n})\n"]}