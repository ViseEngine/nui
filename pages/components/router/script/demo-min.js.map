{"version":3,"sources":["demo-debug.js"],"names":["Nui","define","text","color","component","this","extend","_options","animate","equal","_template","list","wrap","elem","_init","_exec","self","target","_getTarget","deftext","attr","trim","undefined","val","_create","opts","_class","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","$","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","arguments","length","template","events","statics","_paths","doc","on","back","forward","_setpaths","rule","paths","_replace","hash","replace","location","protocol","host","_getWrapper","container","appendTo","_split","url","ret","params","match","split","k","arr","_change","isEmptyObject","_hash","query","path","indexOf","object","__instances","param","isRender","_isRrender","unWrapper","_wrapper","loaded","_defaultOptions","key","_send","onData","call","wrapper","children","destroy","off","onChange","tmpl","html","render","main","onInit","init","siblings","onAfter","_initialize","bsie7","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","win","_$ready","_$fn","start","temp","_router","index","history","_history","_isHistory","active","push","len","i","window","_static","level","onBefore","router","_bind","_jquery","_getpath","sub","shift","join","_event","substr","href","jQuery","trigger","change","preventDefault","option","reset","require","renders","detail","title","tpl"],"mappings":"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","file":"demo-min.js.map?v=043d118","sourcesContent":["Nui.define('pages/components/router/script/options',function(){\r\n    return {\r\n        text:'1111',\r\n        color:'#f60'\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        _options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var self = this, target = self._getTarget();\r\n            if(target){\r\n                var text = self.deftext = target.attr('placeholder');\r\n                if(!self.deftext && self._options.text){\r\n                    target.attr('placeholder', text = self._options.text)\r\n                }\r\n                self.text = Nui.trim(text);\r\n                if(self.val === undefined){\r\n                    self.val = Nui.trim(target.val());\r\n                }\r\n                if(self.text){\r\n                    self._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    self.target.removeAttr('placeholder')\r\n                }\r\n                var data = self._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':self.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                self.target.wrap(self._tpl2html('wrap', data))\r\n                self.element = $(self._tpl2html('elem', {\r\n                        text:self.text,\r\n                        style:(function(){\r\n                            var height = self.target.outerHeight();\r\n                            var isText = self.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(self.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':_class._getSize(self.target, 'l', 'padding')+_class._getSize(self.target, 'l')+'px',\r\n                                'top':_class._getSize(self.target, 't', 'padding')+_class._getSize(self.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(self.target)\r\n\r\n                self._events()\r\n            }\r\n            else{\r\n                self._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var self = this, opts = self._options;\r\n            self.className = '_placeholder-'+self.__id;\r\n            self.target.addClass(self.className);\r\n            if(!self.constructor.style){\r\n                self._createStyle()\r\n            }\r\n            self._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var self = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            self.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var self = this;\r\n            var sheet = self.constructor.style;\r\n            var id = self.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+self.className+v;\r\n                var rules = 'opacity:1; color:'+(self._options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var self = this, opts = self._options, _class = self.constructor;\r\n            var pleft = _class._getSize(self.target, 'l', 'padding') + _class._getSize(self.target, 'l');\r\n            self._on('click', self.element, function(){\r\n                self.target.focus()\r\n            })\r\n\r\n            self._on('focus', self.target, function(){\r\n                opts.animate && self.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            self._on('blur change', self.target, function(e, elem){\r\n                self.value();\r\n            })\r\n\r\n            self._on('keyup keydown', self.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? self.element.hide() : self.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var self = this;\r\n            self._off();\r\n            if(self.element){\r\n                self.element.remove();\r\n                self.target.unwrap();\r\n            }\r\n            self.target.val(self.val).removeClass(self.className);\r\n            if(self.deftext){\r\n                self.target.attr('placeholder', self.deftext)\r\n            }\r\n            else{\r\n                self.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var _class = this.constructor, target = this.target;\r\n            var pleft = _class._getSize(target, 'l', 'padding') + _class._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this._options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this._options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return self.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return self.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var self = this;\r\n            if(!$.isEmptyObject(self._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = self._replace(ret.url), query = ret.params;\r\n                Nui.each(self._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = self.__instances[v.id], opts = object._options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            var isRender = object._isRrender === true;\r\n                            var unWrapper = object._isRrender !== false && !object._wrapper;\r\n                            var _isRrender = !object.loaded || isRender || unWrapper;\r\n                            delete object._isRrender;\r\n\r\n                            if(unWrapper || (object._wrapper && isRender)){\r\n                                opts.data = $.extend(true, {}, object._defaultOptions.data);\r\n                            }\r\n\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            opts.data.path = v.path+'/';\r\n                            opts.data.url = hash+'/';\r\n                            opts.data.params = param;\r\n                            opts.data.query = query;\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data);\r\n                                delete object._send;\r\n                            }\r\n\r\n                            if(_isRrender){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    if(typeof opts.wrapper !== 'boolean'){\r\n                                        object._wrapper = object.container.children(opts.wrapper)\r\n                                    }\r\n                                    else{\r\n                                        object._wrapper = self._getWrapper(object.container)\r\n                                    }\r\n                                }\r\n                                else if(!self._wrapper){\r\n                                    self._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||self._wrapper).off());\r\n                                }\r\n                            }\r\n\r\n                            var wrapper = opts.element = object._wrapper || self._wrapper;\r\n\r\n                            if(typeof opts.onChange === 'function'){\r\n                                opts.onChange.call(opts);\r\n                            }\r\n                                \r\n                            if(_isRrender){\r\n                                var tmpl = opts.template;\r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.main, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onInit === 'function'){\r\n                                    opts.onInit.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                object.loaded = true;\r\n                            }\r\n\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            self._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                self._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!self._initialize){\r\n                    Nui.each(self.__instances, function(v){\r\n                        if(!self._isEntry && v._options.entry === true){\r\n                            self._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            else if(v.path){\r\n                                v._render(v.path);\r\n                            }\r\n                            self._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            self._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var self = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(self._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        self._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    self._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        init:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var self = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(val.path+'/', '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = self.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                self.start()\r\n            }\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var self = this, len = self._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(self._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = self._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        _static:statics,\r\n        _options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:2,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onData:null,\r\n            onInit:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var self = this, router = self.constructor;\r\n            if(self._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self._options, router = self.constructor;\r\n            self.container = router._jquery(opts.container);\r\n            if(opts.path && self.container){\r\n                self.path = router._replace(opts.path);\r\n                var paths = self._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(self._getTarget()){\r\n                    self._event()\r\n                }\r\n                return self\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var self = this, path = self.path, opts = self._options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:self.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                self.path = paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var self = this, opts = self._options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+self.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self._options;\r\n            self._on('click', Nui.doc, self.target, function(e, elem){\r\n                self._render(elem);\r\n                e.preventDefault()\r\n            })\r\n            return self\r\n        },\r\n        _reset:function(){\r\n            var self = this, router = self.constructor;\r\n            self._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === self.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        option:null,\r\n        reset:null\r\n    })\r\n})\nNui.define('./script/demo',['src/components/router'], function(router){\r\n\tvar renders = this.renders;\r\n\tvar require = this.require;\r\n\tvar placeholder = require('src/components/placeholder');\r\n\trouter({\r\n\t\ttarget:'#home',\r\n\t\tentry:true,\r\n\t\tpath:'/home/',\r\n\t\twrapper:'#aa',\r\n\t\tcontainer:'#main'\r\n\t})\r\n\tvar placeholder_opts = require('pages/components/router/script/options', true);\r\n\trouter({\r\n\t\ttarget:'#news, .news',\r\n\t\tentry:true,\r\n\t\tpath:'/news/:id/:title',\r\n\t\tcontainer:'#main',\r\n\t\tlevel:2,\r\n\t\ttemplate:{\r\n\t\t\tlist:'<ul>'+\r\n\t\t\t\t\t'<%each list%>'+\r\n\t\t\t\t\t'<li><a href=\"<%$value.url%>/<%$value.title%>\" class=\"news\"><%$value.title%></a></li>'+\r\n\t\t\t\t\t'<%/each%>'+\r\n\t\t\t\t'</ul>',\r\n\t\t\tdetail:'<div>'+\r\n\t\t\t\t\t\t'<h3><%params.title%></h3>'+\r\n\t\t\t\t\t\t'<p>这是<%params.title%>详情，id是<%params.id%>。<input type=\"text\" data-placeholder-options=\"'+ placeholder_opts.id +'\"></p>'+\r\n\t\t\t\t\t'</div>'\r\n\t\t},\r\n\t\tdata:{\r\n\t\t\tlist:[{\r\n\t\t\t\turl:'/news/1',\r\n\t\t\t\ttitle:'资讯1'\r\n\t\t\t},{\r\n\t\t\t\turl:'/news/2',\r\n\t\t\t\ttitle:'资讯2'\r\n\t\t\t}, {\r\n\t\t\t\turl:'/news/3',\r\n\t\t\t\ttitle:'资讯3'\r\n\t\t\t}]\r\n\t\t},\r\n\t\tonChange:function(){\r\n\t\t\tvar tpl = this.template, params = this.data.params;\r\n\t\t\tif(params.id && params.title){\r\n\t\t\t\ttpl.main = tpl.detail;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\ttpl.main = tpl.list;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonInit:function(){\r\n\t\t\t\r\n\t\t}\r\n\t})\r\n\r\n\trouter.start()\r\n})\n"]}