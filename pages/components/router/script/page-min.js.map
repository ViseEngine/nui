{"version":3,"sources":["page-debug.js"],"names":["Nui","define","ajax","$","options","url","dataType","success","noop","error","apply","this","arguments","extend","cache","statusCode","404","502","renders","tmpl","tpl","target","wrapper","request","html","render","component","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","self","_getTarget","deftext","attr","trim","undefined","val","_create","opts","_class","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","length","static","doc","on","_active","__instances","find","_getcode","type","_getarr","match","code","array","index","indexOf","sub","substr","push","_comment","test","replace","tools","copy","isLight","isLine","isTitle","dom","get","tagName","_event","_title","click tr","siblings","stopPropagation","click .copy","alert","bsie7","_list","title","_getCode","split","str","RegExp","layout","js","ph","path","template","onChange","a","onData","events","click .empty","click a","that","destroy","setTimeout","init","b","c","empty","util","statics","_maskzIndex","_zIndex","timer","win","clearTimeout","isCenter","resize","$fn","$ready","content","maxWidth","maxHeight","edge","container","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTips","isFixed","scrollbar","align","bubble","enable","dir","iframe","src","close","confirm","name","callback","cancel","under","button","onMove","onResize","onScroll","onBeforeDestroy","onTimer","mask","movemask","_container","_jquery","_containerDOM","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","_createButton","_getContent","z-index","_setTop","appendTo","_box","children","_body","main","foot","_iframe","_iframeOnload","_bindMove","_bindTop","_button","_buttonEvent","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","unshift","slice","hasClass","isCall","call","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","pageX","pageY","offsetTop","scrollTop","offsetLeft","scrollLeft","_isTop","_setLower","unders","concat","obj","k","_position","_v","_pos","right","bottom","Function","parseFloat","wWidth","wHeight","sleft","_setSize","edgeSize","ws","layer","_height","_showMask","__layermask__","_time","_timer","onInit","_timerid","noMask","exports","_delete","_isdestroy","onDestroy","module","tips","isClose","loading","message","form","valid","btns","i","submit","formLayer","elems","messages","setting","rule","eval","key","msg","messageFilter","errorClass","onkeyup","focusInvalid","onfocusout","focusCleanup","ignore","errorPlacement","closest","itemWrap","errorWrap","submitHandler","param","getData","result","onBeforeSubmit","res","xhr","onSuccess","onError","validator","validate","_paths","back","forward","_setpaths","paths","_replace","hash","location","protocol","host","_getWrapper","_split","ret","params","arr","_change","isEmptyObject","_hash","query","object","_send","_isRrender","_wrapper","off","onAfter","_initialize","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","_$ready","_$fn","start","temp","_router","history","_history","_isHistory","active","len","window","level","onBefore","router","_bind","_getpath","shift","join","href","trigger","change","option","reset","icon","subs","menu","require","imports","click h3","recordVoucher","_layer","_main","config"],"mappings":"AAAAA,IAAIC,OAAO,sCAAsC,WAC7C,GAAIC,GAAOC,EAAED,IACb,OAAO,UAASE,GACU,gBAAZA,KACNA,GACIC,IAAID,EACJE,SAAS,QAGjB,IAAIC,GAAUH,EAAQG,SAAWJ,EAAEK,KAC/BC,EAAQL,EAAQK,OAASN,EAAEK,IAO/B,OANAJ,GAAQG,QAAU,WACdA,EAAQG,MAAMC,KAAMC,YAExBR,EAAQK,MAAQ,WACZA,EAAMC,MAAMC,KAAMC,YAEfV,EAAKC,EAAEU,QAAO,GACjBC,OAAM,EACNR,SAAS,OACTS,YACIC,IAAM,aAGNC,IAAM,eAIXb,OAGXJ,IAAIC,OAAO,iDAAiD,WACxD,MAAOU,MAAKO,QAAQ,gLAYxBlB,IAAIC,OAAO,qDAAqD,iDAAkD,YAAa,SAASkB,EAAMC,GAE1I,MAAO,UAASC,EAAQC,EAASC,GAC7BD,EAAQE,KAAKJ,EAAIK,OAAON,EAAMI,OAUtCvB,IAAIC,OAAO,8BAA8B,aAAc,SAASyB,GAC5D,MAAOf,MAAKE,OAAOa,GACftB,SAKIuB,KAAK,GAKLC,SAAQ,EAKRC,OAAM,EAKNC,MAAM,QAEVC,WACIC,KAAK,gDACLC,KAAK,kEACLC,KAAK,gDAETC,MAAM,WACFxB,KAAKyB,SAETA,MAAM,WACF,GAAIC,GAAO1B,KAAMU,EAASgB,EAAKC,YAC/B,IAAGjB,EAAO,CACN,GAAIM,GAAOU,EAAKE,QAAUlB,EAAOmB,KAAK,gBAClCH,EAAKE,SAAWF,EAAKjC,QAAQuB,MAC7BN,EAAOmB,KAAK,cAAeb,EAAOU,EAAKjC,QAAQuB,MAEnDU,EAAKV,KAAO3B,IAAIyC,KAAKd,OACLe,KAAbL,EAAKM,MACJN,EAAKM,IAAM3C,IAAIyC,KAAKpB,EAAOsB,QAE5BN,EAAKV,MACJU,EAAKO,YAIjBA,QAAQ,WACJ,GAAIP,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS0C,EAAST,EAAKU,WACpD,KAAGF,EAAKjB,UAAaiB,EAAKjB,SAAa,eAAiBoB,UAASC,cAAc,UAiC3EZ,EAAKa,gBAjCiF,CACnFL,EAAKjB,SACJS,EAAKhB,OAAO8B,WAAW,cAE3B,IAAIC,GAAOf,EAAKgB,UAChBD,GAAKE,OACDC,WAAW,WACXC,UAAU,eACVC,QAAQpB,EAAKhB,OAAOqC,aAAa,KACjCC,WAAW,SACXC,SAAS,QAEbvB,EAAKhB,OAAOY,KAAKI,EAAKwB,UAAU,OAAQT,IACxCf,EAAKyB,QAAU3D,EAAEkC,EAAKwB,UAAU,QACxBlC,KAAKU,EAAKV,KACV2B,MAAM,WACF,GAAIS,GAAS1B,EAAKhB,OAAO2C,cACrBC,EAAS5B,EAAKhB,OAAO6C,GAAG,WAC5B,QACIV,UAAUxD,IAAIyC,KAAKJ,EAAKhB,OAAOsB,OAAS,OAAS,SACjDY,WAAW,WACXY,OAAOrB,EAAOsB,SAAS/B,EAAKhB,OAAQ,IAAK,WAAWyB,EAAOsB,SAAS/B,EAAKhB,OAAQ,KAAK,KACtFgD,MAAMvB,EAAOsB,SAAS/B,EAAKhB,OAAQ,IAAK,WAAWyB,EAAOsB,SAAS/B,EAAKhB,OAAQ,KAAK,KACrF0C,SAASE,EAAS,OAASF,EAAO,KAClCO,cAAcL,EAAS,SAAWF,EAAO,KACzCjC,QAAQe,EAAKf,aAGrByC,YAAYlC,EAAKhB,QAEzBgB,EAAKmC,YAMbtB,UAAU,WACN,GAAIb,GAAO1B,IAAa0B,GAAKjC,OAC7BiC,GAAKoC,UAAY,gBAAgBpC,EAAKqC,KACtCrC,EAAKhB,OAAOsD,SAAStC,EAAKoC,WACtBpC,EAAKU,YAAYO,OACjBjB,EAAKuC,eAETvC,EAAKwC,gBAETD,aAAa,WACT,GAAIvC,GAAO1B,KACP2C,EAAQN,SAASC,cAAc,QACnCD,UAAS8B,KAAKC,YAAYzB,GAC1BjB,EAAKU,YAAYO,MAAQA,EAAM0B,OAEnCH,aAAa,WACT,GAAIxC,GAAO1B,KACPqE,EAAQ3C,EAAKU,YAAYO,MACzB2B,EAAK5C,EAAKqC,IACd,KACIM,EAAME,WAAWD,GAErB,MAAME,IACNnF,IAAIoF,MAAM,8BAA+B,yBAA0B,sBAAuB,SAASC,GAC/F,GAAIC,GAAW,IAAIjD,EAAKoC,UAAUY,EAC9BE,EAAQ,qBAAqBlD,EAAKjC,QAAQ0B,OAAO,GACrD,KACO,WAAakD,GACZA,EAAMQ,QAAQF,EAAUC,EAAON,GAE3B,cAAgBD,IACpBA,EAAMS,WAAWH,EAAW,IAAMC,EAAQ,IAAKN,GAGvD,MAAME,QAGdX,QAAQ,WACJ,GAAInC,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS0C,EAAST,EAAKU,YAChD2C,EAAQ5C,EAAOsB,SAAS/B,EAAKhB,OAAQ,IAAK,WAAayB,EAAOsB,SAAS/B,EAAKhB,OAAQ,IACxFgB,GAAKsD,IAAI,QAAStD,EAAKyB,QAAS,WAC5BzB,EAAKhB,OAAOuE,UAGhBvD,EAAKsD,IAAI,QAAStD,EAAKhB,OAAQ,WAC3BwB,EAAKjB,SAAWS,EAAKyB,QAAQ+B,MAAK,GAAM,GAAOjE,SAASuC,KAAKuB,EAAM,GAAII,QAAQ,UAGnFzD,EAAKsD,IAAI,cAAetD,EAAKhB,OAAQ,SAAS8D,EAAGjD,GAC7CG,EAAK0D,UAGT1D,EAAKsD,IAAI,gBAAiBtD,EAAKhB,OAAQ,SAAS8D,EAAGjD,GAC/ClC,IAAIyC,KAAKP,EAAKS,OAASN,EAAKyB,QAAQkC,OAAS3D,EAAKyB,QAAQmC,UAGlEC,OAAO,WACH,GAAI7D,GAAO1B,IACX0B,GAAK8D,OACF9D,EAAKyB,UACJzB,EAAKyB,QAAQsC,SACb/D,EAAKhB,OAAOgF,UAEhBhE,EAAKhB,OAAOsB,IAAIN,EAAKM,KAAK2D,YAAYjE,EAAKoC,WACxCpC,EAAKE,QACJF,EAAKhB,OAAOmB,KAAK,cAAeH,EAAKE,SAGrCF,EAAKhB,OAAO8B,WAAW,gBAG/B4C,MAAM,SAASpD,GACX,GAAIG,GAASnC,KAAKoC,YAAa1B,EAASV,KAAKU,OACzCqE,EAAQ5C,EAAOsB,SAAS/C,EAAQ,IAAK,WAAayB,EAAOsB,SAAS/C,EAAQ,KAC1EgE,EAAIrF,IAAIyC,KAAM7B,UAAU2F,OAAwBlF,EAAOsB,IAAIA,GAAKA,MAA/BtB,EAAOsB,QACvChC,KAAKP,QAAQyB,OAASwD,IAAM1E,KAAKgB,OAAU0D,GAC5ChE,EAAOsB,IAAI,IACXhC,KAAKmD,SAAWnD,KAAKmD,QAAQmC,OAC1BtF,KAAKP,QAAQwB,SACZjB,KAAKmD,QAAQ+B,MAAK,GAAM,GAAOjE,SAASuC,KAAKuB,EAAOI,QAAQ,OAG5DnF,KAAKmD,SACTnD,KAAKmD,QAAQkC,YAa7BhG,IAAIC,OAAO,qCAAqC,WAC5C,MAAOU,MAAKE,OAAO,aACf2F,QACIrE,MAAM,WACF,GAAIE,GAAO1B,IACXX,KAAIyG,IAAIC,GAAG,QAAS,WACbrE,EAAKsE,SACJ3G,IAAIoF,KAAK/C,EAAKuE,YAAa,SAASjE,GAC7BA,EAAIgE,UACHhE,EAAImB,QAAQ+C,KAAK,YAAYP,YAAY,SACzC3D,EAAIgE,SAAU,KAI1BtE,EAAKsE,SAAU,KAGvBG,SAAS,SAASC,EAAMpF,GACpB,MAAO,gBAAiBoF,EAAM,KAAMpF,EAAM,WAE9CqF,QAAQ,SAASC,EAAOC,GACpB,GAAIC,KAcJ,OAbIF,IAIAjH,IAAIoF,KAAK6B,EAAO,SAAS5B,GACrB,GAAI+B,GAAQF,EAAKG,QAAQhC,GACrBiC,EAAMJ,EAAKK,OAAO,EAAGH,EACzBF,GAAOA,EAAKK,OAAOH,EAAM/B,EAAEkB,QAC3BY,EAAMK,KAAKF,GACXH,EAAMK,KAAKnC,KAEf8B,EAAMK,KAAKN,IAVXC,EAAMK,KAAKN,GAYRC,GAEXM,SAAS,SAASP,GASd,MAPG,OAAOQ,KAAKR,GACXA,EAAOA,EAAKS,QAAQ,sBAAuBhH,KAAKmG,SAAS,UAAW,OAGhE,OAAOY,KAAKR,KAChBA,EAAOA,EAAKS,QAAQ,aAAchH,KAAKmG,SAAS,UAAW,QAExDI,IAGf9G,SAEIwH,OAEIC,MAAK,GAGTC,SAAQ,EAERC,QAAO,EAEPC,SAAQ,GAEZ7F,MAAM,WACFxB,KAAKyB,SAETA,MAAM,WACF,GAAIC,GAAO1B,KAAMU,EAASgB,EAAKC,YAC/B,IAAGjB,EAAO,CACN,GAAI4G,GAAM5G,EAAO6G,IAAI,EACF,YAAhBD,EAAIE,SAAoC,kBAAZF,EAAIlB,OAC/B1E,EAAK6E,KAAO7F,EAAOG,OACNmG,QAAQ,qBAAsB,IAC9BA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACxBtF,EAAKyB,SACJzB,EAAKyB,QAAQsC,SAEjB/D,EAAKO,UACFP,EAAKjC,QAAQ0H,SACZzF,EAAK+F,YAKrBC,OAAO,GACPtG,UACI,oYAsBJyC,SACI8D,WAAW,SAASnD,EAAGjD,GACnBvB,KAAKoC,YAAY4D,QAAUhG,KAAKgG,SAAU,EAC1CzE,EAAKyC,SAAS,SAAS4D,WAAWjC,YAAY,SAC9CnB,EAAEqD,mBAENC,cAAc,WACVC,MAAM,cAGd9F,QAAQ,WACJ,GAAIP,GAAO1B,KACPkC,EAAOR,EAAKjC,QACZgD,EAAOjD,EAAEU,QACT8H,MAAM3I,IAAI2I,MACV3G,KAAKK,EAAKuG,QACVC,MAAMxG,EAAKgG,OACXN,OAAOlF,EAAKkF,OACZH,MAAM/E,EAAK+E,MACXI,QAAQnF,EAAKmF,SACd3F,EAAKgB,WACRhB,GAAKyB,QAAU3D,EAAEkC,EAAKwB,UAAUT,IAAOmB,YAAYlC,EAAKhB,SAE5DyH,SAAS,WACL,MAAOnI,MAAKuG,MAEhB0B,MAAM,WACF,MAAOjI,MAAKmI,WAAWC,MAAM,WAYzC/I,IAAIC,OAAO,sCAAsC,WAC7C,MAAOU,MAAKE,OAAO,sCACfwH,OAAO,KACPS,SAAS,WACL,GAAIzG,GAAO1B,KACPuG,EAAO7E,EAAK6E,KACZpE,EAAST,EAAKU,YACdiG,EAAM,GAKN/B,EAAQC,EAAKD,MAAM,oDACnBE,EAAQrE,EAAOkE,QAAQC,EAAOC,EA6BlC,OA5BAlH,KAAIoF,KAAK+B,EAAO,SAAS9B,GAClBlF,EAAEsC,KAAK4C,KAEH,WAAWqC,KAAKrC,GACfA,EAAIvC,EAAOgE,SAAS,UAAWzB,GAG3B,WAAWqC,KAAKrC,GACpBA,EAAIA,EAAEsC,QAAQ,QAAS7E,EAAOgE,SAAS,UAAW,QAK9CzB,EADD,MAAMqC,KAAKrC,GACNA,EAAEsC,QAAQ,QAAS7E,EAAOgE,SAAS,SAAU,OAI7CzB,EAAEsC,QAAQ,GAAIsB,QAAO,mFAAkB,KAAMnG,EAAOgE,SAAS,SAAU,OACtEa,QAAQ,GAAIsB,QAAO,saAA8B,KAAMnG,EAAOgE,SAAS,UAAW,MAAM,MACxFa,QAAQ,qBAAsB,KAAK7E,EAAOgE,SAAS,SAAU,OAC7Da,QAAQ,qCAAsC,KAAK7E,EAAOgE,SAAS,OAAQ,MAAM,MAG1FzB,EAAIvC,EAAO2E,SAASpC,KAG5B2D,GAAO3D,IAEJ2D,OAKnBhJ,IAAIC,OAAO,oDAAoD,WAC3D,OACIiJ,OAAOvI,KAAKO,QAAQ,6qBAcpB+E,KAAKtF,KAAKO,QACL,0BAIblB,IAAIC,OAAO,wDAAwD,YAAa,oDAAqD,WAAY,sCAAuC,8BAA+B,SAASyB,EAAWP,EAAMC,EAAK+H,EAAIC,GAEtP,OACI/H,OAAO,iBACPgI,KAAK,kBACLC,SAASnI,EACToI,SAAS,iBACE5I,MAAKyC,KAAKoG,GAErBC,OAAO,SAASrG,GACZzC,KAAKyC,KAAKoG,EAAIpG,EAAKoG,GAEvBE,QAEIC,eAAe,QACfC,UAAU,OAEdJ,EAAE,WACE,GAAIK,GAAOlJ,IACXe,GAAUoI,QAAQD,EAAK/F,SACvBiG,WAAW,WACPZ,EAAGa,KAAKH,EAAK/F,SACbsF,EAAGY,KAAKH,EAAK/F,UACd,MAEPmG,EAAE,aAGFC,EAAE,aAGFC,MAAM,WACFf,EAAGrD,MAAMpF,KAAKmD,QAAS,QAWnC9D,IAAIC,OAAO,8BAA8B,YAAa,QAAS,SAASyB,EAAW0I,GAC/E,GAEIC,IACAC,YAAY,IACZC,QAAQ,IACRpI,MAAM,WACF,GAAIW,GAASnC,KACT6J,EAAQ,IACZxK,KAAIyK,IAAI/D,GAAG,SAAU,WACjBgE,aAAaF,GACbA,EAAQT,WAAW,WACf/J,IAAIoF,KAAKtC,EAAO8D,YAAa,SAASjE,GAClC,GAAIE,GAAOF,EAAIvC,SACZyC,EAAKU,WAA8B,IAAlBV,EAAK8H,WACrBhI,EAAIiI,gBAMxBC,IAAI,KACJC,OAAO,KACPd,KAAK,MAGL5J,GAEA2K,QAAQ,GAERtH,MAAM,IAENM,OAAO,OAEPiH,SAAS,EAETC,UAAU,EAEVT,MAAM,EAENU,KAAK,EAELC,UAAU,OAEVtC,MAAM,OAENuC,QAAO,EAEPC,QAAO,EAEPC,aAAY,EAEZC,aAAY,EAEZC,YAAW,EAEXC,QAAO,EAEPd,UAAS,EAETe,QAAO,EAEPC,OAAM,EAENC,QAAO,EAEPC,SAAQ,EAERC,WAAU,EAEVC,MAAM,SAENC,QACIC,QAAO,EACPC,IAAI,OAGRC,QACIF,QAAO,EACPnL,OAAM,EACNsL,IAAI,IAGRC,OACIJ,QAAO,EACPtK,KAAK,KAGT2K,SACIL,QAAO,EACPM,KAAK,SACL5K,KAAK,KACL6K,SAAS,WACL,OAAO,IAIfC,QACIR,QAAO,EACPtK,KAAK,MAQT4B,SAAS,KAITmJ,MAAM,KAWNC,OAAO,KAIPC,OAAO,KAEPC,SAAS,KAETC,SAAS,KAETC,gBAAgB,KAEhBC,QAAQ,KAGZ,OAAOrM,MAAKE,OAAOa,GACf8E,OAAO6D,EACPjK,QAAQA,EACR2B,WACImH,OACI,8kBA8BJyD,OACI,gPAOJR,OACI,kEACJc,KACI,2IAIJC,SACI,qHAGJ5J,MACI,iDAQRF,QACAjB,MAAM,WACFxB,KAAK4J,UAAY5J,KAAKoC,YAAYwH,QAClC5J,KAAKyB,SAETA,MAAM,WACF,GAAIC,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS0C,EAAST,EAAKU,WAEpD,IADAV,EAAK8K,WAAarK,EAAOsK,QAAQvK,EAAKsI,WACnC9I,EAAK8K,WAAW5G,OAAO,CAEtB,GADAlE,EAAKgL,cAAgBhL,EAAK8K,WAAWjF,IAAI,GACP,SAA/B7F,EAAKgL,cAAclF,QAAmB,CACrC9F,EAAKiL,QAAUjL,EAAK8K,WACpB9K,EAAKkL,WAAY,CACjB,IAAIC,GAAMnL,EAAK8K,WAAWM,IAAI,WACnB,cAARD,GAA8B,aAARA,GACrBnL,EAAK8K,WAAWM,IAAI,WAAY,gBAIpCpL,GAAKiL,QAAUtN,IAAIyK,IACnBpI,EAAKkL,WAAY,CAErBlL,GAAKqL,SAAW7K,EAAKgJ,UAAY7L,IAAI2N,OAAStL,EAAKkL,UACnDlL,EAAKO,YAGbA,QAAQ,WACJ,GAAIP,GAAO1B,KAAMkC,EAAOR,EAAKjC,QACzBwN,EAAUvL,EAAKwL,gBAAiB7F,GAAU,GAC3B,IAAhBnF,EAAK+I,SACJ5D,EAAgC,gBAAfnF,GAAKgG,MAE1B,IAAIzF,GAAOf,EAAKgB,UACZ0H,QAAQ1I,EAAKyL,cACbzB,MAAMuB,EAAQvB,MACdM,OAAOiB,EAAQjB,OACf9D,MAAMb,EAAWnF,EAAKgG,OAAO,OAAU,KACvCmD,QAA8B,IAAvBnJ,EAAKmJ,OAAOC,OAAkBpJ,EAAKmJ,OAAOE,IAAM,KACvDH,MAAMlJ,EAAKkJ,OAAS,SACpBzI,OACIyK,UAAU1L,EAAKkI,QACfhH,WAAW,WACXC,UAAU,UAGfnB,GAAKqL,WACJtK,EAAKE,MAAMC,SAAW,SAE1BlB,EAAK2L,UACL3L,EAAKyB,QAAU3D,EAAEkC,EAAKwB,UAAU,SAAUT,IAAO6K,SAAS5L,EAAK8K,YAC/D9K,EAAK6L,KAAO7L,EAAKyB,QAAQqK,SAAS,cAC3C9L,EAAKyC,KAAOzC,EAAK6L,KAAKC,SAAS,eAC/B9L,EAAK+L,MAAQ/L,EAAK6L,KAAKC,SAAS,eAChC9L,EAAKgM,KAAOhM,EAAK+L,MAAMD,SAAS,eAChC9L,EAAKiM,KAAOjM,EAAK6L,KAAKC,SAAS,gBACH,IAAhBtL,EAAK+I,UACsB,IAAvB/I,EAAKsJ,OAAOF,SACX5J,EAAKkM,QAAUlM,EAAKgM,KAAKF,SAAS,UAClC9L,EAAKmM,kBAEU,IAAhB3L,EAAKuI,QAAmBpD,GACvB3F,EAAKoM,aAES,IAAf5L,EAAK8I,OACJtJ,EAAKqM,YAGVrM,EAAKsM,QAAQpI,QACZlE,EAAKuM,gBAEW,IAAjB/L,EAAKgJ,UAAuC,IAAlBxJ,EAAKqL,UAC9BrL,EAAKwM,cAETxM,EAAKyM,SAEThB,YAAY,WACR,GAAIzL,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS2K,EAAU,EAYhD,QAXmB,IAAhBlI,EAAK+I,SAA0C,IAAvB/I,EAAKsJ,OAAOF,OACnClB,EAAU1I,EAAK0M,gBAGY,gBAAjBlM,GAAKkI,QACXA,EAAUlI,EAAKkI,QAEXlI,EAAKkI,kBAAmBiE,UAC5BjE,EAAUlI,EAAKkI,QAAQkE,KAAK,cAG7BlE,GAEXgE,cAAc,WACV,GAAI1M,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAASmM,EAAO,eAAelK,EAAKqC,KAAM0H,EAAMvJ,EAAKsJ,OAAOC,GAIzF,QAH4B,IAAzBhM,EAAQ+L,OAAOrL,QACdsL,EAAMhC,EAAK8E,SAAS,KAAK,GAAIC,OAAOC,UAAWhD,IAE5C/J,EAAKwB,UAAU,UAClBrB,MACI6M,YAAY,IACZ9C,KAAKA,EACLtH,GAAGsH,EACHH,IAAIA,EACJkD,OAAO,SACPhM,MAAM,kBAIlBkL,cAAc,WACV,GAAInM,GAAO1B,IACX0B,GAAKkM,QAAQgB,KAAK,WACdlN,EAAKmN,gBAAkBnN,EAAKkM,QAAQkB,WACpCpN,EAAKqN,aAGb7B,cAAc,WACV,GAAIxL,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAASuP,KAAe/B,KAAcgC,IAuDnE,OAtDAvN,GAAKsM,YACc,IAAhB9L,EAAK+I,SACJ5L,IAAIoF,MAAM,UAAW,UAAW,SAASH,GACrC,GAAI4K,GAAMhN,EAAKoC,EACZ4K,KAAsB,IAAfA,EAAI5D,SACV0D,EAAS1K,IACLA,GAAGA,EACHsH,KAAKsD,EAAItD,KACTjJ,MAAMuM,EAAIvM,MACV3B,KAAKkO,EAAIlO,KACT6K,SAASqD,EAAIrD,aAItB3J,EAAK8J,QAAU9J,EAAK8J,OAAOpG,QAC1BvG,IAAIoF,KAAKvC,EAAK8J,OAAQ,SAAShK,GAC3B,GAAIsC,GAAKtC,EAAIsC,EACT2K,GAAO3K,KACP2K,EAAO3K,IAAM,EACV0K,EAAS1K,KACJtC,EAAIhB,OACM,WAAPsD,EACCtC,EAAIhB,KAAO,KAEA,YAAPsD,IACJtC,EAAIhB,KAAO,aAGZgO,GAAS1K,IAEpB5C,EAAKsM,QAAe,UAAP1J,EAAiB,UAAY,QAAQtC,MAI9D3C,IAAIoF,KAAKuK,EAAU,SAAShN,GACxBN,EAAKsM,QAAQnH,KAAK7E,OAGtBiN,EAAOvD,OAASxJ,EAAKwJ,QAA+B,IAAtBxJ,EAAKwJ,MAAMJ,QACzC5J,EAAKsM,QAAQmB,SACT7K,GAAG,QACHsH,KAAK1J,EAAKwJ,MAAME,KAChBjJ,MAAMT,EAAKwJ,MAAM/I,MACjB3B,KAAKkB,EAAKwJ,MAAM1K,KAChB6K,SAAS3J,EAAKwJ,MAAMG,WAGzBnK,EAAKsM,QAAQ,IAA6B,UAAvBtM,EAAKsM,QAAQ,GAAG1J,IAClC2I,EAAQvB,MAAQhK,EAAKsM,QAAQ,GAC7Bf,EAAQjB,OAAStK,EAAKsM,QAAQoB,MAAM,IAGpCnC,EAAQjB,OAAStK,EAAKsM,QAEnBf,GAEXgB,aAAa,WACT,GAAIvM,GAAO1B,KAAMkC,EAAOR,EAAKjC,OAC7BJ,KAAIoF,KAAK/C,EAAKsM,QAAS,SAAShM,GAC5BN,EAAKsD,IAAI,QAAStD,EAAKyB,QAAS,iBAAiBnB,EAAIsC,GAAI,SAASE,EAAGwH,GACjE,IAAIA,EAAOqD,SAAS,uBAAuB,CACvC,GAAI/K,GAAKtC,EAAIsC,GAAIuH,EAAW7J,EAAI6J,SAC5ByD,EAA6B,kBAAbzD,GAA0BA,EAAS0D,KAAKrN,EAAMsC,EAAG9C,EAAMsK,GAAU,MAC1E,YAAP1H,IAA+B,IAAXgL,GAA4B,YAAPhL,IAA+B,IAAXgL,IAC7D5N,EAAKyH,gBAMzB4E,SAAS,WACL,GAAIrM,GAAO1B,IACX0B,GAAKsD,IAAI,QAAStD,EAAKyB,QAAS,WAC5BzB,EAAK8N,gBAGb1B,UAAU,WACN,GAC+D2B,GAAGC,EAAGC,EAAIC,EADrElO,EAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS0D,EAAUzB,EAAKyB,QACjDhB,EAAST,EAAKU,YAAab,EAAO4B,EAASsH,GAAS,CACxD/I,GAAKsD,IAAI,YAAatD,EAAKyC,KAAM,SAASK,EAAGqL,GACzCpF,GAAS,EACT/I,EAAK8N,cACkB,IAApBtN,EAAK2I,aACJtJ,EAAOG,EAAKoO,UAAYtQ,EAAEkC,EAAKwB,UAAU,YACrC6M,KAAK7N,EAAK6N,KACVpN,OACIyK,UAAU1L,EAAKkI,QAAQ,EACvB3G,SAAS,OACTL,WAAWlB,EAAKqL,SAAW,QAAU,eAEzCO,SAAS5L,EAAK8K,YAClBjL,EAAKuL,KACDhK,MAAMpB,EAAKe,KAAKM,WAAaZ,EAAOsB,SAASlC,EAAM,KAAM,OACzD6B,OAAO1B,EAAKe,KAAKY,YAAclB,EAAOsB,SAASlC,EAAM,KAAM,OAC3DmC,IAAIhC,EAAKe,KAAKiB,IACdF,KAAK9B,EAAKe,KAAKe,QAGvBqM,EAAI/C,IAAI,SAAS,QACjB2C,EAAIjL,EAAEwL,MAAQtO,EAAKe,KAAKe,KACxBkM,EAAIlL,EAAEyL,MAAQvO,EAAKe,KAAKiB,IACxBc,EAAEqD,oBAENnG,EAAKsD,IAAI,YAAa3F,IAAIyG,IAAK,SAAStB,GACpC,GAAI1B,GAAQpB,EAAK8K,WAAWzJ,aAAcK,EAAS1B,EAAK8K,WAAWnJ,aACnE,IAAGoH,EAYC,MAXAkF,GAAKnL,EAAEwL,MAAQP,EACfG,EAAKpL,EAAEyL,MAAQP,EACfC,EAAK,IAAMA,EAAK,GAChBC,EAAK,IAAMA,EAAK,IACQ,IAArB1N,EAAKyI,cACJgF,EAAKjO,EAAKe,KAAKM,WAAaD,IAAU6M,EAAK7M,EAAQpB,EAAKe,KAAKM,YAC7D6M,EAAKlO,EAAKe,KAAKY,YAAcD,IAAWwM,EAAKxM,EAAS1B,EAAKe,KAAKY,cAEpE3B,EAAKe,KAAKiB,IAAMkM,EAChBlO,EAAKe,KAAKe,KAAOmM,EACjBpO,EAAKuL,KAAKpJ,IAAIkM,EAAIpM,KAAKmM,KACflF,IAGhB/I,EAAKsD,IAAI,UAAW3F,IAAIyG,IAAK,SAAStB,GAC/BiG,IACCA,GAAS,EACT/I,EAAKyC,KAAK2I,IAAI,SAAS,YACA,IAApB5K,EAAK2I,aACJ1H,EAAQ2J,IAAIpL,EAAKe,MACjBf,EAAKoO,UAAUrK,SACf/D,EAAKoO,UAAY,MAEK,kBAAhB5N,GAAK+J,QACX/J,EAAK+J,OAAOsD,KAAKrN,EAAMR,GAE3BA,EAAKe,KAAKyN,UAAYxO,EAAKe,KAAKiB,IAAMhC,EAAKiL,QAAQwD,YACnDzO,EAAKe,KAAK2N,WAAa1O,EAAKe,KAAKe,KAAO9B,EAAKiL,QAAQ0D,iBAIjEnC,YAAY,WACR,GAAIxM,GAAO1B,KAAMkC,EAAOR,EAAKjC,OAC7BiC,GAAKsD,IAAI,SAAUtD,EAAKiL,QAAS,WAC7B,GAAIjJ,GAAMhC,EAAKe,KAAKyN,UAAYxO,EAAKiL,QAAQwD,YACzC3M,EAAO9B,EAAKe,KAAK2N,WAAa1O,EAAKiL,QAAQ0D,YAC/C3O,GAAKe,KAAKiB,IAAMA,EAChBhC,EAAKe,KAAKe,KAAOA,EACjB9B,EAAKyB,QAAQ2J,IAAIpL,EAAKe,MACM,kBAAlBP,GAAKiK,UACXjK,EAAKiK,SAASoD,KAAKrN,EAAMR,MAKrC8N,WAAW,WACP,GAAI9N,GAAO1B,KAAMmC,EAAST,EAAKU,WAC5BV,GAAK4O,QAAU5O,EAAKyB,UACnBzB,EAAK4O,QAAS,EACd5O,EAAKkI,UAAYzH,EAAOyH,QACxBlI,EAAKyB,QAAQ2J,IAAI,SAAUpL,EAAKkI,SAChClI,EAAK2L,YAGbkD,UAAU,SAASpH,GACf,GAAIzH,GAAO1B,KAAMmC,EAAST,EAAKU,YAAaF,EAAOR,EAAKjC,QAAS+Q,IAC9DtO,GAAK6J,QACJyE,EAASA,EAAOC,OAAOvO,EAAK6J,OACzByE,EAAO5K,QACNvG,IAAIoF,KAAK+L,EAAQ,SAASE,EAAKC,GACxBD,GAAOA,EAAIvN,SACVuN,EAAIvN,QAAQ2J,IAAI,UAAW3D,EAAUuH,EAAI9G,QAAUzH,EAAOwH,YAAY,OAM1F0D,QAAQ,WACJ,GAAI3L,GAAO1B,KAAMmC,EAAST,EAAKU,WAC/B/C,KAAIoF,KAAKtC,EAAO8D,YAAa,SAASjE,GAC/BA,GAAOA,IAAQN,IAA8B,IAAtBM,EAAIvC,QAAQuL,QAClChJ,EAAIsO,QAAS,MAIzBM,UAAU,WACN,GAMGC,GANCnP,EAAO1B,KAAMyC,EAAOf,EAAKe,KAAMoK,EAAMnL,EAAKjC,QAAQmD,SAClDkO,GACApN,IAAImJ,EAAInJ,IACRF,KAAKqJ,EAAIrJ,KACTuN,MAAMlE,EAAIkE,MACVC,OAAOnE,EAAImE,OA2Cf,YAxCgBjP,KAAb+O,EAAKpN,SAAqC3B,KAAhB+O,EAAKE,cACvBF,GAAKE,WAGCjP,KAAd+O,EAAKtN,UAAqCzB,KAAf+O,EAAKC,aACxBD,GAAKC,MAGhB1R,IAAIoF,KAAKqM,EAAM,SAASpM,EAAGiM,GACvB,OAAS5O,KAAN2C,EAEC,aADOoM,GAAKH,IACL,CAEXE,GAAKnM,EACW,gBAANA,KACFA,EAIS,QAANiM,GAAqB,WAANA,EACL,SAANjM,EACCmM,EAAKpO,EAAKY,YAEN,aAAa0D,KAAKrC,KACtBmM,EAAK,GAAKI,UAAS,cAAcxO,EAAKY,YAAY,YAAYqB,MAIzD,SAANA,EACCmM,EAAKpO,EAAKM,WAEN,aAAagE,KAAKrC,KACtBmM,EAAK,GAAKI,UAAS,cAAcxO,EAAKM,WAAW,YAAY2B,MAhBrEmM,EAAK,GAqBbC,EAAKH,GAAY,SAAPE,EAAgB,OAASK,WAAWL,GAAI,OAG/CC,GAEX/B,QAAQ,SAAS3I,GACb,GAAI1E,GAAO1B,KAAiCkC,GAAlBR,EAAKU,YAAoBV,EAAKjC,SAAS0D,EAAUzB,EAAKyB,QAC5EgO,EAASzP,EAAKiL,QAAQ5J,aACtBqO,EAAU1P,EAAKiL,QAAQtJ,cACvB6B,EAAO,EACPmM,EAAQ,CAMZ,IALI3P,EAAKqL,WACLsE,EAAQ3P,EAAKiL,QAAQ0D,aACrBnL,EAAOxD,EAAKiL,QAAQwD,aAExBzO,EAAK4P,WACFpP,EAAKU,SAAS,CACb,GAAIiK,GAAM1J,EAAQ2J,IAAIpL,EAAKkP,aAAahO,UACrCvD,KAAI2N,QACHqE,EAAQ,EACRnM,EAAO,GAEXxD,EAAKe,KAAKe,KAAOqJ,EAAIrJ,KAAO6N,EAC5B3P,EAAKe,KAAKiB,IAAMmJ,EAAInJ,IAAMwB,MAG1B,IAAY,SAATkB,IAAqC,IAAlBlE,EAAK8H,SAAkB,CACzC,GAAIxG,IAAQ2N,EAASzP,EAAKe,KAAKM,YAAc,EAAIsO,EAC7C3N,GAAO0N,EAAU1P,EAAKe,KAAKY,aAAe,EAAI6B,EAC9CqF,EAAOrI,EAAKqI,KAAO,EAAIrI,EAAKqI,KAAO,CACvC7I,GAAKe,KAAKe,KAAOA,EAAO,EAAIA,EAAO+G,EACnC7I,EAAKe,KAAKiB,IAAMA,EAAM,EAAIA,EAAM6G,EAGxC7I,EAAKe,KAAKyN,UAAYxO,EAAKe,KAAKiB,IAAMhC,EAAKiL,QAAQwD,YACnDzO,EAAKe,KAAK2N,WAAa1O,EAAKe,KAAKe,KAAO9B,EAAKiL,QAAQ0D,aACrDlN,EAAQ2J,IAAIpL,EAAKe,OAErB6O,SAAS,WACL,GAAI5P,GAAO1B,KAAMmC,EAAST,EAAKU,YAAaF,EAAOR,EAAKjC,QAAS0D,EAAUzB,EAAKyB,QAC5EoH,EAAOrI,EAAKqI,KAAO,EAAc,EAAVrI,EAAKqI,KAAS,EACrC4G,EAASzP,EAAKiL,QAAQ5J,aAAewH,EACrC6G,EAAU1P,EAAKiL,QAAQtJ,cAAgBkH,CAE3C7I,GAAK+L,MAAMX,KAAK1J,OAAO,OAAQJ,SAAS,YACxCG,EAAQ2J,KAAKpJ,IAAI,OAAQF,KAAK,OAAQV,MAAM,OAAQM,OAAO,QAE3D,IAAImO,GAAWpP,EAAOsB,SAAS/B,EAAK6L,KAAM,KAAM,OAC5C7L,EAAKyC,KAAKd,cACVlB,EAAOsB,SAAS/B,EAAKyC,KAAM,KAAM,UACjChC,EAAOsB,SAAS/B,EAAK+L,MAAO,KAAM,OAClC/L,EAAKiM,KAAKtK,cACVlB,EAAOsB,SAAS/B,EAAKiM,KAAM,KAAM,UAEjC7K,EAAQK,EAAQJ,cACD,IAAhBb,EAAK6I,QACD7I,EAAKY,MAAQ,EACZA,EAAQZ,EAAKY,OAEM,SAAfZ,EAAKY,QAAwC,IAAnBZ,EAAKiJ,WAAsBrI,EAAQqO,KACjErO,EAAQqO,GAETjP,EAAKmI,SAAW,GAAKvH,GAASZ,EAAKmI,WAClCvH,EAAQZ,EAAKmI,WAIjBvH,EAAQqO,CAGZ,IAAIK,GAAK,UACNtP,EAAKY,MAAQ,GAAKA,GAASZ,EAAKmI,UAAYvH,GAASqO,KACpDK,EAAK,UAGT9P,EAAKe,KAAKK,MAAQA,EAAQX,EAAOsB,SAASN,EAAS,KAAM,OACzDzB,EAAKgM,KAAKZ,IAAI,cAAe0E,GAC7BrO,EAAQL,MAAMpB,EAAKe,KAAKK,MAExB,IAAIM,GAASD,EAAQE,aAClB3B,GAAKmN,kBACJnN,EAAKmN,gBAAgB,GAAG4C,MAAQ/P,EAChC0B,EAASmO,EAAW7P,EAAKmN,gBAAgB3I,KAAK,QAAQ7C,gBAGvC,IAAhBnB,EAAK6I,QACD7I,EAAKkB,OAAS,EACbA,EAASlB,EAAKkB,QAEM,SAAhBlB,EAAKkB,UAA0C,IAAnBlB,EAAKiJ,WAAsBzJ,EAAKmN,kBAAoBzL,EAASgO,KAC7FhO,EAASgO,GAEVlP,EAAKoI,UAAY,GAAKlH,GAAUlB,EAAKoI,YACpClH,EAASlB,EAAKoI,YAIlBlH,EAASgO,EAGb1P,EAAKe,KAAKM,WAAaD,EACvBpB,EAAKe,KAAKY,YAAcD,EACxB1B,EAAKe,KAAKW,OAASA,EAASjB,EAAOsB,SAASN,EAAS,KAAM,OAC3DA,EAAQC,OAAO1B,EAAKe,KAAKW,OACzB,IAAIsO,GAAUhQ,EAAKe,KAAKW,OAASmO,CAC9B7P,GAAKgM,KAAKrK,cAAgBqO,IAAYhQ,EAAKkM,UAA8B,IAAnB1L,EAAKiJ,WAC1DzJ,EAAK+L,MAAMX,IAAI,WAAY,QAE5BpL,EAAKkM,SACJlM,EAAKkM,QAAQxK,OAAOsO,GAExBhQ,EAAK+L,MAAMrK,OAAOsO,IAEtBC,UAAU,WACN,GAAIjQ,GAAO1B,KAAMmC,EAAST,EAAKU,YAAaF,EAAOR,EAAKjC,OACpDiC,GAAKgL,cAAckF,gBACnBlQ,EAAKgL,cAAckF,cAAgBpS,EAAEkC,EAAKwB,UAAU,QAChD6M,KAAK7N,EAAK6N,KACVpN,OACIyK,UAAUjL,EAAOwH,YACjB/G,WAAWlB,EAAKqL,SAAW,QAAU,WACrCrJ,MAAM,MACNF,OAAO,MACPV,QAAQ,OACRM,SAAS1B,EAAKqL,SAAW,OAASrL,EAAK8K,WAAWnJ,cAAc,SAEpEiK,SAAS5L,EAAK8K,cAEE,IAArBtK,EAAK0I,aACJlJ,EAAKsD,IAAI,QAAStD,EAAKgL,cAAckF,cAAe,WAChDlQ,EAAK2D,UAIjB8I,MAAM,WACF,GAAIzM,GAAO1B,KAAMkC,EAAOR,EAAKjC,OAc7B,OAbAsB,GAAU,OAAQW,EAAKgM,MACvBhM,EAAKqN,QAAQ,QACbrN,EAAK6O,aACc,IAAhBrO,EAAKwI,QACJhJ,EAAKiQ,YAENzP,EAAK2H,MAAQ,IACZnI,EAAKmQ,MAAQ3P,EAAK2H,MAClBnI,EAAKoQ,UAEiB,kBAAhB5P,GAAK6P,QACX7P,EAAK6P,OAAOxC,KAAKrN,EAAMR,GAEpBA,GAEXoQ,OAAO,WACH,GAAIpQ,GAAO1B,KAAMkC,EAAOR,EAAKjC,OAC1BiC,GAAKmQ,MAAQ,GACe,kBAAjB3P,GAAKmK,SACXnK,EAAKmK,QAAQkD,KAAKrN,EAAMR,EAAMA,EAAKmQ,OAEvCnQ,EAAKsQ,SAAW5I,WAAW,WACvB1H,EAAKmQ,OAAS,IACdnQ,EAAKoQ,UACNpQ,EAAKmQ,MAAQ,IAAO,IAAOnQ,EAAKmQ,QAGnCnQ,EAAK2D,QAGbE,OAAO,WACH,GAAI7D,GAAO1B,KAAMmC,EAAST,EAAKU,YAAa6P,GAAS,CACrDlR,GAAUmR,QAAQ3M,OAAOgK,KAAKvP,MAC9Be,EAAU,UAAWW,EAAKgM,MAC1BrO,IAAIoF,KAAKtC,EAAO8D,YAAa,SAASjE,GAClC,GAAGA,IAA8B,IAAvBA,EAAIvC,QAAQiL,QAAmB1I,IAAQN,GAAQM,EAAI0K,gBAAkBhL,EAAKgL,cAChF,MAAQuF,IAAS,IAGtBA,GAAUvQ,EAAKgL,cAAckF,gBAC5BlQ,EAAKgL,cAAckF,cAAcnM,SACjC/D,EAAKgL,cAAckF,cAAiB,MAErClQ,EAAKjC,QAAQoK,MAAQ,IACpBnI,EAAKmI,MAAQ,EACbE,aAAarI,EAAKsQ,YAG1B/H,OAAO,WACH,GAAIvI,GAAO1B,KAAMkC,EAAOR,EAAKjC,OAAmBiC,GAAKyB,OAKrD,OAJAzB,GAAKqN,UACuB,kBAAlB7M,GAAKgK,UACXhK,EAAKgK,SAASqD,KAAKrN,EAAMR,GAEtBA,GAEX2D,KAAK,YAC0B,IAAxBrF,KAAKP,QAAQqL,QACZ9K,KAAKmJ,WAGbA,QAAQ,WACJ,GAAIzH,GAAO1B,KAAMmC,EAAST,EAAKU,YAAaF,EAAOR,EAAKjC,OACrB,mBAAzByC,GAAKkK,kBAC+B,IAA1ClK,EAAKkK,gBAAgBmD,KAAKrN,EAAMR,KAGpCA,EAAKyQ,UACLzQ,EAAK6D,SACL7D,EAAK6O,WAAU,GACX7O,EAAK0Q,aACLjQ,EAAOyH,UACPlI,EAAK0Q,YAAa,GAEO,kBAAnBlQ,GAAKmQ,WACXnQ,EAAKmQ,UAAU9C,KAAKrN,EAAMR,SAY1CrC,IAAIC,OAAO,iCAAiC,6BAA8B,QAAS,SAASmS,MAAOhI,MAC/F,GAAI6I,QAAStS,IA4Qb,OA1QAyR,OAAM1J,MAAQ,SAASqC,EAASlC,EAAOpF,EAAOM,GAC1C,GAAIlB,EAMJ,OALsB,gBAAZkI,KACNlI,EAAOkI,EACPA,EAAUlI,EAAKkI,cACRlI,GAAKkI,SAETqH,MAAMjS,EAAEU,QACXkK,QAAQ,iDAAiDA,GAAS,IAAI,SACtElC,MAAMA,EACNpF,MAAMA,EACNM,OAAOA,EACP0I,QACI9K,KAAK,OAEVkB,SAGPuP,MAAM9F,QAAU,SAASvB,EAASyB,EAAU3D,EAAOpF,EAAOM,GACtD,GAAIlB,EAMJ,OALsB,gBAAZkI,KACNlI,EAAOkI,EACPA,EAAUlI,EAAKkI,cACRlI,GAAKkI,SAETqH,MAAMjS,EAAEU,QAAO,GAClBkK,QAAQ,iDAAiDA,GAAS,IAAI,SACtElC,MAAMA,EACNpF,MAAMA,EACNM,OAAOA,EACPgI,MAAM,QACNO,SACIE,SAASA,GAAU,WACf,OAAO,KAGhB3J,OACCyJ,SACIL,QAAO,OAKnBmG,MAAMjG,OAAS,SAASC,EAAKvD,EAAOpF,EAAOM,GACvC,MAAOqO,QACHjG,QACIF,QAAO,EACPG,IAAIA,GAERvD,MAAMA,EACNpF,MAAMA,EACNM,OAAOA,EACP0I,QACI9K,KAAK,SAKjByQ,MAAMc,KAAO,SAASnI,EAASmB,EAAK3I,EAAUE,EAAOM,GACjD,GAAIlB,EAMJ,OALsB,gBAAZkI,KACNlI,EAAOkI,EACPA,EAAUlI,EAAKkI,cACRlI,GAAKkI,SAETqH,MAAMjS,EAAEU,QAAO,GAClBkK,QAAQA,EACR9F,GAAG,OACHxB,MAAMA,GAAO,OACbM,OAAOA,GAAQ,OACfR,SAASA,EACTyI,QACIC,QAAO,EACPC,IAAIA,GAAK,QAEdrJ,OACC+I,QAAO,EACPP,QAAO,EACP8H,SAAQ,EACR9G,OACIJ,QAAO,OAKnBmG,MAAMgB,QAAU,SAASrI,EAAStH,EAAOM,GACrC,GAAIlB,EAWJ,OAVsB,gBAAZkI,KACNlI,EAAOkI,EACPA,EAAUlI,EAAKkI,cACRlI,GAAKkI,SAEb/K,IAAI+G,KAAKgE,EAAS,YACjBhH,EAASN,EACTA,EAAQsH,EACRA,EAAU,IAEPqH,MAAMjS,EAAEU,QACXkK,QAAQ,SAASA,GAAS,aAAa,SACvCtH,MAAMA,GAAO,OACbM,OAAOA,GAAQ,QAChBlB,OACCoC,GAAG,UACH2G,QAAO,EACPS,OACIJ,QAAO,OAKnBmG,MAAMiB,QAAU,SAAStM,EAAMgE,GAC3B,GAAIlI,GAAMf,EAAQ,MAwBlB,OAvBmB,gBAATiF,KACNlE,EAAOkE,EACPgE,EAAUlI,EAAKkI,cACRlI,GAAKkI,QACZhE,EAAO,WAGC,YAATA,GAA+B,UAATA,IACrBgE,EAAUhE,EACVA,EAAO,WAGC,YAATA,GAAuBgE,EAGT,UAAThE,GAAqBgE,IACzBA,EAAU,QAHVA,EAAU,OAMF,YAAThE,IACCjF,EAAQ,WAGLsQ,MAAMjS,EAAEU,QACXkK,QAAQ,mCAAoCjJ,EAAO,MAAMiJ,EAAQ,SACjE9F,GAAG,UACHxB,MAAM,OACNM,OAAO,OACP6H,QAAO,EACPpB,MAAM,KACN6B,OACIJ,QAAO,IAEZpJ,OACCwI,QAAO,MAIf+G,MAAMkB,KAAO,SAASlT,SAClB,GAAIsS,QAAStS,QAAQsS,aACdtS,SAAQsS,MACf,IAAIa,OAAQnT,QAAQmT,MAChBC,KAAOrT,EAAEU,UAAWT,QAAQuM,UAC5B1H,GAAG,SACHtD,KAAK,OAELsD,GAAG,UACHsH,KAAK,SACL5K,KAAK,OAGT3B,KAAIoF,KAAKoO,KAAM,SAAS7Q,EAAK8Q,GACzB,GAAc,YAAX9Q,EAAIsC,KAAqBtC,EAAI6J,SAI5B,MAHAgH,MAAKC,GAAGjH,SAAW,SAAS6B,GACxBA,EAAKxH,KAAK,QAAQ6M,WAEf,UAIRtT,SAAQuM,MACf,IAAIgH,WAAYvB,MAAMjS,EAAEU,QAAO,GAAO8L,OAAO6G,OACzC1H,WAAU,EACV7G,GAAG,OACHyN,OAAO,SAASrE,KAAMpJ,IAClB,GAAI5C,MAAO1B,KACP0N,KAAOhM,KAAKgM,KACZuF,MAAQvF,KAAKxH,KAAK,yBAClByM,KAAOjF,KAAKxH,KAAK,QACjBtB,SACAsO,YACAC,QAAUR,KAAKlQ,KAAK,UACxBwQ,OAAMxO,KAAK,WACP,GAAIlD,MAAO/B,EAAEQ,MACT4L,KAAOrK,KAAKM,KAAK,QACjBY,KAAOlB,KAAKkB,OACZ2Q,KAAOC,KAAK,IAAK5Q,KAAK2Q,KAAM,KAC5BV,QAAUW,KAAK,IAAK5Q,KAAKiQ,QAAS,IACtC9N,OAAMgH,MAAQwH,KACd5T,EAAEiF,KAAKiO,QAAS,SAASY,EAAKC,GACU,kBAA1B9T,SAAQ+T,gBACdd,QAAQY,GAAO7T,QAAQ+T,cAAcjE,KAAK7N,KAAKjC,QAASmM,KAAM2H,IAAM,IAExEb,QAAQY,GAAO,iDAAmDZ,QAAQY,KAE9EJ,SAAStH,MAAQ8G,SAErB,IAAIxQ,OACA0C,MAAMA,MACNsO,SAASA,SACTO,WAAW,QAC1BC,SAAQ,EACRC,cAAa,EACEC,YAAW,EAC1BC,cAAa,EACEC,OAAO,GACPlU,QAAQ,SAASE,EAAOqD,GACtCrD,EAAM2F,SACNjG,EAAE2D,GAASa,SAAS,WAErB+P,eAAe,SAASjU,EAAOqD,GAC9BA,EAAQwC,YAAY,UACjB7F,EAAMkB,QACRmC,EAAQ6Q,QAAQvU,QAAQwU,UAAU,YAAY/N,KAAKzG,QAAQyU,WAAW,WAAWrT,KAAKf,IAGzEqU,cAAc,WACV,GAAIC,KAQJ,IANCA,EAD6B,kBAApB3U,SAAQ4U,QACT5U,QAAQ4U,QAAQ9E,KAAK7N,KAAKjC,QAASkT,MAGhClJ,KAAK4K,QAAQ1B,MAAM2B,OAGM,kBAA3B7U,SAAQ8U,iBAED,KADhBH,EAAQ3U,QAAQ8U,eAAehF,KAAK7N,KAAKjC,QAASiC,KAAM0S,IAEjD,OAAO,CAIf,IAAI3B,GAAUhB,MAAMgB,SAChBrI,QAAQ3K,QAAQgT,SAAS,YACzB1G,MAAMrK,MAGVlC,GAAED,KAAKC,EAAEU,QACLR,IAAIiT,KAAK9Q,KAAK,UACdlC,SAAS,OACTyG,KAAKuM,KAAK9Q,KAAK,WAAW,OAC1BY,KAAK2R,EACLxU,QAAQ,SAAS4U,EAAKC,GAClBhC,EAAQpN,OACwB,kBAAtB5F,SAAQiV,WACdjV,QAAQiV,UAAUnF,KAAK7N,KAAKjC,QAASiC,KAAM8S,EAAKC,IAGxD3U,MAAM,SAAS2U,GACXhC,EAAQpN,OACsB,kBAApB5F,SAAQkV,SACdlV,QAAQkV,QAAQpF,KAAK7N,KAAKjC,QAASiC,KAAM+S,KAGlDhV,QAAQF,UAAW,OAG9BmC,MAAKkT,UAAYjC,KAAKkC,SAASrV,EAAEU,QAAO,EAAMgC,KAAMiR,YAAaP,YAC/C,kBAAXb,SAAyBA,OAAOxC,KAAK7N,KAAKjC,QAASiC,QAE/DjC,aACH,OAAOuT,YAGJvB,QAUXpS,IAAIC,OAAO,yBAAyB,YAAa,WAAY,UAAW,SAASyB,EAAW4H,EAAUI,GAClG,GAAIW,IACAoL,UACAtT,MAAM,WACF,GAAIE,GAAO1B,IACXX,KAAIyG,IAAIC,GAAG,QAAS,mBAAoB,WACpC,MAAOrE,GAAKqT,SACbhP,GAAG,QAAS,sBAAuB,WAClC,MAAOrE,GAAKsT,aAGpBC,UAAU,SAAS7B,EAAM8B,GACjBlV,KAAK8U,OAAO1B,KACZpT,KAAK8U,OAAO1B,GAAQ8B,IAG5BC,SAAS,SAASC,GAEd,MAAOA,GAAKpO,QAAQqO,SAASC,SAAS,KAAKD,SAASE,KAAM,IAE9CvO,QAAQ,OAAQ,IAEhBA,QAAQ,SAAU,IAElBA,QAAQ,WAAY,OAEpBA,QAAQ,MAAO,KAE/BwO,YAAY,SAAShL,GACjB,MAAOhL,GAAE,0CAA0C8N,SAAS9C,IAEhEiL,OAAO,SAAS/V,GACZ,GAAIgW,IACAhW,IAAIA,EACJiW,WAEArP,EAAQ5G,EAAI4G,MAAM,aACtB,IAAGA,EAAM,CACL,GAAIqP,GAASrP,EAAM,EACnBoP,GAAIhW,IAAMA,EAAIsH,QAAQ2O,EAAQ,IAC9BA,EAASA,EAAO3O,QAAQ,IAAK,IAAIoB,MAAM,KACvC/I,IAAIoF,KAAKkR,EAAQ,SAASjR,EAAGiM,GACzB,GAAIiF,GAAMlR,EAAE0D,MAAM,IAClBsN,GAAIC,OAAOC,EAAI,IAAMA,EAAI,KAGjC,MAAOF,IAEXG,QAAQ,WACJ,GAAInU,GAAO1B,IACX,KAAIR,EAAEsW,cAAcpU,EAAKoT,QAAQ,CAC7B,GAAIiB,GAAQV,SAASD,KAAMM,EAAM1V,KAAKyV,OAAOM,GAAQX,EAAO1T,EAAKyT,SAASO,EAAIhW,KAAMsW,EAAQN,EAAIC,MAChGtW,KAAIoF,KAAK/C,EAAKoT,OAAQ,SAASpQ,GAC3B,GAAG0Q,IAAS1Q,EAAEgE,MAAiC,IAAzB0M,EAAK1O,QAAQhC,EAAEgE,MAAY,CAC7C,GAAIiN,GAASP,EAAKpO,QAAQtC,EAAEgE,KAAM,IAAI1B,QAAQ,MAAO,IACjDiP,EAASvU,EAAKuE,YAAYvB,EAAEJ,IAAKpC,EAAO+T,EAAOxW,QAAS2U,IAE5D,IADAuB,EAASA,EAASA,EAAOvN,MAAM,QAC5BuN,EAAO/P,SAAWlB,EAAEiR,OAAO/P,OAAO,CAuBjC,GAtBAvG,IAAIoF,KAAKC,EAAEiR,OAAQ,SAAS3T,EAAKsR,GAC7Bc,EAAMpS,GAAO2T,EAAOrC,KAGxBjU,IAAIoF,KAAKuR,EAAO,SAAShU,EAAKsR,GAC1Bc,EAAMpS,GAAOgU,EAAM1C,KAGpB2C,EAAOC,OAASD,EAAOC,MAAMzT,MAA+B,kBAAhBP,GAAK4G,SAChD5G,EAAK4G,OAAOyG,KAAKrN,EAAM+T,EAAOC,MAAMzT,YAC7BwT,GAAOC,OAGlBhU,EAAKO,KAAKiG,KAAOhE,EAAEgE,KAAK,IACxBxG,EAAKO,KAAK/C,IAAM0V,EAAK,IACrBlT,EAAKO,KAAKkT,OAASvB,EACnBlS,EAAKO,KAAKuT,MAAQA,EAEU,kBAAlB9T,GAAK0G,UACX1G,EAAK0G,SAAS2G,KAAKrN,IAGE,IAAtB+T,EAAOE,aAAwBF,EAAOG,SAAS,CAC3ClU,EAAKvB,UAAYsV,EAAOG,SACvBH,EAAOG,SAAW1U,EAAK8T,YAAYS,EAAOzL,WAErC9I,EAAK0U,WACV1U,EAAK0U,SAAW1U,EAAK8T,YAAYS,EAAOzL,aAEzCyL,EAAOE,YAAeF,EAAOG,UAC5BrV,EAAUoI,SAAS8M,EAAOG,UAAU1U,EAAK0U,UAAUC,MAEvD,IAAI1V,GAAUuB,EAAKiB,QAAU8S,EAAOG,UAAY1U,EAAK0U,SACjD5V,EAAO0B,EAAKyG,QAEbnI,KACoB,gBAATA,GACNG,EAAQE,KAAK8H,EAAS7H,OAAON,EAAM0B,EAAKO,OAGxC9B,EAAQE,KAAK8H,EAAS7H,OAAOyO,KAAK/O,EAAMA,EAAK+H,OAAQrG,EAAKO,QAGxC,kBAAhBP,GAAK6P,QACX7P,EAAK6P,OAAOxC,KAAKrN,GAErB6G,EAAOwG,KAAKrN,GACZnB,EAAUsI,KAAK1I,SACRsV,GAAOE,WAElB,GAAIxV,GAAUsV,EAAOG,UAAY1U,EAAK0U,QAStC,OARAzV,GAAQ2E,OAAOsC,SAAS,uBAAuBvC,OACpB,kBAAjBnD,GAAKoU,SACXpU,EAAKoU,QAAQ/G,KAAKrN,GAEtBR,EAAK6U,YAAcjQ,OAAQ,EACxBjH,IAAI2I,OACHtG,EAAK8U,YAAYT,IAEd,MAKfrU,EAAK6U,aACLlX,IAAIoF,KAAK/C,EAAKuE,YAAa,SAASvB,GAChC,IAAIhD,EAAK+U,WAAgC,IAApB/R,EAAEjF,QAAQiX,MAM3B,MALAhV,GAAK+U,UAAU,EACZ/R,EAAEhE,QACDgE,EAAEiS,QAAQjS,EAAEhE,OAAOkW,GAAG,IAE1BlV,EAAK6U,aAAc,GACZ,IAKvB7U,EAAKmV,SAAWd,GAEpBe,gBAAgB,WACZ,GAAIpV,GAAO1B,IACX,IAAGX,IAAI2I,MAAM,CACT,GAAI+O,GAAa,SAASrB,GACtB,GAAIN,GAAOC,SAASD,IACpB,OAAG1T,GAAKmV,WAAazB,IACTM,EAIhBsB,aAAY,WACLD,KACCrV,EAAKmU,WAEV,KACHkB,GAAW,OAGX1X,KAAIyK,IAAI/D,GAAG,aAAc,WACrBrE,EAAKmU,aAIjBoB,QAAQ,KACRC,KAAK,KACLC,MAAM,WACEnX,KAAKuW,aACLvW,KAAK6V,WAGbR,SAAS,SAAS3V,EAAK+C,EAAM3B,GACzB,GAAIY,GAAO1B,IACX,IAAGN,EAAI,CACAO,UAAU2F,QAAS,GAAqB,iBAATnD,KAC9B3B,EAAS2B,EACTA,EAAO,KAEX,IAAI2U,GAAMC,CACV3X,GAAMM,KAAKmV,SAASzV,GACpBL,IAAIoF,KAAKzE,KAAK8U,OAAQ,SAAS9S,EAAKoR,GAChC,GAAGA,IAAS1T,GAAkC,IAA1BA,EAAIgH,QAAQ1E,EAAI0G,QACf0O,EAAO1X,EAAIsH,QAAQhF,EAAI0G,KAAK,IAAK,MAClC0O,EAAKhP,MAAM,KAAKxC,SAAW5D,EAAI2T,OAAO/P,OAEtD,MADAyR,GAAU3V,EAAKuE,YAAYjE,EAAIsC,KACxB,IAGZ+S,IACCA,EAAQnB,OACJzT,KAAKA,GAET4U,EAAQlB,WAAarV,EACrBuW,EAAQV,QAAQjX,QAIpBgC,GAAKyV,SAGbnC,QAAQ,SAASvO,GAEb,MADA6Q,SAAQtC,QAAQvO,IACT,GAEXsO,KAAK,SAAStO,GAEV,MADA6Q,SAAQvC,KAAKtO,IACN,GA6Cf,OAzCGpH,KAAI2I,QACH0B,EAAQ6N,YACR7N,EAAQ8M,YAAc,SAASpB,GACvBpV,KAAKwX,aACLnY,IAAIoF,KAAKzE,KAAKuX,SAAU,SAASvV,GAC7BA,EAAIyV,QAAS,IAEjBzX,KAAKuX,SAAS1Q,MACVuO,KAAKA,EACLqC,QAAO,KAGfzX,KAAKwX,YAAa,GAEtBnY,IAAIoF,MAAM,UAAW,QAAS,SAASC,GACnC,GAAIU,GAAY,YAAJV,EAAgB,GAAK,CACjCgF,GAAQhF,GAAK,WACT,GAAIhD,GAAO1B,KAAM0X,EAAMhW,EAAK6V,SAAS3R,MAmBrC,OAlBA8D,GAAQ8N,YAAa,EACrBnY,IAAIoF,KAAK/C,EAAK6V,SAAU,SAASvV,EAAK8Q,GAClC,GAAIrM,GAAQqM,EAAI1N,CAChB,IAAGpD,EAAIyV,OAAO,CAEV,IAAc,IAAXhR,GAAgBA,IAAUiR,EAEzB,MADAC,QAAOL,QAAQ5S,MACR,CAEX,IAAI6S,GAAW7V,EAAK6V,SAAS9Q,EAM7B,OALG8Q,KACClC,SAASD,KAAOmC,EAASnC,KACzBmC,EAASE,QAAS,GAEtBzV,EAAIyV,QAAS,GACN,MAGR,MAKZzX,KAAKE,OAAOa,GACf8E,OAAO6D,EACPjK,SACIiJ,KAAK,GACLC,SAAS,GACT6B,UAAU,KACV/H,QACAiU,OAAM,EACN/V,SAAQ,EACRiX,MAAM,EACNC,SAAS,KACTjP,SAAS,KACTE,OAAO,KACPiJ,OAAO,KACPuE,QAAQ,MAEZ9U,MAAM,WACF,GAAIE,GAAO1B,KAAM8X,EAASpW,EAAKU,WAC5BV,GAAKD,UAAYqW,EAAOC,QACvBD,EAAOC,OAAQ,EACfD,EAAOhB,oBAGfrV,MAAM,WACF,GAAIC,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAASqY,EAASpW,EAAKU,WAEpD,IADAV,EAAK8I,UAAYsN,EAAOrL,QAAQvK,EAAKsI,WAClCtI,EAAKwG,MAAQhH,EAAK8I,UAAU,CAC3B9I,EAAKgH,KAAOoP,EAAO3C,SAASjT,EAAKwG,KACjC,IAAIwM,GAAQxT,EAAKsW,WACbN,EAAMxC,EAAMS,OAAO/P,MAIvB,MAHK8R,GAAsB,IAAfxV,EAAK0V,OAA+B,IAAf1V,EAAK0V,QAClCE,EAAO7C,UAAUC,EAAM9B,KAAM8B,GAE9BwC,GAAOxV,EAAK0V,MAAQ,EAEnB,IADA,GAA+BxD,GAAOzN,EAAlCgP,KACEvB,EAAQc,EAAMS,OAAOsC,SACvBtC,EAAO9O,KAAKuN,GACZzN,EAAMgP,EAAOuC,KAHQ,MAIrBJ,EAAO7C,UAAUC,EAAM9B,KAJF,KAIazM,EAAKnH,EAAEU,UAAWgV,GAChDS,OAAOhP,EAAIyB,MALM,QAS7B,IAAG1G,EAAKC,aACJ,MAAOD,GAAK+F,WAIxBuQ,SAAS,WACL,GAAItW,GAAO1B,KAAM0I,EAAOhH,EAAKgH,KAAMxG,EAAOR,EAAKjC,QAASgH,EAAQiC,EAAKhC,QAAQ,MACzEwO,GACA5Q,GAAG5C,EAAKqC,KACR4R,UACAvC,KAAK1K,EACLA,KAAKA,EAST,QAPc,IAAXjC,IACCyO,EAAMS,OAASjN,EAAK9B,OAAOH,EAAM,GAAG2B,MAAM,MAC1C8M,EAAMxM,KAAOA,EAAK9B,OAAO,EAAGH,GACzBvE,EAAK0V,MAAQ,IACZ1C,EAAM9B,KAAO8B,EAAMxM,OAGpBwM,GAEXyB,QAAQ,SAASjX,GACb,GAAIgC,GAAO1B,KAAMkC,EAAOR,EAAKjC,QAAS0Y,EAAOzY,YAAe2O,QAAS3O,EAAImC,KAAK,QAAUnC,CACxF,IAAGyY,EAAK,CACJ,GAAIC,IAAU,EACVC,EAAS,WACTD,GAAU,EACV/C,SAASD,KAAO,KAAK1T,EAAKU,YAAY+S,SAASgD,GAEnD,IAA4B,kBAAlBjW,GAAK2V,WAAgE,IAArC3V,EAAK2V,SAAStI,KAAKrN,EAAMmW,GAC/D,OAAO,CAEPD,IACAC,MAIZ5Q,OAAO,WACH,GAAI/F,GAAO1B,IAAa0B,GAAKjC,OAK7B,OAJAiC,GAAKsD,IAAI,QAAS3F,IAAIyG,IAAKpE,EAAKhB,OAAQ,SAAS8D,EAAGjD,GAEhD,MADAG,GAAKiV,QAAQpV,IACN,IAEJG,GAEX6D,OAAO,WACH,GAAI7D,GAAO1B,KAAM8X,EAASpW,EAAKU,WAO/B,OANAV,GAAK8D,OACLnG,IAAIoF,KAAKqT,EAAOhD,OAAQ,SAAS9S,EAAK8Q,GAC/B9Q,EAAIsC,KAAO5C,EAAKqC,YACR+T,GAAOhD,OAAOhC,KAGtBpR,GAEX4W,OAAO,KACPC,MAAM,SAGdlZ,IAAIC,OAAO,wCACPgF,GAAG,gBACHsH,KAAK,MACLnF,OAAM,EACN+R,KAAK,GACL9P,KAAK,qBAELpE,GAAG,aACHsH,KAAK,MACL4M,KAAK,GACL/R,OAAM,EACNiC,KAAK,6BAELkD,KAAK,KACL4M,KAAK,GACLC,OACInU,GAAG,UACHsH,KAAK,KACL4M,KAAK,GACL9P,KAAK,oBAELpE,GAAG,WACHsH,KAAK,MACL4M,KAAK,GACL9P,KAAK,qBAELpE,GAAG,iBACHsH,KAAK,QACL4M,KAAK,GACL9P,KAAK,8BAGbrJ,IAAIC,OAAO,4CAA4C,WACnD,MAAOU,MAAKO,QAAQ,85BA2BxBlB,IAAIC,OAAO,gDAAgD,4CAA6C,WAAY,uCAAwC,SAASkB,EAAMC,EAAKiY,GAC5K,GAAIpG,GAAStS,KACT8X,EAASxF,EAAOqG,QAAQ,yBACxBlH,EAAQa,EAAOqG,QAAQ,gCAG3B,OAFArG,GAAOsG,QAAQ,sBAGXlY,OAAO,SACPgW,OAAM,EACNhO,KAAK,UACLC,SAASnI,EACTiC,MACIiW,KAAKA,GAET3P,QACIE,UAAU,SAASzE,EAAGjD,GAClBuW,EAAOzC,SAAS9T,EAAKM,KAAK,QACtBgH,EAAE,KAGVgQ,WAAW,WACP,GAAIC,GAAgBxG,EAAOqG,QAAQ,wDAC/B5P,EAASuJ,EAAOqG,QAAQ,UACxBI,EAAStH,GACTrH,QAAQ3J,EAAIK,OAAOyO,KAAKuJ,EAAcnQ,SAAUmQ,EAAcnQ,SAASJ,QACnEoN,QACI9M,EAAE,KAGVkC,QAAO,GAEX+N,GAAc3V,QAAU4V,EAAOC,MAC/BjQ,EAAOwG,KAAKuJ,KAGpB/G,OAAO,gBAKf1S,IAAIC,OAAO,yCAAyC,yBAA0B,SAASwY,GACnF,GAAIxF,GAAStS,IAEb,OAAO,YAEH8X,EAAOmB,QACHzO,UAAU,UACV8L,QAAQ,WACJ9W,EAAE,wBAAwBmG,YAAY,SACtCnG,EAAEQ,KAAKU,QAAQsD,SAAS,YAIhC8T,EAAOxF,EAAOqG,QAAQ,iDAEtBb,EAAOxF,EAAOqG,QAAQ,yDAUtBb,EAAOX,WAGf9X,IAAIC,OAAO,6CAA6C,WACpD,GAAIgT,GAAStS,IACb,QACImE,KAAKmO,EAAO/R,QAAQ,wJAOpBmY,KAAKpG,EAAO/R,QAAQ;6cAuB5BlB,IAAIC,OAAO,yCAAyC,sCAAuC,6CAA8C,YAAa,SAASoZ,EAAMnQ,EAAQ9H,GAEzK,MAAO,UAASgC,GACZjD,EAAE,cAAcqB,KAAKJ,EAAIK,OAAOyH,EAAOpE,KAAM1B,IAC7CA,EAAKiW,KAAOA,EACZlZ,EAAE,WAAWqB,KAAKJ,EAAIK,OAAOyH,EAAOmQ,KAAMjW,OAGlDpD,IAAIC,OAAO,gBAAgB,SAASqZ,QAAQC,QAAQrY,QAAQL,QAC3D,GAAIoS,GAAOtS,KACPc,EAAS6X,QAAQ,yCACjBb,EAASa,QAAQ,yCACjBpZ,EAAOoZ,QAAQ,sCACRC,SAAQ,iBACRA,QAAQ,gBAEnBrZ,IACIG,IAAI,qBACJE,QAAQ,SAAS4U,GACb1T,EAAO0T,GACPsD,OAGRxF,EAAOJ,QAAU","file":"page-min.js.map?v=d6614a8","sourcesContent":["Nui.define('pages/components/router/script/ajax',function(){\r\n    var ajax = $.ajax;\r\n    return function(options){\r\n        if(typeof options === 'string'){\r\n            options = {\r\n                url:options,\r\n                dataType:'json'\r\n            }\r\n        }\r\n        var success = options.success || $.noop;\r\n        var error = options.error || $.noop;\r\n        options.success = function(){\r\n            success.apply(this, arguments)\r\n        }\r\n        options.error = function(){\r\n            error.apply(this, arguments)\r\n        }\r\n        return ajax($.extend(true, {\r\n            cache:false,\r\n            dataType:'json',\r\n            statusCode:{\r\n                '404':function(){\r\n\r\n                },\r\n                '502':function(){\r\n\r\n                }\r\n            }\r\n        }, options))\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/seeVoucher',function(){\r\n    return this.renders(''+''\r\n        +'这是查凭证页面，页面完整url是：<% url %>，路径是：<% path %>'+''\r\n        +'<% if param %>'+''\r\n        +'<br>'+''\r\n        +'参数分别是：'+''\r\n        +'<% each param %>'+''\r\n        +'<% $index %>=<% $value %>，'+''\r\n        +'<% /each %>'+''\r\n        +'<% /if %>'+''\r\n        +'<a id=\"aaa\" class=\"nui-router-back\">返回</a> '+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/seeVoucher',['pages/components/router/script/tpls/seeVoucher', 'template'], function(tmpl, tpl){\r\n    var module = this;\r\n    return function(target, wrapper, request){\r\n        wrapper.html(tpl.render(tmpl, request))\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var self = this, target = self._getTarget();\r\n            if(target){\r\n                var text = self.deftext = target.attr('placeholder');\r\n                if(!self.deftext && self.options.text){\r\n                    target.attr('placeholder', text = self.options.text)\r\n                }\r\n                self.text = Nui.trim(text);\r\n                if(self.val === undefined){\r\n                    self.val = Nui.trim(target.val());\r\n                }\r\n                if(self.text){\r\n                    self._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    self.target.removeAttr('placeholder')\r\n                }\r\n                var data = self._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':self.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                self.target.wrap(self._tpl2html('wrap', data))\r\n                self.element = $(self._tpl2html('elem', {\r\n                        text:self.text,\r\n                        style:(function(){\r\n                            var height = self.target.outerHeight();\r\n                            var isText = self.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(self.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':_class._getSize(self.target, 'l', 'padding')+_class._getSize(self.target, 'l')+'px',\r\n                                'top':_class._getSize(self.target, 't', 'padding')+_class._getSize(self.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(self.target)\r\n\r\n                self._events()\r\n            }\r\n            else{\r\n                self._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var self = this, opts = self.options;\r\n            self.className = '_placeholder-'+self.__id;\r\n            self.target.addClass(self.className);\r\n            if(!self.constructor.style){\r\n                self._createStyle()\r\n            }\r\n            self._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var self = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            self.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var self = this;\r\n            var sheet = self.constructor.style;\r\n            var id = self.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+self.className+v;\r\n                var rules = 'opacity:1; color:'+(self.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            var pleft = _class._getSize(self.target, 'l', 'padding') + _class._getSize(self.target, 'l');\r\n            self._on('click', self.element, function(){\r\n                self.target.focus()\r\n            })\r\n\r\n            self._on('focus', self.target, function(){\r\n                opts.animate && self.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            self._on('blur change', self.target, function(e, elem){\r\n                self.value();\r\n            })\r\n\r\n            self._on('keyup keydown', self.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? self.element.hide() : self.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var self = this;\r\n            self._off();\r\n            if(self.element){\r\n                self.element.remove();\r\n                self.target.unwrap();\r\n            }\r\n            self.target.val(self.val).removeClass(self.className);\r\n            if(self.deftext){\r\n                self.target.attr('placeholder', self.deftext)\r\n            }\r\n            else{\r\n                self.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var _class = this.constructor, target = this.target;\r\n            var pleft = _class._getSize(target, 'l', 'padding') + _class._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description 语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/highlight',function(){\r\n    return this.extend('component', {\r\n        static:{\r\n            _init:function(){\r\n                var self = this;\r\n                Nui.doc.on('click', function(){\r\n                    if(self._active){\r\n                        Nui.each(self.__instances, function(val){\r\n                            if(val._active){\r\n                                val.element.find('tr.s-crt').removeClass('s-crt');\r\n                                val._active = false;\r\n                            }\r\n                        })\r\n                    }\r\n                    self._active = false;\r\n                })\r\n            },\r\n            _getcode:function(type, text){\r\n                return '<code class=\"'+ type +'\">'+ text +'</code>'\r\n            },\r\n            _getarr:function(match, code){\r\n                var array = [];\r\n                if(!match){\r\n                    array.push(code)\r\n                }\r\n                else{\r\n                    Nui.each(match, function(v){\r\n                        var index = code.indexOf(v);\r\n                        var sub = code.substr(0, index);\r\n                        code = code.substr(index+v.length);\r\n                        array.push(sub);\r\n                        array.push(v);\r\n                    })\r\n                    array.push(code);\r\n                }\r\n                return array\r\n            },\r\n            _comment:function(code){\r\n                //多行注释\r\n                if(/\\/\\*/.test(code)){\r\n                    code = code.replace(/(\\/\\*(.|\\s)*?\\*\\/)/g, this._getcode('comment', '$1'))\r\n                }\r\n                //单行注释\r\n                else if(/\\/\\//.test(code)){\r\n                    code = code.replace(/(\\/\\/.*)$/g, this._getcode('comment', '$1'))\r\n                }\r\n                return code\r\n            }\r\n        },\r\n        options:{\r\n            //工具栏\r\n            tools:{\r\n                //复制\r\n                copy:true\r\n            },\r\n            //点击代码那一行高亮\r\n            isLight:true,\r\n            //是否显示行号\r\n            isLine:false,\r\n            //是否显示语法标题\r\n            isTitle:true\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var self = this, target = self._getTarget();\r\n            if(target){\r\n                var dom = target.get(0);\r\n                if(dom.tagName === 'SCRIPT' && dom.type == 'text/highlight'){\r\n                    self.code = target.html()\r\n                                .replace(/^[\\r\\n]+|[\\r\\n]+$/g, '')\r\n                                .replace(/</g, '&lt;')\r\n                                .replace(/>/g, '&gt;');\r\n                    if(self.element){\r\n                        self.element.remove();\r\n                    }\r\n                    self._create();\r\n                    if(self.options.isLight){\r\n                        self._event();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _title:'',\r\n        _template:\r\n            '<div class=\"<% className %>\">'\r\n                +'<%if tools%>'\r\n                +'<div class=\"tools\">'\r\n                    +'<%if tools.copy%>'\r\n                    +'<em class=\"copy\">复制</em>'\r\n                    +'<%/if%>'\r\n                +'</div>'\r\n                +'<%/if%>'\r\n                +'<div class=\"body\">'\r\n                    +'<table>'\r\n                        +'<%each list val key%>'\r\n                            +'<tr>'\r\n                                +'<%if isLine === true%><td class=\"line\" number=\"<%key+1%>\"><%if bsie7%><%key+1%><%/if%></td><%/if%>'\r\n                                +'<td class=\"code\"><%val%></td>'\r\n                            +'</tr>'\r\n                        +'<%/each%>'\r\n                    +'</table>'\r\n                +'</div>'\r\n                +'<%if isTitle%>'\r\n                +'<em class=\"title\"><%title%></em>'\r\n                +'<%/if%>'\r\n            +'</div>',\r\n        _events:{\r\n            'click tr':function(e, elem){\r\n                this.constructor._active = this._active = true;\r\n                elem.addClass('s-crt').siblings().removeClass('s-crt');\r\n                e.stopPropagation()\r\n            },\r\n            'click .copy':function(){\r\n                alert('傻帽！逗你玩呢。')\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this;\r\n            var opts = self.options;\r\n            var data = $.extend({\r\n                bsie7:Nui.bsie7,\r\n                list:self._list(),\r\n                title:self._title,\r\n                isLine:opts.isLine,\r\n                tools:opts.tools,\r\n                isTitle:opts.isTitle\r\n            }, self._tplData())\r\n            self.element = $(self._tpl2html(data)).insertAfter(self.target);\r\n        },\r\n        _getCode:function(){\r\n            return this.code\r\n        },\r\n        _list:function(){\r\n            return this._getCode().split('\\n')\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description javascript语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/javascript',function(){\r\n    return this.extend('src/components/highlight/highlight', {\r\n        _title:'js',\r\n        _getCode:function(){\r\n            var self = this;\r\n            var code = self.code;\r\n            var _class = self.constructor;\r\n            var str = '';\r\n            var kws = 'abstract|arguments|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|elseif|each|enum|eval|export|'+\r\n                      'extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|include|interface|let|long|native|new|null|'+\r\n                      'package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var';\r\n            var symbol = '&lt;|&gt;|;|!|%|\\\\\\|\\\\\\[|\\\\\\]|\\\\\\(|\\\\\\)|\\\\\\{|\\\\\\}|\\\\\\=|\\\\\\/|-|\\\\\\+|,|\\\\\\.|\\\\\\:|\\\\\\?|~|\\\\\\*|&';\r\n            var match = code.match(/(\\/\\/.*)|(\\/\\*(.|\\s)*?\\*\\/)|('[^']*')|(\"[^\"]*\")/g);\r\n            var array = _class._getarr(match, code);\r\n            Nui.each(array, function(v){\r\n                if($.trim(v)){\r\n                    //单行注释\r\n                    if(/^\\s*\\/\\//.test(v)){\r\n                        v = _class._getcode('comment', v);\r\n                    }\r\n                    //多行注释\r\n                    else if(/^\\s*\\/\\*/.test(v)){\r\n                        v = v.replace(/(.+)/g, _class._getcode('comment', '$1'))\r\n                    }\r\n                    else{\r\n                        //字符串\r\n                        if(/'|\"/.test(v)){\r\n                            v = v.replace(/(.+)/g, _class._getcode('string', '$1'))\r\n                        }\r\n                        //关键字、符号、单词\r\n                        else{\r\n                            v = v.replace(new RegExp('('+ symbol +')', 'g'), _class._getcode('symbol', '$1'))\r\n                                .replace(new RegExp('('+ kws +')(\\\\s+|\\\\\\<code)', 'g'), _class._getcode('keyword', '$1')+'$2')\r\n                                .replace(/(\\/code>\\s*)(\\d+)/g, '$1'+_class._getcode('number', '$2'))\r\n                                .replace(/(\\/code>\\s*)?([^<>\\s]+)(\\s*<code)/g, '$1'+_class._getcode('word', '$2')+'$3')\r\n\r\n                        }\r\n                        v = _class._comment(v);\r\n                    }\r\n                }\r\n                str += v;\r\n            })\r\n            return str\r\n        }\r\n    })\r\n})\r\n\nNui.define('pages/components/router/script/tpls/recordVoucher',function(){\r\n    return {\r\n        layout:this.renders(''+''\r\n            +'<input type=\"text\" placeholder=\"aaaaaaaaaaa\" value=\"11\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"111\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"222\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"333\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<div class=\"empty\">还原</div>'+''\r\n            +'<script type=\"text/highlight\" data-javascript-options=\"{id:\\'b\\'}\">'+''\r\n            +'var a = 1;'+''\r\n            +'var b = 2;'+''\r\n            +'</script> '+''\r\n            +'<div class=\"box nui-router-back\">返回<%a??%><%params.a??%></div>'+''\r\n            +'<a id=\"aaa\">aaaaaaaaaaa</a>'+''\r\n            +'<%include \\'show\\'%>'+''\r\n        +''),\r\n        show:this.renders(''+''\r\n            +'1111111111111111112'+''\r\n        +'')\r\n    }\r\n})\nNui.define('pages/components/router/script/modules/recordVoucher',['component', 'pages/components/router/script/tpls/recordVoucher', 'template', 'src/components/highlight/javascript', 'src/components/placeholder'], function(component, tmpl, tpl, js, ph){\r\n    var module = this;\r\n    return {\r\n        target:'#recordVoucher',\r\n        path:'/voucher/record',\r\n        template:tmpl,\r\n        onChange:function(){\r\n            delete this.data.a\r\n        },\r\n        onData:function(data){\r\n            this.data.a = data.a;\r\n        },\r\n        events:{\r\n            //'click b':'b',\r\n            'click .empty':'empty',\r\n            'click a':'c a'\r\n        },\r\n        a:function(){\r\n            var that = this;\r\n            component.destroy(that.element);\r\n            setTimeout(function(){\r\n                js.init(that.element)\r\n                ph.init(that.element)\r\n            }, 1000)\r\n        },\r\n        b:function(){\r\n            //alert()\r\n        },\r\n        c:function(){\r\n            //return confirm('哈哈')\r\n        },\r\n        empty:function(){\r\n            ph.value(this.element, '');\r\n        }\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var _class = this;\r\n            var timer = null;\r\n            Nui.win.on('resize', function(){\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function(){\r\n                    Nui.each(_class.__instances, function(val){\r\n                        var opts = val.options;\r\n                        if(opts.position || opts.isCenter === true){\r\n                            val.resize()\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        //主体内容\r\n        content:'',\r\n        //高度\r\n        width:320,\r\n        //宽度\r\n        height:'auto',\r\n        //最大宽度\r\n        maxWidth:0,\r\n        //最大高度\r\n        maxHeight:0,\r\n        //定时器，N毫秒后自动关闭\r\n        timer:0,\r\n        //弹窗四周距离窗口边缘距离\r\n        edge:0,\r\n        //弹窗容器\r\n        container:'body',\r\n        //弹窗标题\r\n        title:'温馨提示',\r\n        //是否可以拖动\r\n        isMove:false,\r\n        //是否有遮罩\r\n        isMask:true,\r\n        //是否只能在窗口内拖动\r\n        isInnerMove:false,\r\n        //点击遮罩是否关闭弹窗\r\n        isClickMask:false,\r\n        //是否使用遮罩拖动\r\n        isMoveMask:false,\r\n        //是否能用hide方法关闭遮罩\r\n        isHide:true,\r\n        //弹窗是否浏览器改变大小时显示在窗口中央\r\n        isCenter:true,\r\n        //是否全屏显示\r\n        isFull:false,\r\n        //是否在点击弹窗时将其置顶\r\n        isTop:false,\r\n        //是否以提示框展示，没有标题，按钮\r\n        isTips:false,\r\n        //是否拖动滚动条固定位置\r\n        isFixed:true,\r\n        //当内容超过弹出层容器，是否显示滚动条\r\n        scrollbar:true,\r\n        //按钮对齐方式\r\n        align:'center',\r\n        //是否以气泡形式展示，弹出层边缘会多出箭头\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        //弹出层内容展示iframe，不建议跨域使用\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        //关闭按钮\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        //确定按钮\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        //取消按钮\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        /*弹出层定位 top/left/right/bottom\r\n        position:{\r\n            top:10,\r\n            left:10\r\n        }\r\n        */\r\n        position:null,\r\n        /*将弹出层置于遮罩层底部\r\n        under:[layer1, layer2]\r\n        */\r\n        under:null,\r\n        /*配置按钮，若id为confirm/cancel/close将会覆盖内置按钮参数\r\n        button:[{\r\n            id:'confirm',\r\n            text:'确定',\r\n            name:'normal',\r\n            callback:function(){\r\n\r\n            }\r\n        }]\r\n        */\r\n        button:null,\r\n        //onInit：弹出层显示时回调\r\n        //onDestroy：弹出层注销时回调\r\n        //当拖动弹出层移动后回调\r\n        onMove:null,\r\n        //窗口改变大小位置时回调\r\n        onResize:null,\r\n        //容器滚动时回调\r\n        onScroll:null,\r\n        //弹窗销毁前回调，若返回false则不能销毁\r\n        onBeforeDestroy:null,\r\n        //定时关闭弹窗回调\r\n        onTimer:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<div class=\"layer-inner\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%> layer-button-<%btn.id%>\"'+\r\n                    '<%if btn.style%>'+\r\n                    ' style=\"<%each btn.style v n%><%n%>:<%v%>;<%/each%>\"'+\r\n                    '<%/if%>><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>:<%$value%>;<%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        data:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self.options, _class = self.constructor;\r\n            self._container = _class._jquery(opts.container);\r\n            if(self._container.length){\r\n                self._containerDOM = self._container.get(0);\r\n                if(self._containerDOM.tagName !== 'BODY'){\r\n                    self._window = self._container;\r\n                    self._isWindow = false;\r\n                    var pos = self._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        self._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    self._window = Nui.win;\r\n                    self._isWindow = true;\r\n                }\r\n                self._isFixed = opts.isFixed && !Nui.bsie6 && self._isWindow;\r\n                self._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var self = this, opts = self.options;\r\n            var buttons = self._createButton(), isTitle = false;\r\n            if(opts.isTips !== true){\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = self._tplData({\r\n                content:self._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':self._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(self._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            self._setTop();\r\n            self.element = $(self._tpl2html('layout', data)).appendTo(self._container);\r\n            self._box = self.element.children('.layer-box');\r\n\t\t\tself.head = self._box.children('.layer-head');\r\n\t\t\tself._body = self._box.children('.layer-body');\r\n\t\t\tself.main = self._body.children('.layer-main');\r\n\t\t\tself.foot = self._box.children('.layer-foot');\r\n            if(opts.isTips !== true){\r\n                if(opts.iframe.enable === true){\r\n                    self._iframe = self.main.children('iframe');\r\n                    self._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    self._bindMove();\r\n                }\r\n                if(opts.isTop === true){\r\n                    self._bindTop();\r\n                }\r\n            }\r\n            if(self._button.length){\r\n                self._buttonEvent();\r\n            }\r\n            if(opts.isFixed === true && !self._isFixed === true){\r\n                self._bindScroll()\r\n            }\r\n            self._show()\r\n        },\r\n        _getContent:function(){\r\n            var self = this, opts = self.options, content = '';\r\n            if(opts.isTips !== true && opts.iframe.enable === true){\r\n                content = self._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var self = this, opts = self.options, name = 'layer-iframe'+self.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return self._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var self = this;\r\n            self._iframe.load(function(){\r\n                self._iframeDocument = self._iframe.contents();\r\n                self._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var self = this, opts = self.options, defaults = {}, buttons = {}, caches = {};\r\n            self._button = [];\r\n            if(opts.isTips !== true){\r\n                Nui.each(['confirm', 'cancel'], function(id){\r\n                    var btn = opts[id];\r\n                    if(btn && btn.enable === true){\r\n                        defaults[id] = {\r\n                            id:id,\r\n                            name:btn.name,\r\n                            style:btn.style,\r\n                            text:btn.text,\r\n                            callback:btn.callback\r\n                        }\r\n                    }\r\n                });\r\n                if(opts.button && opts.button.length){\r\n                    Nui.each(opts.button, function(val){\r\n                        var id = val.id;\r\n                        if(!caches[id]){\r\n                            caches[id] = true;\r\n                            if(defaults[id]){\r\n                                if(!val.text){\r\n                                    if(id === 'cancel'){\r\n                                        val.text = '取消'\r\n                                    }\r\n                                    else if(id === 'confirm'){\r\n                                        val.text = '确定'\r\n                                    }\r\n                                }\r\n                                delete defaults[id]\r\n                            }\r\n                            self._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                        }\r\n                    })\r\n                }\r\n                Nui.each(defaults, function(val){\r\n                    self._button.push(val)\r\n                });\r\n            }\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                self._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    style:opts.close.style,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(self._button[0] && self._button[0].id === 'close'){\r\n                buttons.close = self._button[0],\r\n                buttons.button = self._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = self._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var self = this, opts = self.options;\r\n            Nui.each(self._button, function(val){\r\n                self._on('click', self.element, '.layer-button-'+val.id, function(e, button){\r\n                    if(!button.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(opts, e, self, button) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            self.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var self = this;\r\n            self._on('click', self.element, function(){\r\n                self._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var self = this, opts = self.options, element = self.element;\r\n            var _class = self.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            self._on('mousedown', self.head, function(e, ele){\r\n                isMove = true;\r\n                self._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = self._moveMask = $(self._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':self._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':self._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(self._container);\r\n                    elem.css({\r\n                        width:self.data.outerWidth - _class._getSize(elem, 'lr', 'all'),\r\n                        height:self.data.outerHeight - _class._getSize(elem, 'tb', 'all'),\r\n                        top:self.data.top,\r\n                        left:self.data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - self.data.left;\r\n                y = e.pageY - self.data.top;\r\n                e.stopPropagation();\r\n            });\r\n            self._on('mousemove', Nui.doc, function(e){\r\n                var width = self._container.outerWidth(), height = self._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + self.data.outerWidth > width && (_x = width - self.data.outerWidth);\r\n                        _y + self.data.outerHeight > height && (_y = height - self.data.outerHeight);\r\n                    }\r\n                    self.data.top = _y;\r\n                    self.data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            self._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    self.head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(self.data);\r\n                        self._moveMask.remove();\r\n                        self._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(opts, self)\r\n                    }\r\n                    self.data.offsetTop = self.data.top - self._window.scrollTop();\r\n                    self.data.offsetLeft = self.data.left - self._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var self = this, opts = self.options;\r\n            self._on('scroll', self._window, function(){\r\n                var top = self.data.offsetTop + self._window.scrollTop();\r\n                var left = self.data.offsetLeft + self._window.scrollLeft();\r\n                self.data.top = top;\r\n                self.data.left = left;\r\n                self.element.css(self.data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(opts, self)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var self = this, _class = self.constructor;\r\n            if(self._isTop && self.element){\r\n                self._isTop = false;\r\n                self._zIndex = ++_class._zIndex;\r\n                self.element.css('zIndex', self._zIndex);\r\n                self._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var self = this, _class = self.constructor, opts = self.options, unders = [];\r\n            if(opts.under){\r\n                unders = unders.concat(opts.under);\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : _class._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var self = this, _class = self.constructor;\r\n            Nui.each(_class.__instances, function(val){\r\n                if(val && val !== self && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _position:function(){\r\n            var self = this, data = self.data, pos = self.options.position;\r\n            var _pos = {\r\n                top:pos.top,\r\n                left:pos.left,\r\n                right:pos.right,\r\n                bottom:pos.bottom\r\n            }, _v;\r\n\r\n            if(_pos.top !== undefined && _pos.bottom !== undefined){\r\n                delete _pos.bottom\r\n            }\r\n\r\n            if(_pos.left !== undefined && _pos.right !== undefined){\r\n                delete _pos.right\r\n            }\r\n\r\n            Nui.each(_pos, function(v, k){\r\n                if(v === undefined){\r\n                    delete _pos[k];\r\n                    return true;\r\n                }\r\n                _v = v;\r\n                if(typeof v === 'string'){\r\n                    if(!v){\r\n                        _v = 0\r\n                    }\r\n                    else{\r\n                        if(k === 'top' || k === 'bottom'){\r\n                            if(v === 'self'){\r\n                                _v = data.outerHeight\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerHeight+'; return '+v))()\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(v === 'self'){\r\n                                _v = data.outerWidth\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerWidth+'; return '+v))()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _pos[k] = _v === 'auto' ? 'auto' : parseFloat(_v)+'px'\r\n            })\r\n\r\n            return _pos\r\n        },\r\n        _resize:function(type){\r\n            var self = this, _class = self.constructor, opts = self.options, element = self.element;\r\n            var wWidth = self._window.outerWidth();\r\n            var wHeight = self._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!self._isFixed){\r\n                sleft = self._window.scrollLeft();\r\n                stop = self._window.scrollTop();\r\n            }\r\n            self._setSize();\r\n            if(opts.position){\r\n                var pos = element.css(self._position()).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                self.data.left = pos.left + sleft;\r\n                self.data.top = pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - self.data.outerWidth) / 2 + sleft;\r\n                    var top = (wHeight - self.data.outerHeight) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    self.data.left = left > 0 ? left : edge;\r\n                    self.data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            self.data.offsetTop = self.data.top - self._window.scrollTop();\r\n            self.data.offsetLeft = self.data.left - self._window.scrollLeft();\r\n            element.css(self.data);\r\n        },\r\n        _setSize:function(){\r\n            var self = this, _class = self.constructor, opts = self.options, element = self.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = self._window.outerWidth() - edge;\r\n            var wHeight = self._window.outerHeight() - edge;\r\n\r\n            self._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            \r\n            var edgeSize = _class._getSize(self._box, 'tb', 'all') +\r\n                self.head.outerHeight() + \r\n                _class._getSize(self.head, 'tb', 'margin') + \r\n                _class._getSize(self._body, 'tb', 'all') + \r\n                self.foot.outerHeight() + \r\n                _class._getSize(self.foot, 'tb', 'margin');\r\n\r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                if(opts.width > 0){\r\n                    width = opts.width\r\n                }\r\n                else if(opts.width === '100%' || (opts.scrollbar === true && width > wWidth)){\r\n                    width = wWidth;\r\n                }\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            var ws = 'nowrap';\r\n            if(opts.width > 0 || width == opts.maxWidth || width == wWidth){\r\n                ws = 'normal';\r\n            }\r\n\r\n            self.data.width = width - _class._getSize(element, 'lr', 'all');\r\n            self.main.css('white-space', ws);\r\n            element.width(self.data.width);\r\n\r\n            var height = element.outerHeight();\r\n            if(self._iframeDocument){\r\n                self._iframeDocument[0].layer = self;\r\n                height = edgeSize + self._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                if(opts.height > 0){\r\n                    height = opts.height\r\n                }\r\n                else if(opts.height === '100%' || ((opts.scrollbar === true || self._iframeDocument) && height > wHeight)){\r\n                    height = wHeight\r\n                }\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            self.data.outerWidth = width;\r\n            self.data.outerHeight = height;\r\n            self.data.height = height - _class._getSize(element, 'tb', 'all');\r\n            element.height(self.data.height);\r\n            var _height = self.data.height - edgeSize;\r\n            if(self.main.outerHeight() > _height && !self._iframe && opts.scrollbar === true){\r\n                self._body.css('overflow', 'auto')\r\n            }\r\n            if(self._iframe){\r\n                self._iframe.height(_height);\r\n            }\r\n            self._body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var self = this, _class = self.constructor, opts = self.options;\r\n            if(!self._containerDOM.__layermask__){\r\n                self._containerDOM.__layermask__ = $(self._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':_class._maskzIndex,\r\n                        'position':self._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':self._isFixed ? '100%' : self._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(self._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                self._on('click', self._containerDOM.__layermask__, function(){\r\n                    self.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var self = this, opts = self.options;\r\n            component('init', self.main);\r\n            self._resize('init');\r\n            self._setLower();\r\n            if(opts.isMask === true){\r\n                self._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                self._time = opts.timer;\r\n                self._timer();\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(opts, self)\r\n            }\r\n            return self\r\n        },\r\n        _timer:function(){\r\n            var self = this, opts = self.options;\r\n            if(self._time > 0){\r\n                if(typeof opts.onTimer === 'function'){\r\n                    opts.onTimer.call(opts, self, self._time)\r\n                }\r\n                self._timerid = setTimeout(function(){\r\n                    self._time -= 1000;\r\n                    self._timer();\r\n                }, self._time > 1000 ? 1000 : self._time)\r\n            }\r\n            else{\r\n                self.hide()\r\n            }\r\n        },\r\n        _reset:function(){\r\n            var self = this, _class = self.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', self.main);\r\n            Nui.each(_class.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== self && val._containerDOM === self._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && self._containerDOM.__layermask__){\r\n                self._containerDOM.__layermask__.remove();\r\n                self._containerDOM.__layermask__  = null;\r\n            }\r\n            if(self.options.timer > 0){\r\n                self.timer = 0;\r\n                clearTimeout(self._timerid);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var self = this, opts = self.options, element = self.element;\r\n            self._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(opts, self)\r\n            }\r\n            return self\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var self = this, _class = self.constructor, opts = self.options;\r\n            if(typeof opts.onBeforeDestroy === 'function' && \r\n                opts.onBeforeDestroy.call(opts, self) === false){\r\n                return\r\n            }\r\n            self._delete();\r\n            self._reset();\r\n            self._setLower(true);\r\n            if(!self._isdestroy){\r\n                _class._zIndex--;\r\n                self._isdestroy = true;\r\n            }\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(opts, self)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('src/components/layer/layerExt',['src/components/layer/layer', 'util'], function(layer, util){\r\n    var module = this;\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        }, opts||{}))\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        }, opts||{}, {\r\n            confirm:{\r\n                enable:true\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tips = function(content, dir, position, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:content,\r\n            id:'tips',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        }, opts||{}, {\r\n            isTips:true,\r\n            isMask:false,\r\n            isClose:false,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        if(Nui.type(content, 'Number')){\r\n            height = width;\r\n            width = content;\r\n            content = '';\r\n        }\r\n        return layer($.extend({\r\n            content:'<div>'+(content||'正在加载数据...')+'</div>',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n        }, opts || {}, {\r\n            id:'loading',\r\n            isTips:true,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.message = function(type, content){\r\n        var opts, color = '#f00';\r\n        if(typeof type === 'object'){\r\n            opts = type;\r\n            content = opts.content;\r\n            delete opts.content;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type !== 'success' && type !== 'error'){\r\n            content = type;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type === 'success' && !content){\r\n            content = '操作成功'\r\n        }\r\n        else if(type === 'error' && !content){\r\n            content = '操作失败'\r\n        }\r\n\r\n        if(type === 'success'){\r\n            color = '#39B54A';\r\n        }\r\n\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; color:'+ color +';\">'+content+'</div>',\r\n            id:'message',\r\n            width:'auto',\r\n            height:'auto',\r\n            isTips:true,\r\n            timer:1500,\r\n            close:{\r\n                enable:true\r\n            }\r\n        }, opts || {}, {\r\n            isMask:false\r\n        }))\r\n    }\r\n\r\n    layer.form = function(options){\r\n        var onInit = options.onInit;\r\n        delete options.onInit;\r\n        var valid = options.valid;\r\n        var btns = $.extend([], options.button || [{\r\n            id:'cancel',\r\n            text:'关闭'\r\n        }, {\r\n            id:'confirm',\r\n            name:'normal',\r\n            text:'保存'\r\n        }])\r\n\r\n        Nui.each(btns, function(val, i){\r\n            if(val.id === 'confirm' && !val.callback){\r\n                btns[i].callback = function(main){\r\n                    main.find('form').submit()\r\n                }\r\n                return false\r\n            }\r\n        })\r\n\r\n        delete options.button;\r\n        var formLayer = layer($.extend(true, {button:btns}, {\r\n            scrollbar:false,\r\n            id:'form',\r\n            onInit:function(main, id){\r\n                var self = this;\r\n                var main = self.main;\r\n                var elems = main.find('[name!=\"\"][data-rule]');\r\n                var form = main.find('form');\r\n                var rules = {};\r\n                var messages = {};\r\n                var setting = form.data('setting');\r\n                elems.each(function(){\r\n                    var elem = $(this);\r\n                    var name = elem.attr('name');\r\n                    var data = elem.data();\r\n                    var rule = eval('('+ data.rule +')');\r\n                    var message = eval('('+ data.message +')');\r\n                    rules[name] = rule;\r\n                    $.each(message, function(key, msg){\r\n                        if(typeof options.messageFilter === 'function'){\r\n                            message[key] = options.messageFilter.call(self.options, name, msg)||''\r\n                        }\r\n                        message[key] = '<b></b><s></s><i class=\"iconfont\">&#xe605;</i>' + message[key];\r\n                    })\r\n                    messages[name] = message;\r\n                });\r\n                var opts = {\r\n                    rules:rules,\r\n                    messages:messages,\r\n                    errorClass:'s-err',\r\n\t\t\t\t\tonkeyup:false,\r\n\t\t\t\t\tfocusInvalid:false,\r\n                    onfocusout:false,\r\n\t\t\t\t\tfocusCleanup:true,\r\n                    ignore:'',\r\n                    success:function(error, element) {\r\n\t\t\t\t\t\terror.remove();\r\n\t\t\t\t\t\t$(element).addClass('s-succ');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorPlacement:function(error, element) {\r\n\t\t\t\t\t\telement.removeClass('s-succ');\r\n\t\t\t\t\t\tif(error.text()){\r\n\t\t\t\t\t\t\telement.closest(options.itemWrap||'.ui-item').find(options.errorWrap||'.ui-err').html(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n                    submitHandler:function(){\r\n                        var param = {};\r\n                        if(typeof options.getData === 'function'){\r\n                        \tparam = options.getData.call(self.options, form)\r\n                        }\r\n                        else{\r\n                            param = util.getData(form).result;\r\n                        }\r\n\r\n                        if(typeof options.onBeforeSubmit === 'function'){\r\n                        \tparam = options.onBeforeSubmit.call(self.options, self, param);\r\n                            if(param === false){\r\n                                return false\r\n                            }\r\n                        }\r\n\r\n                        var loading = layer.loading({\r\n                            content:options.loading||'正在保存数据...',\r\n                            under:self\r\n                        });\r\n                        \r\n                        $.ajax($.extend({\r\n                            url:form.attr('action'),\r\n                            dataType:'json',\r\n                            type:form.attr('method')||'POST',\r\n                            data:param,\r\n                            success:function(res, xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onSuccess === 'function'){\r\n                                    options.onSuccess.call(self.options, self, res, xhr)\r\n                                }\r\n                            },\r\n                            error:function(xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onError === 'function'){\r\n                                    options.onError.call(self.options, self, xhr)\r\n                                }\r\n                            }\r\n                        }, options.ajax||{}), null)\r\n                    }\r\n                }\r\n                self.validator = form.validate($.extend(true, opts, setting||{}, valid||{}));\r\n                typeof onInit === 'function' && onInit.call(self.options, self)\r\n            }\r\n        }, options||{}))\r\n        return formLayer\r\n    }\r\n\r\n    return layer\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var self = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return self.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return self.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var self = this;\r\n            if(!$.isEmptyObject(self._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = self._replace(ret.url), query = ret.params;\r\n                Nui.each(self._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = self.__instances[v.id], opts = object.options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data)\r\n                                delete object._send;\r\n                            }\r\n\r\n                            opts.data.path = v.path+'/';\r\n                            opts.data.url = hash+'/';\r\n                            opts.data.params = param;\r\n                            opts.data.query = query;\r\n\r\n                            if(typeof opts.onChange === 'function'){\r\n                                opts.onChange.call(opts);\r\n                            }\r\n\r\n                            if(object._isRrender === true || !object._wrapper){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    object._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                else if(!self._wrapper){\r\n                                    self._wrapper = self._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||self._wrapper).off());\r\n                                }\r\n                                var wrapper = opts.element = object._wrapper || self._wrapper;\r\n                                var tmpl = opts.template;\r\n                                \r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.layout, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onInit === 'function'){\r\n                                    opts.onInit.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                delete object._isRrender;\r\n                            }\r\n                            var wrapper = object._wrapper || self._wrapper;\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            self._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                self._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!self._initialize){\r\n                    Nui.each(self.__instances, function(v){\r\n                        if(!self._isEntry && v.options.entry === true){\r\n                            self._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            self._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            self._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var self = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(self._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        self._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    self._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var self = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(val.path+'/', '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = self.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                self.start()\r\n            }\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var self = this, len = self._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(self._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = self._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:1,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onData:null,\r\n            onInit:null,\r\n            onAfter:null\r\n        },\r\n        _init:function(){\r\n            var self = this, router = self.constructor;\r\n            if(self._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var self = this, opts = self.options, router = self.constructor;\r\n            self.container = router._jquery(opts.container);\r\n            if(opts.path && self.container){\r\n                self.path = router._replace(opts.path);\r\n                var paths = self._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(self._getTarget()){\r\n                    return self._event()\r\n                }\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var self = this, path = self.path, opts = self.options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:self.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var self = this, opts = self.options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+self.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var self = this, opts = self.options;\r\n            self._on('click', Nui.doc, self.target, function(e, elem){\r\n                self._render(elem);\r\n                return false\r\n            })\r\n            return self\r\n        },\r\n        _reset:function(){\r\n            var self = this, router = self.constructor;\r\n            self._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === self.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return self\r\n        },\r\n        option:null,\r\n        reset:null\r\n    })\r\n})\nNui.define('pages/components/router/script/menu',[{\r\n    id:'recordVoucher',\r\n    name:'录凭证',\r\n    index:true,\r\n    icon:'',\r\n    path:'/voucher/record/'\r\n}, {\r\n    id:'seeVoucher',\r\n    name:'查凭证',\r\n    icon:'',\r\n    index:true,\r\n    path:'/voucher/list/aniu/jser/'\r\n}, {\r\n    name:'账簿',\r\n    icon:'',\r\n    subs:[{\r\n        id:'summary',\r\n        name:'总账',\r\n        icon:'',\r\n        path:'/books/summary/'\r\n    }, {\r\n        id:'detailed',\r\n        name:'明细账',\r\n        icon:'',\r\n        path:'/books/detailed/'\r\n    }, {\r\n        id:'accountbalance',\r\n        name:'科目余额表',\r\n        icon:'',\r\n        path:'/books/accountbalance/'\r\n    }]\r\n}])\nNui.define('pages/components/router/script/tpls/index',function(){\r\n    return this.renders(''+''\r\n        +'<div class=\"m-main ui-bgw\">'+''\r\n            +'<h3 class=\"ui-bdb ui-fcb\">'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run1\">欢</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run2\">迎</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run3\">使</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run4\">用</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run5\">云</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run6\">记</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run7\">账</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run8\">！</em>'+''\r\n            +'</h3>'+''\r\n            +'<ul>'+''\r\n                +'<% each menu %>'+''\r\n                +'<% if $value.index %>'+''\r\n                +'<li>'+''\r\n                    +'<a href=\"javascript:void(0)\" rel=\"<% $value.path %>\">'+''\r\n                        +'<em><i class=\"iconfont ui-animate\">&#xe62a;</i></em>'+''\r\n                        +'<span class=\"ui-animate\"><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                +'</li>'+''\r\n                +'<% /if %>'+''\r\n                +'<% /each %>'+''\r\n            +'</ul>'+''\r\n        +'</div>'+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/index',['pages/components/router/script/tpls/index', 'template', 'pages/components/router/script/menu'], function(tmpl, tpl, menu){\r\n    var module = this;\r\n    var router = module.require('src/components/router');\r\n    var layer = module.require('src/components/layer/layerExt');\r\n    module.imports('../../style/index');\r\n\r\n    return {\r\n        target:'#index',\r\n        entry:true,\r\n        path:'/index/',\r\n        template:tmpl,\r\n        data:{\r\n            menu:menu\r\n        },\r\n        events:{\r\n            'click a':function(e, elem){\r\n                router.location(elem.attr('rel'), {\r\n                    a:1\r\n                })\r\n            },\r\n            'click h3':function(){\r\n                var recordVoucher = module.require('pages/components/router/script/modules/recordVoucher');\r\n                var events = module.require('events');\r\n                var _layer = layer({\r\n                    content:tpl.render.call(recordVoucher.template, recordVoucher.template.layout, {\r\n                        params:{\r\n                            a:1\r\n                        }\r\n                    }),\r\n                    isFull:true\r\n                });\r\n                recordVoucher.element = _layer._main; \r\n                events.call(recordVoucher)\r\n            }\r\n        },\r\n        onInit:function(){\r\n            \r\n        }\r\n    }\r\n})\nNui.define('pages/components/router/script/router',['src/components/router'], function(router){\r\n    var module = this;\r\n\r\n    return function(){\r\n\r\n        router.config({\r\n            container:'.g-main',\r\n            onAfter:function(){\r\n                $('.m-menu-item a.s-crt').removeClass('s-crt');\r\n                $(this.target).addClass('s-crt');\r\n            }\r\n        })\r\n\r\n        router(module.require('pages/components/router/script/modules/index'));\r\n\r\n        router(module.require('pages/components/router/script/modules/recordVoucher'))\r\n\r\n        /*router({\r\n            target:'#seeVoucher',\r\n            path:'{list}',\r\n            wrapper:false,\r\n            level:2,\r\n            onChange:module.require('pages/components/router/script/modules/seeVoucher')\r\n        })*/\r\n\r\n        router.start()\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/layout',function(){\r\n    var module = this;\r\n    return ({\r\n        head:module.renders(''+''\r\n            +'<div class=\"f-fl m-head-main\">'+''\r\n                +'<% var data = list[0] %>'+''\r\n                +'<p class=\"f-fl name\"><% data.buname %></p>'+''\r\n                +'<p class=\"f-fl month\"><% data.buaddress %></p>'+''\r\n            +'</div>'+''\r\n        +''),\r\n        menu:module.renders(''+''\r\n            +'<% each menu %>'+''\r\n            +'<dl class=\"m-menu-item\">'+''\r\n                +'<dt>'+''\r\n                    +'<a href=\"<% $value.path || \\'javascript:void(0)\\' %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<em><i class=\"iconfont\"></i></em>'+''\r\n                        +'<span><% $value.name %></span>   '+''\r\n                    +'</a>'+''\r\n                +'</dt>'+''\r\n                +'<% if $value.subs && $value.subs.length %>'+''\r\n                +'<dd>'+''\r\n                    +'<% each $value.subs %>'+''\r\n                    +'<a href=\"<% $value.path %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<span><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                    +'<% /each %>'+''\r\n                +'</dd>'+''\r\n                +'<% /if %>'+''\r\n            +'</dl>'+''\r\n            +'<% /each %>'+''\r\n        +'')\r\n    })\r\n})\nNui.define('pages/components/router/script/render',['pages/components/router/script/menu', 'pages/components/router/script/tpls/layout', 'template'], function(menu, layout, tpl){\r\n    var module = this;\r\n    return function(data){\r\n        $('.m-headbox').html(tpl.render(layout.head, data))\r\n        data.menu = menu;\r\n        $('.m-menu').html(tpl.render(layout.menu, data))\r\n    }\r\n})\nNui.define('./script/page',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar render = require('pages/components/router/script/render');\r\n\tvar router = require('pages/components/router/script/router');\r\n\tvar ajax = require('pages/components/router/script/ajax');\r\n\tvar base = imports('../style/base');\r\n\tvar page = imports('../style/page');\r\n\t\r\n\tajax({\r\n\t    url:'./script/data.json',\r\n\t    success:function(res){\r\n\t        render(res);\r\n\t        router()\r\n\t    }\r\n\t});\r\n\tmodule.exports = function(){\r\n\t    \r\n\t}\n});\n"]}