{"version":3,"sources":["page-debug.js"],"names":["Nui","define","ajax","$","options","url","dataType","success","noop","error","apply","this","arguments","extend","cache","statusCode","404","502","renders","tmpl","tpl","target","wrapper","request","html","render","component","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","length","static","doc","on","_active","__instances","find","_getcode","type","_getarr","match","code","array","index","indexOf","sub","substr","push","_comment","test","replace","tools","copy","isLight","isLine","isTitle","dom","get","tagName","_event","_title","bsie7","_list","title","_getCode","split","mapping","click tr","click .copy","callback","active","siblings","stopPropagation","alert","str","RegExp","layout","js","ph","path","template","onChange","a","onData","click .empty","click a","destroy","setTimeout","init","b","c","empty","util","statics","_maskzIndex","_zIndex","timer","win","clearTimeout","isCenter","resize","$fn","$ready","content","maxWidth","maxHeight","edge","container","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTips","isFixed","scrollbar","align","bubble","enable","dir","iframe","src","close","confirm","name","cancel","under","button","onMove","onResize","onScroll","onBeforeDestroy","mask","movemask","_container","_jquery","_containerDOM","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","_createButton","_getContent","z-index","_setTop","appendTo","_box","children","_head","_body","_main","_foot","_iframe","_iframeOnload","_bindMove","_bindTop","_button","_buttonEvent","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","unshift","slice","hasClass","isCall","call","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","pageX","pageY","offsetTop","scrollTop","offsetLeft","scrollLeft","_isTop","_setLower","unders","concat","obj","k","_position","_v","_pos","right","bottom","Function","parseFloat","wWidth","wHeight","sleft","_setSize","edgeSize","ws","layer","_height","_showMask","__layermask__","_timer","onInit","noMask","exports","_delete","_isdestroy","onDestroy","module","tips","isClose","loading","message","form","validator","valid","btns","i","main","submit","formLayer","elems","messages","setting","rule","eval","key","msg","messageFilter","errorClass","onkeyup","focusInvalid","onfocusout","focusCleanup","ignore","errorPlacement","closest","itemWrap","errorWrap","submitHandler","param","getData","serialize","serializeArray","join","onBeforeSubmit","res","xhr","onSuccess","onError","validate","events","_paths","back","forward","_setpaths","paths","_replace","hash","location","protocol","host","_getWrapper","_split","ret","params","arr","_change","isEmptyObject","_hash","query","object","_send","_isRrender","_wrapper","off","onAfter","_initialize","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","_$ready","_$fn","start","temp","_router","history","_history","_isHistory","len","window","level","onBefore","router","_bind","_getpath","shift","href","trigger","change","icon","subs","menu","require","imports","console","log","click h3","recordVoucher","_layer","config"],"mappings":"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","file":"page-min.js.map?v=9bda7d4","sourcesContent":["Nui.define('pages/components/router/script/ajax',function(){\r\n    var ajax = $.ajax;\r\n    return function(options){\r\n        if(typeof options === 'string'){\r\n            options = {\r\n                url:options,\r\n                dataType:'json'\r\n            }\r\n        }\r\n        var success = options.success || $.noop;\r\n        var error = options.error || $.noop;\r\n        options.success = function(){\r\n            success.apply(this, arguments)\r\n        }\r\n        options.error = function(){\r\n            error.apply(this, arguments)\r\n        }\r\n        return ajax($.extend(true, {\r\n            cache:false,\r\n            dataType:'json',\r\n            statusCode:{\r\n                '404':function(){\r\n\r\n                },\r\n                '502':function(){\r\n\r\n                }\r\n            }\r\n        }, options))\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/seeVoucher',function(){\r\n    return this.renders(''+''\r\n        +'这是查凭证页面，页面完整url是：<% url %>，路径是：<% path %>'+''\r\n        +'<% if param %>'+''\r\n        +'<br>'+''\r\n        +'参数分别是：'+''\r\n        +'<% each param %>'+''\r\n        +'<% $index %>=<% $value %>，'+''\r\n        +'<% /each %>'+''\r\n        +'<% /if %>'+''\r\n        +'<a id=\"aaa\" class=\"nui-router-back\">返回</a> '+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/seeVoucher',['pages/components/router/script/tpls/seeVoucher', 'template'], function(tmpl, tpl){\r\n    var module = this;\r\n    return function(target, wrapper, request){\r\n        wrapper.html(tpl.render(tmpl, request))\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._events()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description 语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/highlight',function(){\r\n    return this.extend('component', {\r\n        static:{\r\n            _init:function(){\r\n                var that = this;\r\n                Nui.doc.on('click', function(){\r\n                    if(that._active){\r\n                        Nui.each(that.__instances, function(val){\r\n                            if(val._active){\r\n                                val.element.find('tr.s-crt').removeClass('s-crt');\r\n                                val._active = false;\r\n                            }\r\n                        })\r\n                    }\r\n                    that._active = false;\r\n                })\r\n            },\r\n            _getcode:function(type, text){\r\n                return '<code class=\"'+ type +'\">'+ text +'</code>'\r\n            },\r\n            _getarr:function(match, code){\r\n                var array = [];\r\n                if(!match){\r\n                    array.push(code)\r\n                }\r\n                else{\r\n                    Nui.each(match, function(v){\r\n                        var index = code.indexOf(v);\r\n                        var sub = code.substr(0, index);\r\n                        code = code.substr(index+v.length);\r\n                        array.push(sub);\r\n                        array.push(v);\r\n                    })\r\n                    array.push(code);\r\n                }\r\n                return array\r\n            },\r\n            _comment:function(code){\r\n                //多行注释\r\n                if(/\\/\\*/.test(code)){\r\n                    code = code.replace(/(\\/\\*(.|\\s)*?\\*\\/)/g, this._getcode('comment', '$1'))\r\n                }\r\n                //单行注释\r\n                else if(/\\/\\//.test(code)){\r\n                    code = code.replace(/(\\/\\/.*)$/g, this._getcode('comment', '$1'))\r\n                }\r\n                return code\r\n            }\r\n        },\r\n        options:{\r\n            //工具栏\r\n            tools:{\r\n                //复制\r\n                copy:true\r\n            },\r\n            //点击代码那一行高亮\r\n            isLight:true,\r\n            //是否显示行号\r\n            isLine:false,\r\n            //是否显示语法标题\r\n            isTitle:true\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var dom = target.get(0);\r\n                if(dom.tagName === 'SCRIPT' && dom.type == 'text/highlight'){\r\n                    that.code = target.html()\r\n                                .replace(/^[\\r\\n]+|[\\r\\n]+$/g, '')\r\n                                .replace(/</g, '&lt;')\r\n                                .replace(/>/g, '&gt;');\r\n                    if(that.element){\r\n                        that.element.remove();\r\n                    }\r\n                    that._create();\r\n                    if(that.options.isLight){\r\n                        that._event();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _title:'',\r\n        _template:\r\n            '<div class=\"<% className %>\">'\r\n                +'<%if tools%>'\r\n                +'<div class=\"tools\">'\r\n                    +'<%if tools.copy%>'\r\n                    +'<em class=\"copy\">复制</em>'\r\n                    +'<%/if%>'\r\n                +'</div>'\r\n                +'<%/if%>'\r\n                +'<div class=\"body\">'\r\n                    +'<table>'\r\n                        +'<%each list val key%>'\r\n                            +'<tr>'\r\n                                +'<%if isLine === true%><td class=\"line\" number=\"<%key+1%>\"><%if bsie7%><%key+1%><%/if%></td><%/if%>'\r\n                                +'<td class=\"code\"><%val%></td>'\r\n                            +'</tr>'\r\n                        +'<%/each%>'\r\n                    +'</table>'\r\n                +'</div>'\r\n                +'<%if isTitle%>'\r\n                +'<em class=\"title\"><%title%></em>'\r\n                +'<%/if%>'\r\n            +'</div>',\r\n        _create:function(){\r\n            var that = this;\r\n            var opts = that.options;\r\n            var data = $.extend({\r\n                bsie7:Nui.bsie7,\r\n                list:that._list(),\r\n                title:that._title,\r\n                isLine:opts.isLine,\r\n                tools:opts.tools,\r\n                isTitle:opts.isTitle\r\n            }, that._tplData())\r\n            that.element = $(that._tpl2html(data)).insertAfter(that.target);\r\n        },\r\n        _getCode:function(){\r\n            return this.code\r\n        },\r\n        _list:function(){\r\n            return this._getCode().split('\\n')\r\n        },\r\n        mapping:{\r\n            'click tr':'active',\r\n            'click .copy':'copy'\r\n        },\r\n        callback:{\r\n            active:function(e, elem){\r\n                this.constructor._active = this._active = true;\r\n                elem.addClass('s-crt').siblings().removeClass('s-crt');\r\n                e.stopPropagation()\r\n            },\r\n            copy:function(){\r\n                alert('傻帽！逗你玩呢。')\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description javascript语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/javascript',function(){\r\n    return this.extend('src/components/highlight/highlight', {\r\n        _title:'js',\r\n        _getCode:function(){\r\n            var that = this;\r\n            var code = that.code;\r\n            var self = that.constructor;\r\n            var str = '';\r\n            var kws = 'abstract|arguments|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|elseif|each|enum|eval|export|'+\r\n                      'extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|include|interface|let|long|native|new|null|'+\r\n                      'package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var';\r\n            var symbol = '&lt;|&gt;|;|!|%|\\\\\\|\\\\\\[|\\\\\\]|\\\\\\(|\\\\\\)|\\\\\\{|\\\\\\}|\\\\\\=|\\\\\\/|-|\\\\\\+|,|\\\\\\.|\\\\\\:|\\\\\\?|~|\\\\\\*|&';\r\n            var match = code.match(/(\\/\\/.*)|(\\/\\*(.|\\s)*?\\*\\/)|('[^']*')|(\"[^\"]*\")/g);\r\n            var array = self._getarr(match, code);\r\n            Nui.each(array, function(v){\r\n                if($.trim(v)){\r\n                    //单行注释\r\n                    if(/^\\s*\\/\\//.test(v)){\r\n                        v = self._getcode('comment', v);\r\n                    }\r\n                    //多行注释\r\n                    else if(/^\\s*\\/\\*/.test(v)){\r\n                        v = v.replace(/(.+)/g, self._getcode('comment', '$1'))\r\n                    }\r\n                    else{\r\n                        //字符串\r\n                        if(/'|\"/.test(v)){\r\n                            v = v.replace(/(.+)/g, self._getcode('string', '$1'))\r\n                        }\r\n                        //关键字、符号、单词\r\n                        else{\r\n                            v = v.replace(new RegExp('('+ symbol +')', 'g'), self._getcode('symbol', '$1'))\r\n                                .replace(new RegExp('('+ kws +')(\\\\s+|\\\\\\<code)', 'g'), self._getcode('keyword', '$1')+'$2')\r\n                                .replace(/(\\/code>\\s*)(\\d+)/g, '$1'+self._getcode('number', '$2'))\r\n                                .replace(/(\\/code>\\s*)?([^<>\\s]+)(\\s*<code)/g, '$1'+self._getcode('word', '$2')+'$3')\r\n\r\n                        }\r\n                        v = self._comment(v);\r\n                    }\r\n                }\r\n                str += v;\r\n            })\r\n            return str\r\n        }\r\n    })\r\n})\r\n\nNui.define('pages/components/router/script/tpls/recordVoucher',function(){\r\n    return {\r\n        layout:this.renders(''+''\r\n            +'<input type=\"text\" placeholder=\"aaaaaaaaaaa\" value=\"11\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"111\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"222\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"333\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<div class=\"empty\">还原</div>'+''\r\n            +'<script type=\"text/highlight\" data-javascript-options=\"{id:\\'b\\'}\">'+''\r\n            +'var a = 1;'+''\r\n            +'var b = 2;'+''\r\n            +'</script> '+''\r\n            +'<div class=\"box nui-router-back\">返回<%a??%><%params.a??%></div>'+''\r\n            +'<a id=\"aaa\">aaaaaaaaaaa</a>'+''\r\n            +'<%include \\'show\\'%>'+''\r\n        +''),\r\n        show:this.renders(''+''\r\n            +'1111111111111111112'+''\r\n        +'')\r\n    }\r\n})\nNui.define('pages/components/router/script/modules/recordVoucher',['component', 'pages/components/router/script/tpls/recordVoucher', 'template', 'src/components/highlight/javascript', 'src/components/placeholder'], function(component, tmpl, tpl, js, ph){\r\n    var module = this;\r\n    return {\r\n        target:'#recordVoucher',\r\n        path:'/voucher/record',\r\n        template:tmpl,\r\n        onChange:function(){\r\n            delete this.data.a\r\n        },\r\n        onData:function(data){\r\n            this.data.a = data.a;\r\n        },\r\n        mapping:{\r\n            //'click b':'b',\r\n            'click .empty':'empty',\r\n            'click a':'c a'\r\n        },\r\n        callback:{\r\n            a:function(){\r\n                var that = this;\r\n                component.destroy(that.element);\r\n                setTimeout(function(){\r\n                    js.init(that.element)\r\n                    ph.init(that.element)\r\n                }, 1000)\r\n            },\r\n            b:function(){\r\n                //alert()\r\n            },\r\n            c:function(){\r\n                //return confirm('哈哈')\r\n            },\r\n            empty:function(){\r\n                ph.value(this.element, '');\r\n            }\r\n        }\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var self = this;\r\n            var timer = null;\r\n            Nui.win.on('resize', function(){\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function(){\r\n                    Nui.each(self.__instances, function(val){\r\n                        var opts = val.options;\r\n                        if(opts.position || opts.isCenter === true){\r\n                            val.resize()\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        //主体内容\r\n        content:'',\r\n        //高度\r\n        width:320,\r\n        //宽度\r\n        height:'auto',\r\n        //最大宽度\r\n        maxWidth:0,\r\n        //最大高度\r\n        maxHeight:0,\r\n        //定时器，N毫秒后自动关闭\r\n        timer:0,\r\n        //弹窗四周距离窗口边缘距离\r\n        edge:0,\r\n        //弹窗容器\r\n        container:'body',\r\n        //弹窗标题\r\n        title:'温馨提示',\r\n        //是否可以拖动\r\n        isMove:false,\r\n        //是否有遮罩\r\n        isMask:true,\r\n        //是否只能在窗口内拖动\r\n        isInnerMove:false,\r\n        //点击遮罩是否关闭弹窗\r\n        isClickMask:false,\r\n        //是否使用遮罩拖动\r\n        isMoveMask:false,\r\n        //是否能用hide方法关闭遮罩\r\n        isHide:true,\r\n        //弹窗是否浏览器改变大小时显示在窗口中央\r\n        isCenter:true,\r\n        //是否全屏显示\r\n        isFull:false,\r\n        //是否在点击弹窗时将其置顶\r\n        isTop:false,\r\n        //是否以提示框展示，没有标题，按钮\r\n        isTips:false,\r\n        //是否拖动滚动条固定位置\r\n        isFixed:true,\r\n        //当内容超过弹出层容器，是否显示滚动条\r\n        scrollbar:true,\r\n        //按钮对齐方式\r\n        align:'center',\r\n        //是否以气泡形式展示，弹出层边缘会多出箭头\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        //弹出层内容展示iframe，不建议跨域使用\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        //关闭按钮\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        //确定按钮\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        //取消按钮\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        /*弹出层定位 top/left/right/bottom\r\n        position:{\r\n            top:10,\r\n            left:10\r\n        }\r\n        */\r\n        position:null,\r\n        /*将弹出层置于遮罩层底部\r\n        under:[layer1, layer2]\r\n        */\r\n        under:null,\r\n        /*配置按钮，若id为confirm/cancel/close将会覆盖内置按钮参数\r\n        button:[{\r\n            id:'confirm',\r\n            text:'确定',\r\n            name:'normal',\r\n            callback:function(){\r\n\r\n            }\r\n        }]\r\n        */\r\n        button:null,\r\n        //onInit：弹出层显示时回调\r\n        //onDestroy：弹出层注销时回调\r\n        //当拖动弹出层移动后回调\r\n        onMove:null,\r\n        //窗口改变大小位置时回调\r\n        onResize:null,\r\n        //容器滚动时回调\r\n        onScroll:null,\r\n        //弹窗销毁前回调，若返回false则不能销毁\r\n        onBeforeDestroy:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<div class=\"layer-inner\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%> layer-button-<%btn.id%>\"'+\r\n                    '<%if btn.style%>'+\r\n                    ' style=\"<%each btn.style v n%><%n%>:<%v%>;<%/each%>\"'+\r\n                    '<%/if%>><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>:<%$value%>;<%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        data:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            that._container = self._jquery(opts.container);\r\n            if(that._container.length){\r\n                that._containerDOM = that._container.get(0);\r\n                if(that._containerDOM.tagName !== 'BODY'){\r\n                    that._window = that._container;\r\n                    that._isWindow = false;\r\n                    var pos = that._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        that._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    that._window = Nui.win;\r\n                    that._isWindow = true;\r\n                }\r\n                that._isFixed = opts.isFixed && !Nui.bsie6 && that._isWindow;\r\n                that._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options;\r\n            var buttons = that._createButton(), isTitle = false;\r\n            if(opts.isTips !== true){\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = that._tplData({\r\n                content:that._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':that._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(that._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            that._setTop();\r\n            that.element = $(that._tpl2html('layout', data)).appendTo(that._container);\r\n            that._box = that.element.children('.layer-box');\r\n\t\t\tthat._head = that._box.children('.layer-head');\r\n\t\t\tthat._body = that._box.children('.layer-body');\r\n\t\t\tthat._main = that._body.children('.layer-main');\r\n\t\t\tthat._foot = that._box.children('.layer-foot');\r\n            if(opts.isTips !== true){\r\n                if(opts.iframe.enable === true){\r\n                    that._iframe = that._main.children('iframe');\r\n                    that._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    that._bindMove();\r\n                }\r\n                if(opts.isTop === true){\r\n                    that._bindTop();\r\n                }\r\n            }\r\n            if(that._button.length){\r\n                that._buttonEvent();\r\n            }\r\n            if(opts.isFixed === true && !that._isFixed === true){\r\n                that._bindScroll()\r\n            }\r\n            that._show()\r\n        },\r\n        _getContent:function(){\r\n            var that = this, opts = that.options, content = '';\r\n            if(opts.isTips !== true && opts.iframe.enable === true){\r\n                content = that._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var that = this, opts = that.options, name = 'layer-iframe'+that.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return that._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var that = this;\r\n            that._iframe.load(function(){\r\n                that._iframeDocument = that._iframe.contents();\r\n                that._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var that = this, opts = that.options, defaults = {}, buttons = {}, caches = {};\r\n            that._button = [];\r\n            if(opts.isTips !== true){\r\n                Nui.each(['confirm', 'cancel'], function(id){\r\n                    var btn = opts[id];\r\n                    if(btn && btn.enable === true){\r\n                        defaults[id] = {\r\n                            id:id,\r\n                            name:btn.name,\r\n                            style:btn.style,\r\n                            text:btn.text,\r\n                            callback:btn.callback\r\n                        }\r\n                    }\r\n                });\r\n                if(opts.button && opts.button.length){\r\n                    Nui.each(opts.button, function(val){\r\n                        var id = val.id;\r\n                        if(!caches[id]){\r\n                            caches[id] = true;\r\n                            if(defaults[id]){\r\n                                if(!val.text){\r\n                                    if(id === 'cancel'){\r\n                                        val.text = '取消'\r\n                                    }\r\n                                    else if(id === 'confirm'){\r\n                                        val.text = '确定'\r\n                                    }\r\n                                }\r\n                                delete defaults[id]\r\n                            }\r\n                            that._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                        }\r\n                    })\r\n                }\r\n                Nui.each(defaults, function(val){\r\n                    that._button.push(val)\r\n                });\r\n            }\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                that._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    style:opts.close.style,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(that._button[0] && that._button[0].id === 'close'){\r\n                buttons.close = that._button[0],\r\n                buttons.button = that._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = that._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var that = this;\r\n            Nui.each(that._button, function(val){\r\n                that._on('click', that.element, '.layer-button-'+val.id, function(e, elem){\r\n                    if(!elem.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(that, that._main, that.__id, elem) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            that.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var that = this;\r\n            that._on('click', that.element, function(){\r\n                that._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            var self = that.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            that._on('mousedown', that._head, function(e, ele){\r\n                isMove = true;\r\n                that._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = that._moveMask = $(that._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':that._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':that._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(that._container);\r\n                    elem.css({\r\n                        width:that.data.outerWidth - self._getSize(elem, 'lr', 'all'),\r\n                        height:that.data.outerHeight - self._getSize(elem, 'tb', 'all'),\r\n                        top:that.data.top,\r\n                        left:that.data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - that.data.left;\r\n                y = e.pageY - that.data.top;\r\n                e.stopPropagation();\r\n            });\r\n            that._on('mousemove', Nui.doc, function(e){\r\n                var width = that._container.outerWidth(), height = that._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + that.data.outerWidth > width && (_x = width - that.data.outerWidth);\r\n                        _y + that.data.outerHeight > height && (_y = height - that.data.outerHeight);\r\n                    }\r\n                    that.data.top = _y;\r\n                    that.data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            that._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    that._head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(that.data);\r\n                        that._moveMask.remove();\r\n                        that._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(that, that._main, that.__id)\r\n                    }\r\n                    that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n                    that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('scroll', that._window, function(){\r\n                var top = that.data.offsetTop + that._window.scrollTop();\r\n                var left = that.data.offsetLeft + that._window.scrollLeft();\r\n                that.data.top = top;\r\n                that.data.left = left;\r\n                that.element.css(that.data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(that, that._main, that.__id)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var that = this, self = that.constructor;\r\n            if(that._isTop && that.element){\r\n                that._isTop = false;\r\n                that._zIndex = ++self._zIndex;\r\n                that.element.css('zIndex', that._zIndex);\r\n                that._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var that = this, self = that.constructor, opts = that.options, unders = [];\r\n            if(opts.under){\r\n                unders = unders.concat(opts.under);\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : self._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var that = this, self = that.constructor;\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val !== that && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _position:function(){\r\n            var that = this, data = that.data, pos = that.options.position;\r\n            var _pos = {\r\n                top:pos.top,\r\n                left:pos.left,\r\n                right:pos.right,\r\n                bottom:pos.bottom\r\n            }, _v;\r\n\r\n            if(_pos.top !== undefined && _pos.bottom !== undefined){\r\n                delete _pos.bottom\r\n            }\r\n\r\n            if(_pos.left !== undefined && _pos.right !== undefined){\r\n                delete _pos.right\r\n            }\r\n\r\n            Nui.each(_pos, function(v, k){\r\n                if(v === undefined){\r\n                    delete _pos[k];\r\n                    return true;\r\n                }\r\n                _v = v;\r\n                if(typeof v === 'string'){\r\n                    if(!v){\r\n                        _v = 0\r\n                    }\r\n                    else{\r\n                        if(k === 'top' || k === 'bottom'){\r\n                            if(v === 'self'){\r\n                                _v = data.outerHeight\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerHeight+'; return '+v))()\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(v === 'self'){\r\n                                _v = data.outerWidth\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerWidth+'; return '+v))()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _pos[k] = _v === 'auto' ? 'auto' : parseFloat(_v)+'px'\r\n            })\r\n\r\n            return _pos\r\n        },\r\n        _resize:function(type){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var wWidth = that._window.outerWidth();\r\n            var wHeight = that._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!that._isFixed){\r\n                sleft = that._window.scrollLeft();\r\n                stop = that._window.scrollTop();\r\n            }\r\n            that._setSize();\r\n            if(opts.position){\r\n                var pos = element.css(that._position()).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                that.data.left = pos.left + sleft;\r\n                that.data.top = pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - that.data.outerWidth) / 2 + sleft;\r\n                    var top = (wHeight - that.data.outerHeight) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    that.data.left = left > 0 ? left : edge;\r\n                    that.data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n            that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n            element.css(that.data);\r\n        },\r\n        _setSize:function(){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = that._window.outerWidth() - edge;\r\n            var wHeight = that._window.outerHeight() - edge;\r\n\r\n            that._body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            \r\n            var edgeSize = self._getSize(that._box, 'tb', 'all') +\r\n                that._head.outerHeight() + \r\n                self._getSize(that._head, 'tb', 'margin') + \r\n                self._getSize(that._body, 'tb', 'all') + \r\n                that._foot.outerHeight() + \r\n                self._getSize(that._foot, 'tb', 'margin');\r\n\r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                if(opts.width > 0){\r\n                    width = opts.width\r\n                }\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n                if(opts.scrollbar === true && width > wWidth){\r\n                    width = wWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            var ws = 'nowrap';\r\n            if(opts.width > 0 || width == opts.maxWidth || width == wWidth){\r\n                ws = 'normal';\r\n            }\r\n\r\n            that.data.width = width - self._getSize(element, 'lr', 'all');\r\n            that._main.css('white-space', ws);\r\n            element.width(that.data.width);\r\n\r\n            var height = element.outerHeight();\r\n            if(that._iframeDocument){\r\n                that._iframeDocument[0].layer = that;\r\n                height = edgeSize + that._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                height = opts.height > 0 ? opts.height : height;\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n                if(opts.scrollbar === true || that._iframeDocument){\r\n                    if(height > wHeight){\r\n                        height = wHeight\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            that.data.outerWidth = width;\r\n            that.data.outerHeight = height;\r\n            that.data.height = height - self._getSize(element, 'tb', 'all');\r\n            element.height(that.data.height);\r\n            var _height = that.data.height - edgeSize;\r\n            if(that._main.outerHeight() > _height && !that._iframe && opts.scrollbar === true){\r\n                that._body.css('overflow', 'auto')\r\n            }\r\n            if(that._iframe){\r\n                that._iframe.height(_height);\r\n            }\r\n            that._body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(!that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__ = $(that._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':self._maskzIndex,\r\n                        'position':that._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':that._isFixed ? '100%' : that._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(that._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                that._on('click', that._containerDOM.__layermask__, function(){\r\n                    that.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var that = this, opts = that.options;\r\n            component.init(that._main);\r\n            that._resize('init');\r\n            that._setLower();\r\n            if(opts.isMask === true){\r\n                that._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                that._timer = setTimeout(function(){\r\n                    that.hide();\r\n                }, opts.timer);\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, self = that.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component.destroy(that._main);\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== that && val._containerDOM === that._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__.remove();\r\n                that._containerDOM.__layermask__  = null;\r\n            }\r\n            if(that.options.timer > 0){\r\n                clearTimeout(that._timer);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            that._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(this, that._main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(typeof opts.onBeforeDestroy === 'function' && \r\n                opts.onBeforeDestroy.call(this, that._main, that.__id) === false){\r\n                return\r\n            }\r\n            that._delete();\r\n            that._reset();\r\n            that._setLower(true);\r\n            if(!that._isdestroy){\r\n                self._zIndex--;\r\n                that._isdestroy = true;\r\n            }\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(this, that._main, that.__id)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('src/components/layer/layerExt',['src/components/layer/layer'], function(layer){\r\n    var module = this;\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        }, opts||{}))\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        }, opts||{}, {\r\n            confirm:{\r\n                enable:true\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tips = function(content, dir, position, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:content,\r\n            id:'tips',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        }, opts||{}, {\r\n            isTips:true,\r\n            isMask:false,\r\n            isClose:false,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        if(Nui.type(content, 'Number')){\r\n            height = width;\r\n            width = content;\r\n            content = '';\r\n        }\r\n        return layer($.extend({\r\n            content:'<div>'+(content||'正在加载数据...')+'</div>',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n        }, opts || {}, {\r\n            id:'loading',\r\n            isTips:true,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.message = function(type, content){\r\n        var opts, color = '#f00';\r\n        if(typeof type === 'object'){\r\n            opts = type;\r\n            content = opts.content;\r\n            delete opts.content;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type !== 'success' && type !== 'error'){\r\n            content = type;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type === 'success' && !content){\r\n            content = '操作成功'\r\n        }\r\n        else if(type === 'error' && !content){\r\n            content = '操作失败'\r\n        }\r\n\r\n        if(type === 'success'){\r\n            color = '#39B54A';\r\n        }\r\n\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; color:'+ color +';\">'+content+'</div>',\r\n            id:'message',\r\n            width:'auto',\r\n            height:'auto',\r\n            isTips:true,\r\n            timer:1500,\r\n            close:{\r\n                enable:true\r\n            }\r\n        }, opts || {}, {\r\n            isMask:false\r\n        }))\r\n    }\r\n\r\n    layer.form = function(options){\r\n        var onInit = options.onInit;\r\n        delete options.onInit;\r\n        var validator;\r\n        var valid = options.valid;\r\n        var btns = $.extend([], options.button || [{\r\n            id:'cancel',\r\n            text:'关闭'\r\n        }, {\r\n            id:'confirm',\r\n            name:'normal',\r\n            text:'保存'\r\n        }])\r\n\r\n        Nui.each(btns, function(val, i){\r\n            if(val.id === 'confirm' && !val.callback){\r\n                btns[i].callback = function(main){\r\n                    main.find('form').submit()\r\n                }\r\n                return false\r\n            }\r\n        })\r\n\r\n        delete options.button;\r\n        var formLayer = layer($.extend(true, {button:btns}, {\r\n            scrollbar:false,\r\n            id:'form',\r\n            onInit:function(main, id){\r\n                var that = this;\r\n                var elems = main.find('[name!=\"\"][data-rule]');\r\n                var form = main.find('form');\r\n                var rules = {};\r\n                var messages = {};\r\n                var setting = form.data('setting');\r\n                elems.each(function(){\r\n                    var elem = $(this);\r\n                    var name = elem.attr('name');\r\n                    var data = elem.data();\r\n                    var rule = eval('('+ data.rule +')');\r\n                    var message = eval('('+ data.message +')');\r\n                    rules[name] = rule;\r\n                    $.each(message, function(key, msg){\r\n                        if(typeof options.messageFilter === 'function'){\r\n                            message[key] = options.messageFilter(name, msg)||''\r\n                        }\r\n                        message[key] = '<b></b><s></s><i class=\"iconfont\">&#xe605;</i>' + message[key];\r\n                    })\r\n                    messages[name] = message;\r\n                });\r\n                var opts = {\r\n                    rules:rules,\r\n                    messages:messages,\r\n                    errorClass:'s-err',\r\n\t\t\t\t\tonkeyup:false,\r\n\t\t\t\t\tfocusInvalid:false,\r\n                    onfocusout:false,\r\n\t\t\t\t\tfocusCleanup:true,\r\n                    ignore:'',\r\n                    success:function(error, element) {\r\n\t\t\t\t\t\terror.remove();\r\n\t\t\t\t\t\t$(element).addClass('s-succ');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorPlacement:function(error, element) {\r\n\t\t\t\t\t\telement.removeClass('s-succ');\r\n\t\t\t\t\t\tif(error.text()){\r\n\t\t\t\t\t\t\telement.closest(options.itemWrap||'.ui-item').find(options.errorWrap||'.ui-err').html(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n                    submitHandler:function(){\r\n                        var param = {};\r\n                        if(options.ajax && typeof options.ajax.getData === 'function'){\r\n                        \tparam = options.ajax.getData(form)\r\n                        }\r\n                        else{\r\n                        \tvar serialize = form.serializeArray();\r\n                        \t$.each(serialize, function(k, v){\r\n                                if(!param[v.name]){\r\n                                    param[v.name] = [];\r\n                                }\r\n                                param[v.name].push(v.value)\r\n                            })\r\n                            for(var i in param){\r\n                                param[i] = param[i].join(',')\r\n                            }\r\n                        }\r\n\r\n                        if(typeof options.onBeforeSubmit === 'function'){\r\n                        \tparam = options.onBeforeSubmit.call(that, main, id, param);\r\n                            if(param === false){\r\n                                return false\r\n                            }\r\n                        }\r\n\r\n                        var loading = layer.loading({\r\n                            content:options.loading||'正在保存数据...',\r\n                            under:that\r\n                        });\r\n                        \r\n                        $.ajax($.extend({\r\n                            url:form.attr('action'),\r\n                            dataType:'json',\r\n                            type:form.attr('method')||'POST',\r\n                            data:param,\r\n                            success:function(res, xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onSuccess === 'function'){\r\n                                    options.onSuccess.call(that, main, id, res, xhr)\r\n                                }\r\n                            },\r\n                            error:function(xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onError === 'function'){\r\n                                    options.onError.call(that, main, id, xhr)\r\n                                }\r\n                            }\r\n                        }, options.ajax||{}), null)\r\n                    }\r\n                }\r\n                validator = form.validate($.extend(true, opts, setting||{}, valid||{}))\r\n                typeof onInit === 'function' && onInit.call(that, main, id, validator)\r\n            }\r\n        }, options||{}))\r\n        formLayer.validator = validator;\r\n        return formLayer\r\n    }\r\n\r\n    return layer\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var that = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return that.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return that.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var that = this;\r\n            if(!$.isEmptyObject(that._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = that._replace(ret.url), query = ret.params;\r\n                Nui.each(that._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = that.__instances[v.id], opts = object.options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data)\r\n                                delete object._send;\r\n                            }\r\n\r\n                            opts.data.path = v.path+'/';\r\n                            opts.data.url = hash+'/';\r\n                            opts.data.params = param;\r\n                            opts.data.query = query;\r\n\r\n                            if(object._isRrender === true || !object._wrapper){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    object._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                else if(!that._wrapper){\r\n                                    that._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||that._wrapper).off());\r\n                                }\r\n                                var wrapper = opts.element = object._wrapper || that._wrapper;\r\n                                var tmpl = opts.template;\r\n                                \r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.layout, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onAfter === 'function'){\r\n                                    opts.onChange.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                delete object._isRrender;\r\n                            }\r\n                            var wrapper = object._wrapper || that._wrapper;\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            that._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                that._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!that._initialize){\r\n                    Nui.each(that.__instances, function(v){\r\n                        if(!that._isEntry && v.options.entry === true){\r\n                            that._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            that._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            that._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var that = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(that._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        that._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    that._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var that = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(val.path+'/', '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = that.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                that.start()\r\n            }\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var that = this, len = that._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(that._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = that._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:1,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onAfter:null,\r\n            onData:null\r\n        },\r\n        _init:function(){\r\n            var that = this, router = that.constructor;\r\n            if(that._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, router = that.constructor;\r\n            that.container = router._jquery(opts.container);\r\n            if(opts.path && that.container){\r\n                that.path = router._replace(opts.path);\r\n                var paths = that._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(that._getTarget()){\r\n                    return that._event()\r\n                }\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var that = this, path = that.path, opts = that.options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:that.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var that = this, opts = that.options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+that.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('click', Nui.doc, that.target, function(e, elem){\r\n                that._render(elem);\r\n                return false\r\n            })\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, router = that.constructor;\r\n            that._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === that.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return that\r\n        }\r\n    })\r\n})\nNui.define('pages/components/router/script/menu',[{\r\n    id:'recordVoucher',\r\n    name:'录凭证',\r\n    index:true,\r\n    icon:'',\r\n    path:'/voucher/record/'\r\n}, {\r\n    id:'seeVoucher',\r\n    name:'查凭证',\r\n    icon:'',\r\n    index:true,\r\n    path:'/voucher/list/aniu/jser/'\r\n}, {\r\n    name:'账簿',\r\n    icon:'',\r\n    subs:[{\r\n        id:'summary',\r\n        name:'总账',\r\n        icon:'',\r\n        path:'/books/summary/'\r\n    }, {\r\n        id:'detailed',\r\n        name:'明细账',\r\n        icon:'',\r\n        path:'/books/detailed/'\r\n    }, {\r\n        id:'accountbalance',\r\n        name:'科目余额表',\r\n        icon:'',\r\n        path:'/books/accountbalance/'\r\n    }]\r\n}])\nNui.define('pages/components/router/script/tpls/index',function(){\r\n    return this.renders(''+''\r\n        +'<div class=\"m-main ui-bgw\">'+''\r\n            +'<h3 class=\"ui-bdb ui-fcb\">'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run1\">欢</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run2\">迎</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run3\">使</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run4\">用</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run5\">云</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run6\">记</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run7\">账</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run8\">！</em>'+''\r\n            +'</h3>'+''\r\n            +'<ul>'+''\r\n                +'<% each menu %>'+''\r\n                +'<% if $value.index %>'+''\r\n                +'<li>'+''\r\n                    +'<a href=\"javascript:void(0)\" rel=\"<% $value.path %>\">'+''\r\n                        +'<em><i class=\"iconfont ui-animate\">&#xe62a;</i></em>'+''\r\n                        +'<span class=\"ui-animate\"><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                +'</li>'+''\r\n                +'<% /if %>'+''\r\n                +'<% /each %>'+''\r\n            +'</ul>'+''\r\n        +'</div>'+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/index',['pages/components/router/script/tpls/index', 'template', 'pages/components/router/script/menu'], function(tmpl, tpl, menu){\r\n    var module = this;\r\n    var router = module.require('src/components/router');\r\n    var layer = module.require('src/components/layer/layerExt');\r\n    module.imports('../../style/index');\r\n\r\n    return {\r\n        target:'#index',\r\n        entry:true,\r\n        path:'/index/',\r\n        template:tmpl,\r\n        data:{\r\n            menu:menu\r\n        },\r\n        onChange:function(){\r\n            console.log(this.data)\r\n        },\r\n        mapping:{\r\n            'click a':function(e, elem){\r\n                router.location(elem.attr('rel'), {\r\n                    a:1\r\n                })\r\n            },\r\n            'click h3':function(){\r\n                var recordVoucher = module.require('pages/components/router/script/modules/recordVoucher');\r\n                var events = module.require('events');\r\n                var _layer = layer({\r\n                    content:tpl.render.call(recordVoucher.template, recordVoucher.template.layout, {\r\n                        params:{\r\n                            a:1\r\n                        }\r\n                    }),\r\n                    isFull:true\r\n                });\r\n                recordVoucher.element = _layer._main; \r\n                events.call(recordVoucher)\r\n            }\r\n        }\r\n    }\r\n})\nNui.define('pages/components/router/script/router',['src/components/router'], function(router){\r\n    var module = this;\r\n\r\n    return function(){\r\n\r\n        router.config({\r\n            container:'.g-main',\r\n            onAfter:function(){\r\n                $('.m-menu-item a.s-crt').removeClass('s-crt');\r\n                $(this.target).addClass('s-crt');\r\n            }\r\n        })\r\n\r\n        router(module.require('pages/components/router/script/modules/index'))\r\n\r\n        router(module.require('pages/components/router/script/modules/recordVoucher'))\r\n\r\n        /*router({\r\n            target:'#seeVoucher',\r\n            path:'{list}',\r\n            wrapper:false,\r\n            level:2,\r\n            onChange:module.require('pages/components/router/script/modules/seeVoucher')\r\n        })*/\r\n\r\n        router.start()\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/layout',function(){\r\n    var module = this;\r\n    return ({\r\n        head:module.renders(''+''\r\n            +'<div class=\"f-fl m-head-main\">'+''\r\n                +'<% var data = list[0] %>'+''\r\n                +'<p class=\"f-fl name\"><% data.buname %></p>'+''\r\n                +'<p class=\"f-fl month\"><% data.buaddress %></p>'+''\r\n            +'</div>'+''\r\n        +''),\r\n        menu:module.renders(''+''\r\n            +'<% each menu %>'+''\r\n            +'<dl class=\"m-menu-item\">'+''\r\n                +'<dt>'+''\r\n                    +'<a href=\"<% $value.path || \\'javascript:void(0)\\' %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<em><i class=\"iconfont\"></i></em>'+''\r\n                        +'<span><% $value.name %></span>   '+''\r\n                    +'</a>'+''\r\n                +'</dt>'+''\r\n                +'<% if $value.subs && $value.subs.length %>'+''\r\n                +'<dd>'+''\r\n                    +'<% each $value.subs %>'+''\r\n                    +'<a href=\"<% $value.path %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<span><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                    +'<% /each %>'+''\r\n                +'</dd>'+''\r\n                +'<% /if %>'+''\r\n            +'</dl>'+''\r\n            +'<% /each %>'+''\r\n        +'')\r\n    })\r\n})\nNui.define('pages/components/router/script/render',['pages/components/router/script/menu', 'pages/components/router/script/tpls/layout', 'template'], function(menu, layout, tpl){\r\n    var module = this;\r\n    return function(data){\r\n        $('.m-headbox').html(tpl.render(layout.head, data))\r\n        data.menu = menu;\r\n        $('.m-menu').html(tpl.render(layout.menu, data))\r\n    }\r\n})\nNui.define('./script/page',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar render = require('pages/components/router/script/render');\r\n\tvar router = require('pages/components/router/script/router');\r\n\tvar ajax = require('pages/components/router/script/ajax');\r\n\tvar base = imports('../style/base');\r\n\tvar page = imports('../style/page');\r\n\t\r\n\tajax({\r\n\t    url:'./script/data.json',\r\n\t    success:function(res){\r\n\t        render(res);\r\n\t        router()\r\n\t    }\r\n\t});\r\n\tmodule.exports = function(){\r\n\t    \r\n\t}\n});\n"]}