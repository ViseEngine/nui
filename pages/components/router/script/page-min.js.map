{"version":3,"sources":["page-debug.js"],"names":["Nui","define","ajax","$","options","url","dataType","success","noop","error","apply","this","arguments","extend","cache","statusCode","404","502","renders","tmpl","tpl","target","wrapper","request","html","render","component","text","animate","equal","color","_template","list","wrap","elem","_init","_exec","that","_getTarget","deftext","attr","trim","undefined","val","_create","opts","self","constructor","document","createElement","_setStyle","removeAttr","data","_tplData","style","position","display","width","outerWidth","overflow","cursor","_tpl2html","element","height","outerHeight","isText","is","left","_getSize","top","line-height","insertAfter","_events","className","__id","addClass","_createStyle","_createRules","head","appendChild","sheet","id","deleteRule","e","each","v","selector","rules","addRule","insertRule","pleft","_on","focus","stop","opacity","value","hide","show","_reset","_off","remove","unwrap","removeClass","length","static","doc","on","_active","__instances","find","_getcode","type","_getarr","match","code","array","index","indexOf","sub","substr","push","_comment","test","replace","tools","copy","isLight","isLine","isTitle","dom","get","tagName","_event","_title","click tr","siblings","stopPropagation","click .copy","alert","bsie7","_list","title","_getCode","split","str","RegExp","layout","js","ph","path","template","onChange","a","onData","events","click .empty","click a","destroy","setTimeout","init","b","c","empty","util","statics","_maskzIndex","_zIndex","timer","win","clearTimeout","isCenter","resize","$fn","$ready","content","maxWidth","maxHeight","edge","container","isMove","isMask","isInnerMove","isClickMask","isMoveMask","isHide","isFull","isTop","isTips","isFixed","scrollbar","align","bubble","enable","dir","iframe","src","close","confirm","name","callback","cancel","under","button","onMove","onResize","onScroll","onBeforeDestroy","onTimer","mask","movemask","_container","_jquery","_containerDOM","_window","_isWindow","pos","css","_isFixed","bsie6","buttons","_createButton","_getContent","z-index","_setTop","appendTo","box","children","body","main","foot","_iframe","_iframeOnload","_bindMove","_bindTop","_button","_buttonEvent","_bindScroll","_show","_createIframe","jQuery","prop","setParam","Date","getTime","frameborder","scroll","load","_iframeDocument","contents","_resize","defaults","caches","btn","unshift","slice","hasClass","isCall","call","_setzIndex","x","y","_x","_y","ele","_moveMask","skin","pageX","pageY","offsetTop","scrollTop","offsetLeft","scrollLeft","_isTop","_setLower","unders","concat","obj","k","_position","_v","_pos","right","bottom","Function","parseFloat","wWidth","wHeight","sleft","_setSize","edgeSize","ws","layer","_height","_showMask","__layermask__","_timer","onInit","_timerid","noMask","exports","_delete","_isdestroy","onDestroy","module","tips","isClose","loading","message","form","validator","valid","btns","i","submit","formLayer","elems","messages","setting","rule","eval","key","msg","messageFilter","errorClass","onkeyup","focusInvalid","onfocusout","focusCleanup","ignore","errorPlacement","closest","itemWrap","errorWrap","submitHandler","param","getData","serialize","serializeArray","join","onBeforeSubmit","res","xhr","onSuccess","onError","validate","_paths","back","forward","_setpaths","paths","_replace","hash","location","protocol","host","_getWrapper","_split","ret","params","arr","_change","isEmptyObject","_hash","query","object","_send","_isRrender","_wrapper","off","onAfter","_initialize","_setHistory","_isEntry","entry","_render","eq","_oldhash","_bindHashchange","hashchange","setInterval","_$ready","_$fn","start","temp","_router","history","_history","_isHistory","active","len","window","level","onBefore","router","_bind","_getpath","shift","href","trigger","change","icon","subs","menu","require","imports","click h3","recordVoucher","_layer","_main","console","log","config"],"mappings":"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","file":"page-min.js.map?v=5f48f8c","sourcesContent":["Nui.define('pages/components/router/script/ajax',function(){\r\n    var ajax = $.ajax;\r\n    return function(options){\r\n        if(typeof options === 'string'){\r\n            options = {\r\n                url:options,\r\n                dataType:'json'\r\n            }\r\n        }\r\n        var success = options.success || $.noop;\r\n        var error = options.error || $.noop;\r\n        options.success = function(){\r\n            success.apply(this, arguments)\r\n        }\r\n        options.error = function(){\r\n            error.apply(this, arguments)\r\n        }\r\n        return ajax($.extend(true, {\r\n            cache:false,\r\n            dataType:'json',\r\n            statusCode:{\r\n                '404':function(){\r\n\r\n                },\r\n                '502':function(){\r\n\r\n                }\r\n            }\r\n        }, options))\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/seeVoucher',function(){\r\n    return this.renders(''+''\r\n        +'这是查凭证页面，页面完整url是：<% url %>，路径是：<% path %>'+''\r\n        +'<% if param %>'+''\r\n        +'<br>'+''\r\n        +'参数分别是：'+''\r\n        +'<% each param %>'+''\r\n        +'<% $index %>=<% $value %>，'+''\r\n        +'<% /each %>'+''\r\n        +'<% /if %>'+''\r\n        +'<a id=\"aaa\" class=\"nui-router-back\">返回</a> '+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/seeVoucher',['pages/components/router/script/tpls/seeVoucher', 'template'], function(tmpl, tpl){\r\n    var module = this;\r\n    return function(target, wrapper, request){\r\n        wrapper.html(tpl.render(tmpl, request))\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description 输入框占位符\r\n */\r\n\r\nNui.define('src/components/placeholder',['component'], function(component){\r\n    return this.extend(component, {\r\n        options:{\r\n            /**\r\n             * @func 输入框占位提示文本，若元素上含有placeholder属性将会覆盖该值\r\n             * @type <String>\r\n             */\r\n            text:'',\r\n            /**\r\n             * @func 是否启用动画显示展示\r\n             * @type <Boolean>\r\n             */\r\n            animate:false,\r\n            /**\r\n             * @func 输入框值是否可以和占位符相同\r\n             * @type <Boolean>\r\n             */\r\n            equal:false,\r\n            /**\r\n             * @func 占位符文本颜色\r\n             * @type <String>\r\n             */\r\n            color:'#ccc'\r\n        },\r\n        _template:{\r\n            list:'<%each style%><%$index%>:<%$value%>;<%/each%>',\r\n            wrap:'<strong class=\"<% className %>\" style=\"<%include \\'list\\'%>\" />',\r\n            elem:'<b style=\"<%include \\'list\\'%>\"><%text%></b>'\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var text = that.deftext = target.attr('placeholder');\r\n                if(!that.deftext && that.options.text){\r\n                    target.attr('placeholder', text = that.options.text)\r\n                }\r\n                that.text = Nui.trim(text);\r\n                if(that.val === undefined){\r\n                    that.val = Nui.trim(target.val());\r\n                }\r\n                if(that.text){\r\n                    that._create()\r\n                }\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            if(opts.animate || (!opts.animate && !('placeholder' in document.createElement('input')))){\r\n                if(opts.animate){\r\n                    that.target.removeAttr('placeholder')\r\n                }\r\n                var data = that._tplData();\r\n                data.style = {\r\n                    'position':'relative',\r\n                    'display':'inline-block',\r\n                    'width':that.target.outerWidth()+'px',\r\n                    'overflow':'hidden',\r\n                    'cursor':'text'\r\n                }\r\n                that.target.wrap(that._tpl2html('wrap', data))\r\n                that.element = $(that._tpl2html('elem', {\r\n                        text:that.text,\r\n                        style:(function(){\r\n                            var height = that.target.outerHeight();\r\n                            var isText = that.target.is('textarea');\r\n                            return ({\r\n                                'display':Nui.trim(that.target.val()) ? 'none' : 'inline',\r\n                                'position':'absolute',\r\n                                'left':self._getSize(that.target, 'l', 'padding')+self._getSize(that.target, 'l')+'px',\r\n                                'top':self._getSize(that.target, 't', 'padding')+self._getSize(that.target, 't')+'px',\r\n                                'height':isText ? 'auto' : height+'px',\r\n                                'line-height':isText ? 'normal' : height+'px',\r\n                                'color':opts.color\r\n                            })\r\n                        })()\r\n                    })).insertAfter(that.target)\r\n\r\n                that._events()\r\n            }\r\n            else{\r\n                that._setStyle()\r\n            }\r\n        },\r\n        _setStyle:function(){\r\n            var that = this, opts = that.options;\r\n            that.className = '_placeholder-'+that.__id;\r\n            that.target.addClass(that.className);\r\n            if(!that.constructor.style){\r\n                that._createStyle()\r\n            }\r\n            that._createRules()\r\n        },\r\n        _createStyle:function(){\r\n            var that = this;\r\n            var style = document.createElement('style');\r\n            document.head.appendChild(style);\r\n            that.constructor.style = style.sheet\r\n        },\r\n        _createRules:function(){\r\n            var that = this;\r\n            var sheet = that.constructor.style;\r\n            var id = that.__id;\r\n            try{\r\n                sheet.deleteRule(id)\r\n            }\r\n            catch(e){}\r\n            Nui.each(['::-webkit-input-placeholder', ':-ms-input-placeholder', '::-moz-placeholder'], function(v){\r\n                var selector = '.'+that.className+v;\r\n                var rules = 'opacity:1; color:'+(that.options.color||'');\r\n                try{\r\n                    if('addRule' in sheet){\r\n                        sheet.addRule(selector, rules, id)\r\n                    }\r\n                    else if('insertRule' in sheet){\r\n                        sheet.insertRule(selector + '{' + rules + '}', id)\r\n                    }\r\n                }\r\n                catch(e){}\r\n            })\r\n        },\r\n        _events:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            var pleft = self._getSize(that.target, 'l', 'padding') + self._getSize(that.target, 'l');\r\n            that._on('click', that.element, function(){\r\n                that.target.focus()\r\n            })\r\n\r\n            that._on('focus', that.target, function(){\r\n                opts.animate && that.element.stop(true, false).animate({left:pleft+10, opacity:'0.5'});\r\n            })\r\n\r\n            that._on('blur change', that.target, function(e, elem){\r\n                that.value();\r\n            })\r\n\r\n            that._on('keyup keydown', that.target, function(e, elem){\r\n                Nui.trim(elem.val()) ? that.element.hide() : that.element.show()\r\n            })\r\n        },\r\n        _reset:function(){\r\n            var that = this;\r\n            that._off();\r\n            if(that.element){\r\n                that.element.remove();\r\n                that.target.unwrap();\r\n            }\r\n            that.target.val(that.val).removeClass(that.className);\r\n            if(that.deftext){\r\n                that.target.attr('placeholder', that.deftext)\r\n            }\r\n            else{\r\n                that.target.removeAttr('placeholder')\r\n            }\r\n        },\r\n        value:function(val){\r\n            var self = this.constructor, target = this.target;\r\n            var pleft = self._getSize(target, 'l', 'padding') + self._getSize(target, 'l');\r\n            var v = Nui.trim(!arguments.length ? target.val() : target.val(val).val());\r\n            if((!this.options.equal && v === this.text) || !v){\r\n                target.val('');\r\n                this.element && this.element.show();\r\n                if(this.options.animate){\r\n                    this.element.stop(true, false).animate({left:pleft, opacity:'1'})\r\n                }\r\n            }\r\n            else if(this.element){\r\n                this.element.hide()\r\n            }\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description 语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/highlight',function(){\r\n    return this.extend('component', {\r\n        static:{\r\n            _init:function(){\r\n                var that = this;\r\n                Nui.doc.on('click', function(){\r\n                    if(that._active){\r\n                        Nui.each(that.__instances, function(val){\r\n                            if(val._active){\r\n                                val.element.find('tr.s-crt').removeClass('s-crt');\r\n                                val._active = false;\r\n                            }\r\n                        })\r\n                    }\r\n                    that._active = false;\r\n                })\r\n            },\r\n            _getcode:function(type, text){\r\n                return '<code class=\"'+ type +'\">'+ text +'</code>'\r\n            },\r\n            _getarr:function(match, code){\r\n                var array = [];\r\n                if(!match){\r\n                    array.push(code)\r\n                }\r\n                else{\r\n                    Nui.each(match, function(v){\r\n                        var index = code.indexOf(v);\r\n                        var sub = code.substr(0, index);\r\n                        code = code.substr(index+v.length);\r\n                        array.push(sub);\r\n                        array.push(v);\r\n                    })\r\n                    array.push(code);\r\n                }\r\n                return array\r\n            },\r\n            _comment:function(code){\r\n                //多行注释\r\n                if(/\\/\\*/.test(code)){\r\n                    code = code.replace(/(\\/\\*(.|\\s)*?\\*\\/)/g, this._getcode('comment', '$1'))\r\n                }\r\n                //单行注释\r\n                else if(/\\/\\//.test(code)){\r\n                    code = code.replace(/(\\/\\/.*)$/g, this._getcode('comment', '$1'))\r\n                }\r\n                return code\r\n            }\r\n        },\r\n        options:{\r\n            //工具栏\r\n            tools:{\r\n                //复制\r\n                copy:true\r\n            },\r\n            //点击代码那一行高亮\r\n            isLight:true,\r\n            //是否显示行号\r\n            isLine:false,\r\n            //是否显示语法标题\r\n            isTitle:true\r\n        },\r\n        _init:function(){\r\n            this._exec();\r\n        },\r\n        _exec:function(){\r\n            var that = this, target = that._getTarget();\r\n            if(target){\r\n                var dom = target.get(0);\r\n                if(dom.tagName === 'SCRIPT' && dom.type == 'text/highlight'){\r\n                    that.code = target.html()\r\n                                .replace(/^[\\r\\n]+|[\\r\\n]+$/g, '')\r\n                                .replace(/</g, '&lt;')\r\n                                .replace(/>/g, '&gt;');\r\n                    if(that.element){\r\n                        that.element.remove();\r\n                    }\r\n                    that._create();\r\n                    if(that.options.isLight){\r\n                        that._event();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        _title:'',\r\n        _template:\r\n            '<div class=\"<% className %>\">'\r\n                +'<%if tools%>'\r\n                +'<div class=\"tools\">'\r\n                    +'<%if tools.copy%>'\r\n                    +'<em class=\"copy\">复制</em>'\r\n                    +'<%/if%>'\r\n                +'</div>'\r\n                +'<%/if%>'\r\n                +'<div class=\"body\">'\r\n                    +'<table>'\r\n                        +'<%each list val key%>'\r\n                            +'<tr>'\r\n                                +'<%if isLine === true%><td class=\"line\" number=\"<%key+1%>\"><%if bsie7%><%key+1%><%/if%></td><%/if%>'\r\n                                +'<td class=\"code\"><%val%></td>'\r\n                            +'</tr>'\r\n                        +'<%/each%>'\r\n                    +'</table>'\r\n                +'</div>'\r\n                +'<%if isTitle%>'\r\n                +'<em class=\"title\"><%title%></em>'\r\n                +'<%/if%>'\r\n            +'</div>',\r\n        _events:{\r\n            'click tr':function(e, elem){\r\n                this.constructor._active = this._active = true;\r\n                elem.addClass('s-crt').siblings().removeClass('s-crt');\r\n                e.stopPropagation()\r\n            },\r\n            'click .copy':function(){\r\n                alert('傻帽！逗你玩呢。')\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this;\r\n            var opts = that.options;\r\n            var data = $.extend({\r\n                bsie7:Nui.bsie7,\r\n                list:that._list(),\r\n                title:that._title,\r\n                isLine:opts.isLine,\r\n                tools:opts.tools,\r\n                isTitle:opts.isTitle\r\n            }, that._tplData())\r\n            that.element = $(that._tpl2html(data)).insertAfter(that.target);\r\n        },\r\n        _getCode:function(){\r\n            return this.code\r\n        },\r\n        _list:function(){\r\n            return this._getCode().split('\\n')\r\n        }\r\n    })\r\n})\r\n\n/**\r\n * @author Aniu[2017-03-02 08:44]\r\n * @update Aniu[2017-03-02 08:44]\r\n * @version 1.0.1\r\n * @description javascript语法高亮组件\r\n */\r\n\r\nNui.define('src/components/highlight/javascript',function(){\r\n    return this.extend('src/components/highlight/highlight', {\r\n        _title:'js',\r\n        _getCode:function(){\r\n            var that = this;\r\n            var code = that.code;\r\n            var self = that.constructor;\r\n            var str = '';\r\n            var kws = 'abstract|arguments|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|elseif|each|enum|eval|export|'+\r\n                      'extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|include|interface|let|long|native|new|null|'+\r\n                      'package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var';\r\n            var symbol = '&lt;|&gt;|;|!|%|\\\\\\|\\\\\\[|\\\\\\]|\\\\\\(|\\\\\\)|\\\\\\{|\\\\\\}|\\\\\\=|\\\\\\/|-|\\\\\\+|,|\\\\\\.|\\\\\\:|\\\\\\?|~|\\\\\\*|&';\r\n            var match = code.match(/(\\/\\/.*)|(\\/\\*(.|\\s)*?\\*\\/)|('[^']*')|(\"[^\"]*\")/g);\r\n            var array = self._getarr(match, code);\r\n            Nui.each(array, function(v){\r\n                if($.trim(v)){\r\n                    //单行注释\r\n                    if(/^\\s*\\/\\//.test(v)){\r\n                        v = self._getcode('comment', v);\r\n                    }\r\n                    //多行注释\r\n                    else if(/^\\s*\\/\\*/.test(v)){\r\n                        v = v.replace(/(.+)/g, self._getcode('comment', '$1'))\r\n                    }\r\n                    else{\r\n                        //字符串\r\n                        if(/'|\"/.test(v)){\r\n                            v = v.replace(/(.+)/g, self._getcode('string', '$1'))\r\n                        }\r\n                        //关键字、符号、单词\r\n                        else{\r\n                            v = v.replace(new RegExp('('+ symbol +')', 'g'), self._getcode('symbol', '$1'))\r\n                                .replace(new RegExp('('+ kws +')(\\\\s+|\\\\\\<code)', 'g'), self._getcode('keyword', '$1')+'$2')\r\n                                .replace(/(\\/code>\\s*)(\\d+)/g, '$1'+self._getcode('number', '$2'))\r\n                                .replace(/(\\/code>\\s*)?([^<>\\s]+)(\\s*<code)/g, '$1'+self._getcode('word', '$2')+'$3')\r\n\r\n                        }\r\n                        v = self._comment(v);\r\n                    }\r\n                }\r\n                str += v;\r\n            })\r\n            return str\r\n        }\r\n    })\r\n})\r\n\nNui.define('pages/components/router/script/tpls/recordVoucher',function(){\r\n    return {\r\n        layout:this.renders(''+''\r\n            +'<input type=\"text\" placeholder=\"aaaaaaaaaaa\" value=\"11\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"111\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"222\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true}\\' />'+''\r\n            +'<input type=\"text\" placeholder=\"333\" data-placeholder-options=\\'{\"color\":\"#f60\", \"animate\":true, \"id\":\"aaa\"}\\' />'+''\r\n            +'<div class=\"empty\">还原</div>'+''\r\n            +'<script type=\"text/highlight\" data-javascript-options=\"{id:\\'b\\'}\">'+''\r\n            +'var a = 1;'+''\r\n            +'var b = 2;'+''\r\n            +'</script> '+''\r\n            +'<div class=\"box nui-router-back\">返回<%a??%><%params.a??%></div>'+''\r\n            +'<a id=\"aaa\">aaaaaaaaaaa</a>'+''\r\n            +'<%include \\'show\\'%>'+''\r\n        +''),\r\n        show:this.renders(''+''\r\n            +'1111111111111111112'+''\r\n        +'')\r\n    }\r\n})\nNui.define('pages/components/router/script/modules/recordVoucher',['component', 'pages/components/router/script/tpls/recordVoucher', 'template', 'src/components/highlight/javascript', 'src/components/placeholder'], function(component, tmpl, tpl, js, ph){\r\n    var module = this;\r\n    return {\r\n        target:'#recordVoucher',\r\n        path:'/voucher/record',\r\n        template:tmpl,\r\n        onChange:function(){\r\n            delete this.data.a\r\n        },\r\n        onData:function(data){\r\n            this.data.a = data.a;\r\n        },\r\n        events:{\r\n            //'click b':'b',\r\n            'click .empty':'empty',\r\n            'click a':'c a'\r\n        },\r\n        a:function(){\r\n            var that = this;\r\n            component.destroy(that.element);\r\n            setTimeout(function(){\r\n                js.init(that.element)\r\n                ph.init(that.element)\r\n            }, 1000)\r\n        },\r\n        b:function(){\r\n            //alert()\r\n        },\r\n        c:function(){\r\n            //return confirm('哈哈')\r\n        },\r\n        empty:function(){\r\n            ph.value(this.element, '');\r\n        }\r\n    }\r\n})\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer弹出层\r\n */\r\n\r\nNui.define('src/components/layer/layer',['component', 'util'], function(component, util){\r\n    var module = this;\r\n\r\n    var statics = {\r\n        _maskzIndex:10000,\r\n        _zIndex:10000,\r\n        _init:function(){\r\n            var self = this;\r\n            var timer = null;\r\n            Nui.win.on('resize', function(){\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function(){\r\n                    Nui.each(self.__instances, function(val){\r\n                        var opts = val.options;\r\n                        if(opts.position || opts.isCenter === true){\r\n                            val.resize()\r\n                        }\r\n                    })\r\n                })\r\n            })\r\n        },\r\n        $fn:null,\r\n        $ready:null,\r\n        init:null\r\n    }\r\n\r\n    var options = {\r\n        //主体内容\r\n        content:'',\r\n        //高度\r\n        width:320,\r\n        //宽度\r\n        height:'auto',\r\n        //最大宽度\r\n        maxWidth:0,\r\n        //最大高度\r\n        maxHeight:0,\r\n        //定时器，N毫秒后自动关闭\r\n        timer:0,\r\n        //弹窗四周距离窗口边缘距离\r\n        edge:0,\r\n        //弹窗容器\r\n        container:'body',\r\n        //弹窗标题\r\n        title:'温馨提示',\r\n        //是否可以拖动\r\n        isMove:false,\r\n        //是否有遮罩\r\n        isMask:true,\r\n        //是否只能在窗口内拖动\r\n        isInnerMove:false,\r\n        //点击遮罩是否关闭弹窗\r\n        isClickMask:false,\r\n        //是否使用遮罩拖动\r\n        isMoveMask:false,\r\n        //是否能用hide方法关闭遮罩\r\n        isHide:true,\r\n        //弹窗是否浏览器改变大小时显示在窗口中央\r\n        isCenter:true,\r\n        //是否全屏显示\r\n        isFull:false,\r\n        //是否在点击弹窗时将其置顶\r\n        isTop:false,\r\n        //是否以提示框展示，没有标题，按钮\r\n        isTips:false,\r\n        //是否拖动滚动条固定位置\r\n        isFixed:true,\r\n        //当内容超过弹出层容器，是否显示滚动条\r\n        scrollbar:true,\r\n        //按钮对齐方式\r\n        align:'center',\r\n        //是否以气泡形式展示，弹出层边缘会多出箭头\r\n        bubble:{\r\n            enable:false,\r\n            dir:'top'\r\n        },\r\n        //弹出层内容展示iframe，不建议跨域使用\r\n        iframe:{\r\n            enable:false,\r\n            cache:false,\r\n            src:''\r\n        },\r\n        //关闭按钮\r\n        close:{\r\n            enable:true,\r\n            text:'×'\r\n        },\r\n        //确定按钮\r\n        confirm:{\r\n            enable:false,\r\n            name:'normal',\r\n            text:'确定',\r\n            callback:function(){\r\n                return true\r\n            }\r\n        },\r\n        //取消按钮\r\n        cancel:{\r\n            enable:true,\r\n            text:'取消'\r\n        },\r\n        /*弹出层定位 top/left/right/bottom\r\n        position:{\r\n            top:10,\r\n            left:10\r\n        }\r\n        */\r\n        position:null,\r\n        /*将弹出层置于遮罩层底部\r\n        under:[layer1, layer2]\r\n        */\r\n        under:null,\r\n        /*配置按钮，若id为confirm/cancel/close将会覆盖内置按钮参数\r\n        button:[{\r\n            id:'confirm',\r\n            text:'确定',\r\n            name:'normal',\r\n            callback:function(){\r\n\r\n            }\r\n        }]\r\n        */\r\n        button:null,\r\n        //onInit：弹出层显示时回调\r\n        //onDestroy：弹出层注销时回调\r\n        //当拖动弹出层移动后回调\r\n        onMove:null,\r\n        //窗口改变大小位置时回调\r\n        onResize:null,\r\n        //容器滚动时回调\r\n        onScroll:null,\r\n        //弹窗销毁前回调，若返回false则不能销毁\r\n        onBeforeDestroy:null,\r\n        //定时关闭弹窗回调\r\n        onTimer:null\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:options,\r\n        _template:{\r\n            layout:\r\n                '<div class=\"<% className %>\" style=\"<% include \\'style\\' %>\">'+\r\n                    '<div class=\"layer-box\">'+\r\n                        '<%if close%>'+\r\n                            '<% var btn = close %>'+\r\n                            '<% include \"button\" %>'+\r\n                        '<%/if%>'+\r\n                        '<%if bubble%>'+\r\n                        '<span class=\"layer-bubble layer-bubble-<%bubble%>\"><b></b><i></i></span>'+\r\n                        '<%/if%>'+\r\n                        '<%if title%>'+\r\n                        '<div class=\"layer-head\">'+\r\n                            '<span class=\"layer-title\"><%title%></span>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                        '<div class=\"layer-body\">'+\r\n                            '<div class=\"layer-main\">'+\r\n                            '<%content%>'+\r\n                            '</div>'+\r\n                        '</div>'+\r\n                        '<%if button && button.length%>'+\r\n                        '<div class=\"layer-foot\" style=\"text-align:<%align%>\">'+\r\n                        '<div class=\"layer-inner\">'+\r\n                        '<%each button btn%>'+\r\n                            '<%include \"button\"%>'+\r\n                        '<%/each%>'+\r\n                        '</div>'+\r\n                        '</div>'+\r\n                        '<%/if%>'+\r\n                    '</div>'+\r\n                '</div>',\r\n            button:\r\n                '<button class=\"ui-button'+\r\n                    '<%if btn.name%>'+\r\n                    '<%each [].concat(btn.name) name%> ui-button-<%name%><%/each%>'+\r\n                    '<%/if%> layer-button-<%btn.id%>\"'+\r\n                    '<%if btn.style%>'+\r\n                    ' style=\"<%each btn.style v n%><%n%>:<%v%>;<%/each%>\"'+\r\n                    '<%/if%>><%btn.text || \"按钮\"%></button>',\r\n            iframe:\r\n                '<iframe<%each attr%> <%$index%>=\"<%$value%>\"<%/each%>></iframe>',\r\n            mask:\r\n                '<div class=\"nui-layer-mask'+\r\n                    '<%if skin%> nui-layer-mask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                    '<div class=\"layer-mask\"></div>'+\r\n                '</div>',\r\n            movemask:\r\n                '<div class=\"nui-layer-movemask'+\r\n                    '<%if skin%> nui-layer-movemask-<%skin%><%/if%>\" style=\"<%include \\'style\\'%>\">'+\r\n                '</div>',\r\n            style:\r\n                '<%each style%><%$index%>:<%$value%>;<%/each%>'\r\n        },\r\n        /*\r\n        top:弹窗距离窗口顶部距离\r\n        left:弹窗距离窗口左边距离\r\n        width:弹窗宽度\r\n        height:弹窗高度\r\n        */\r\n        data:{},\r\n        _init:function(){\r\n            this._zIndex = ++this.constructor._zIndex;\r\n            this._exec()\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, self = that.constructor;\r\n            that._container = self._jquery(opts.container);\r\n            if(that._container.length){\r\n                that._containerDOM = that._container.get(0);\r\n                if(that._containerDOM.tagName !== 'BODY'){\r\n                    that._window = that._container;\r\n                    that._isWindow = false;\r\n                    var pos = that._container.css('position');\r\n                    if(pos !== 'absolute' && pos !== 'relative'){\r\n                        that._container.css('position', 'relative')\r\n                    }\r\n                }\r\n                else{\r\n                    that._window = Nui.win;\r\n                    that._isWindow = true;\r\n                }\r\n                that._isFixed = opts.isFixed && !Nui.bsie6 && that._isWindow;\r\n                that._create();\r\n            }\r\n        },\r\n        _create:function(){\r\n            var that = this, opts = that.options;\r\n            var buttons = that._createButton(), isTitle = false;\r\n            if(opts.isTips !== true){\r\n                isTitle = typeof opts.title === 'string';\r\n            }\r\n            var data = that._tplData({\r\n                content:that._getContent(),\r\n                close:buttons.close,\r\n                button:buttons.button,\r\n                title:isTitle ? (opts.title||'温馨提示') : null,\r\n                bubble:opts.bubble.enable === true ? opts.bubble.dir : null,\r\n                align:opts.align || 'center',\r\n                style:{\r\n                    'z-index':that._zIndex,\r\n                    'position':'absolute',\r\n                    'display':'block'\r\n                }\r\n            });\r\n            if(that._isFixed){\r\n                data.style.position = 'fixed';\r\n            }\r\n            that._setTop();\r\n            that.element = $(that._tpl2html('layout', data)).appendTo(that._container);\r\n            that.box = that.element.children('.layer-box');\r\n\t\t\tthat.head = that.box.children('.layer-head');\r\n\t\t\tthat.body = that.box.children('.layer-body');\r\n\t\t\tthat.main = that.body.children('.layer-main');\r\n\t\t\tthat.foot = that.box.children('.layer-foot');\r\n            if(opts.isTips !== true){\r\n                if(opts.iframe.enable === true){\r\n                    that._iframe = that.main.children('iframe');\r\n                    that._iframeOnload()\r\n                }\r\n                if(opts.isMove === true && isTitle){\r\n                    that._bindMove();\r\n                }\r\n                if(opts.isTop === true){\r\n                    that._bindTop();\r\n                }\r\n            }\r\n            if(that._button.length){\r\n                that._buttonEvent();\r\n            }\r\n            if(opts.isFixed === true && !that._isFixed === true){\r\n                that._bindScroll()\r\n            }\r\n            that._show()\r\n        },\r\n        _getContent:function(){\r\n            var that = this, opts = that.options, content = '';\r\n            if(opts.isTips !== true && opts.iframe.enable === true){\r\n                content = that._createIframe();\r\n            }\r\n            else{\r\n                if(typeof opts.content === 'string'){\r\n                    content = opts.content\r\n                }\r\n                else if(opts.content instanceof jQuery){\r\n                    content = opts.content.prop('outerHTML')\r\n                }\r\n            }\r\n            return content\r\n        },\r\n        _createIframe:function(){\r\n            var that = this, opts = that.options, name = 'layer-iframe'+that.__id, src = opts.iframe.src;\r\n            if(options.iframe.cache === false){\r\n                src = util.setParam('_', new Date().getTime(), src)\r\n            }\r\n            return that._tpl2html('iframe', {\r\n                attr:{\r\n                    frameborder:'0',\r\n                    name:name,\r\n                    id:name,\r\n                    src:src,\r\n                    scroll:'hidden',\r\n                    style:'width:100%;'\r\n                }\r\n            })\r\n        },\r\n        _iframeOnload:function(){\r\n            var that = this;\r\n            that._iframe.load(function(){\r\n                that._iframeDocument = that._iframe.contents();\r\n                that._resize()\r\n            })\r\n        },\r\n        _createButton:function(){\r\n            var that = this, opts = that.options, defaults = {}, buttons = {}, caches = {};\r\n            that._button = [];\r\n            if(opts.isTips !== true){\r\n                Nui.each(['confirm', 'cancel'], function(id){\r\n                    var btn = opts[id];\r\n                    if(btn && btn.enable === true){\r\n                        defaults[id] = {\r\n                            id:id,\r\n                            name:btn.name,\r\n                            style:btn.style,\r\n                            text:btn.text,\r\n                            callback:btn.callback\r\n                        }\r\n                    }\r\n                });\r\n                if(opts.button && opts.button.length){\r\n                    Nui.each(opts.button, function(val){\r\n                        var id = val.id;\r\n                        if(!caches[id]){\r\n                            caches[id] = true;\r\n                            if(defaults[id]){\r\n                                if(!val.text){\r\n                                    if(id === 'cancel'){\r\n                                        val.text = '取消'\r\n                                    }\r\n                                    else if(id === 'confirm'){\r\n                                        val.text = '确定'\r\n                                    }\r\n                                }\r\n                                delete defaults[id]\r\n                            }\r\n                            that._button[id === 'close' ? 'unshift' : 'push'](val)\r\n                        }\r\n                    })\r\n                }\r\n                Nui.each(defaults, function(val){\r\n                    that._button.push(val)\r\n                });\r\n            }\r\n            if(!caches.close && opts.close && opts.close.enable === true){\r\n                that._button.unshift({\r\n                    id:'close',\r\n                    name:opts.close.name,\r\n                    style:opts.close.style,\r\n                    text:opts.close.text,\r\n                    callback:opts.close.callback\r\n                })\r\n            }\r\n            if(that._button[0] && that._button[0].id === 'close'){\r\n                buttons.close = that._button[0],\r\n                buttons.button = that._button.slice(1);\r\n            }\r\n            else{\r\n                buttons.button = that._button\r\n            }\r\n            return buttons\r\n        },\r\n        _buttonEvent:function(){\r\n            var that = this;\r\n            Nui.each(that._button, function(val){\r\n                that._on('click', that.element, '.layer-button-'+val.id, function(e, elem){\r\n                    if(!elem.hasClass('nui-button-disabled')){\r\n                        var id = val.id, callback = val.callback;\r\n                        var isCall = typeof callback === 'function' ? callback.call(that, that.main, that.__id, elem) : null;\r\n                        if((id === 'confirm' && isCall === true) || (id !== 'confirm' && isCall !== false)){\r\n                            that.destroy()\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        _bindTop:function(){\r\n            var that = this;\r\n            that._on('click', that.element, function(){\r\n                that._setzIndex();\r\n            });\r\n        },\r\n        _bindMove:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            var self = that.constructor, elem = element, isMove = false, x, y, _x, _y;\r\n            that._on('mousedown', that.head, function(e, ele){\r\n                isMove = true;\r\n                that._setzIndex();\r\n                if(opts.isMoveMask === true){\r\n                    elem = that._moveMask = $(that._tpl2html('movemask', {\r\n                        skin:opts.skin,\r\n                        style:{\r\n                            'z-index':that._zIndex+1,\r\n                            'cursor':'move',\r\n                            'position':that._isFixed ? 'fixed' : 'absolute'\r\n                        }\r\n                    })).appendTo(that._container);\r\n                    elem.css({\r\n                        width:that.data.outerWidth - self._getSize(elem, 'lr', 'all'),\r\n                        height:that.data.outerHeight - self._getSize(elem, 'tb', 'all'),\r\n                        top:that.data.top,\r\n                        left:that.data.left\r\n                    });\r\n                }\r\n                ele.css('cursor','move');\r\n                x = e.pageX - that.data.left;\r\n                y = e.pageY - that.data.top;\r\n                e.stopPropagation();\r\n            });\r\n            that._on('mousemove', Nui.doc, function(e){\r\n                var width = that._container.outerWidth(), height = that._container.outerHeight();\r\n                if(isMove){\r\n                    _x = e.pageX - x;\r\n                    _y = e.pageY - y;\r\n                    _x < 0 && (_x = 0);\r\n                    _y < 0 && (_y = 0);\r\n                    if(opts.isInnerMove === true){\r\n                        _x + that.data.outerWidth > width && (_x = width - that.data.outerWidth);\r\n                        _y + that.data.outerHeight > height && (_y = height - that.data.outerHeight);\r\n                    }\r\n                    that.data.top = _y;\r\n                    that.data.left = _x;\r\n                    elem.css({top:_y, left:_x});\r\n                    return !isMove;\r\n                }\r\n            });\r\n            that._on('mouseup', Nui.doc, function(e){\r\n                if(isMove){\r\n                    isMove = false;\r\n                    that.head.css('cursor','default');\r\n                    if(opts.isMoveMask === true){\r\n                        element.css(that.data);\r\n                        that._moveMask.remove();\r\n                        that._moveMask = null;\r\n                    }\r\n                    if(typeof opts.onMove === 'function'){\r\n                        opts.onMove.call(that, that.main, that.__id)\r\n                    }\r\n                    that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n                    that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n                }\r\n            });\r\n        },\r\n        _bindScroll:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('scroll', that._window, function(){\r\n                var top = that.data.offsetTop + that._window.scrollTop();\r\n                var left = that.data.offsetLeft + that._window.scrollLeft();\r\n                that.data.top = top;\r\n                that.data.left = left;\r\n                that.element.css(that.data);\r\n                if(typeof opts.onScroll === 'function'){\r\n                    opts.onScroll.call(that, that.main, that.__id)\r\n                }\r\n            })\r\n        },\r\n        //鼠标点击弹出层将弹出层层级设置最大\r\n        _setzIndex:function(){\r\n            var that = this, self = that.constructor;\r\n            if(that._isTop && that.element){\r\n                that._isTop = false;\r\n                that._zIndex = ++self._zIndex;\r\n                that.element.css('zIndex', that._zIndex);\r\n                that._setTop();\r\n            }\r\n        },\r\n        _setLower:function(destroy){\r\n            var that = this, self = that.constructor, opts = that.options, unders = [];\r\n            if(opts.under){\r\n                unders = unders.concat(opts.under);\r\n                if(unders.length){\r\n                    Nui.each(unders, function(obj, k){\r\n                        if(obj && obj.element){\r\n                            obj.element.css('z-index', destroy ? obj._zIndex : self._maskzIndex-1)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _setTop:function(){\r\n            var that = this, self = that.constructor;\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val !== that && val.options.isTop === true){\r\n                    val._isTop = true;\r\n                }\r\n            });\r\n        },\r\n        _position:function(){\r\n            var that = this, data = that.data, pos = that.options.position;\r\n            var _pos = {\r\n                top:pos.top,\r\n                left:pos.left,\r\n                right:pos.right,\r\n                bottom:pos.bottom\r\n            }, _v;\r\n\r\n            if(_pos.top !== undefined && _pos.bottom !== undefined){\r\n                delete _pos.bottom\r\n            }\r\n\r\n            if(_pos.left !== undefined && _pos.right !== undefined){\r\n                delete _pos.right\r\n            }\r\n\r\n            Nui.each(_pos, function(v, k){\r\n                if(v === undefined){\r\n                    delete _pos[k];\r\n                    return true;\r\n                }\r\n                _v = v;\r\n                if(typeof v === 'string'){\r\n                    if(!v){\r\n                        _v = 0\r\n                    }\r\n                    else{\r\n                        if(k === 'top' || k === 'bottom'){\r\n                            if(v === 'self'){\r\n                                _v = data.outerHeight\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerHeight+'; return '+v))()\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(v === 'self'){\r\n                                _v = data.outerWidth\r\n                            }\r\n                            else if(/[\\+\\-\\*\\/]/.test(v)){\r\n                                _v = (new Function('var self = '+data.outerWidth+'; return '+v))()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                _pos[k] = _v === 'auto' ? 'auto' : parseFloat(_v)+'px'\r\n            })\r\n\r\n            return _pos\r\n        },\r\n        _resize:function(type){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var wWidth = that._window.outerWidth();\r\n            var wHeight = that._window.outerHeight();\r\n            var stop = 0;\r\n            var sleft = 0;\r\n            if(!that._isFixed){\r\n                sleft = that._window.scrollLeft();\r\n                stop = that._window.scrollTop();\r\n            }\r\n            that._setSize();\r\n            if(opts.position){\r\n                var pos = element.css(that._position()).position();\r\n                if(Nui.bsie6){\r\n                    sleft = 0;\r\n                    stop = 0;\r\n                }\r\n                that.data.left = pos.left + sleft;\r\n                that.data.top = pos.top + stop;\r\n            }\r\n            else{\r\n                if(type === 'init' || opts.isCenter === true){\r\n                    var left = (wWidth - that.data.outerWidth) / 2 + sleft;\r\n                    var top = (wHeight - that.data.outerHeight) / 2 + stop;\r\n                    var edge = opts.edge > 0 ? opts.edge : 0;\r\n                    that.data.left = left > 0 ? left : edge;\r\n                    that.data.top = top > 0 ? top : edge;\r\n                }\r\n            }\r\n            that.data.offsetTop = that.data.top - that._window.scrollTop();\r\n            that.data.offsetLeft = that.data.left - that._window.scrollLeft();\r\n            element.css(that.data);\r\n        },\r\n        _setSize:function(){\r\n            var that = this, self = that.constructor, opts = that.options, element = that.element;\r\n            var edge = opts.edge > 0 ? opts.edge*2 : 0;\r\n            var wWidth = that._window.outerWidth() - edge;\r\n            var wHeight = that._window.outerHeight() - edge;\r\n\r\n            that.body.css({height:'auto', overflow:'visible'});\r\n            element.css({top:'auto', left:'auto', width:'auto', height:'auto'});\r\n            \r\n            var edgeSize = self._getSize(that.box, 'tb', 'all') +\r\n                that.head.outerHeight() + \r\n                self._getSize(that.head, 'tb', 'margin') + \r\n                self._getSize(that.body, 'tb', 'all') + \r\n                that.foot.outerHeight() + \r\n                self._getSize(that.foot, 'tb', 'margin');\r\n\r\n            var width = element.outerWidth();\r\n            if(opts.isFull !== true){\r\n                if(opts.width > 0){\r\n                    width = opts.width\r\n                }\r\n                else if(opts.width === '100%' || (opts.scrollbar === true && width > wWidth)){\r\n                    width = wWidth;\r\n                }\r\n                if(opts.maxWidth > 0 && width >= opts.maxWidth){\r\n                    width = opts.maxWidth\r\n                }\r\n            }\r\n            else{\r\n                width = wWidth;\r\n            }\r\n\r\n            var ws = 'nowrap';\r\n            if(opts.width > 0 || width == opts.maxWidth || width == wWidth){\r\n                ws = 'normal';\r\n            }\r\n\r\n            that.data.width = width - self._getSize(element, 'lr', 'all');\r\n            that.main.css('white-space', ws);\r\n            element.width(that.data.width);\r\n\r\n            var height = element.outerHeight();\r\n            if(that._iframeDocument){\r\n                that._iframeDocument[0].layer = that;\r\n                height = edgeSize + that._iframeDocument.find('body').outerHeight();\r\n            }\r\n\r\n            if(opts.isFull !== true){\r\n                if(opts.height > 0){\r\n                    height = opts.height\r\n                }\r\n                else if(opts.height === '100%' || ((opts.scrollbar === true || that._iframeDocument) && height > wHeight)){\r\n                    height = wHeight\r\n                }\r\n                if(opts.maxHeight > 0 && height >= opts.maxHeight){\r\n                    height = opts.maxHeight\r\n                }\r\n            }\r\n            else{\r\n                height = wHeight\r\n            }\r\n\r\n            that.data.outerWidth = width;\r\n            that.data.outerHeight = height;\r\n            that.data.height = height - self._getSize(element, 'tb', 'all');\r\n            element.height(that.data.height);\r\n            var _height = that.data.height - edgeSize;\r\n            if(that.main.outerHeight() > _height && !that._iframe && opts.scrollbar === true){\r\n                that.body.css('overflow', 'auto')\r\n            }\r\n            if(that._iframe){\r\n                that._iframe.height(_height);\r\n            }\r\n            that.body.height(_height)\r\n        },\r\n        _showMask:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(!that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__ = $(that._tpl2html('mask', {\r\n                    skin:opts.skin,\r\n                    style:{\r\n                        'z-index':self._maskzIndex,\r\n                        'position':that._isFixed ? 'fixed' : 'absolute',\r\n                        'top':'0px',\r\n                        'left':'0px',\r\n                        'width':'100%',\r\n                        'height':that._isFixed ? '100%' : that._container.outerHeight()+'px'\r\n                    }\r\n                })).appendTo(that._container);\r\n            }\r\n            if(opts.isClickMask === true){\r\n                that._on('click', that._containerDOM.__layermask__, function(){\r\n                    that.hide()\r\n                })\r\n            }\r\n        },\r\n        _show:function(){\r\n            var that = this, opts = that.options;\r\n            component('init', that.main);\r\n            that._resize('init');\r\n            that._setLower();\r\n            if(opts.isMask === true){\r\n                that._showMask()\r\n            }\r\n            if(opts.timer > 0){\r\n                that.timer = opts.timer;\r\n                that._timer();\r\n            }\r\n            if(typeof opts.onInit === 'function'){\r\n                opts.onInit.call(that, that.main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        _timer:function(){\r\n            var that = this, opts = that.options;\r\n            if(that.timer > 0){\r\n                if(typeof opts.onTimer === 'function'){\r\n                    opts.onTimer.call(that, that.main, that.timer, that.__id)\r\n                }\r\n                that._timerid = setTimeout(function(){\r\n                    that.timer -= 1000;\r\n                    that._timer();\r\n                }, that.timer > 1000 ? 1000 : that.timer)\r\n            }\r\n            else{\r\n                that.hide()\r\n            }\r\n        },\r\n        _reset:function(){\r\n            var that = this, self = that.constructor, noMask = true;\r\n            component.exports._reset.call(this);\r\n            component('destroy', that.main);\r\n            Nui.each(self.__instances, function(val){\r\n                if(val && val.options.isMask === true && val !== that && val._containerDOM === that._containerDOM){\r\n                    return (noMask = false);\r\n                }   \r\n            });\r\n            if(noMask && that._containerDOM.__layermask__){\r\n                that._containerDOM.__layermask__.remove();\r\n                that._containerDOM.__layermask__  = null;\r\n            }\r\n            if(that.options.timer > 0){\r\n                that.timer = 0;\r\n                clearTimeout(that._timerid);\r\n            }\r\n        },\r\n        resize:function(){\r\n            var that = this, opts = that.options, element = that.element;\r\n            that._resize();\r\n            if(typeof opts.onResize === 'function'){\r\n                opts.onResize.call(this, that.main, that.__id)\r\n            }\r\n            return that\r\n        },\r\n        hide:function(){\r\n            if(this.options.isHide === true){\r\n                this.destroy()\r\n            }\r\n        },\r\n        destroy:function(){\r\n            var that = this, self = that.constructor, opts = that.options;\r\n            if(typeof opts.onBeforeDestroy === 'function' && \r\n                opts.onBeforeDestroy.call(this, that.main, that.__id) === false){\r\n                return\r\n            }\r\n            that._delete();\r\n            that._reset();\r\n            that._setLower(true);\r\n            if(!that._isdestroy){\r\n                self._zIndex--;\r\n                that._isdestroy = true;\r\n            }\r\n            if(typeof opts.onDestroy === 'function'){\r\n                opts.onDestroy.call(this, that.main, that.__id)\r\n            }\r\n        }\r\n    })\r\n});\n/**\r\n * @author Aniu[2016-11-10 22:39]\r\n * @update Aniu[2016-11-10 22:39]\r\n * @version 1.0.1\r\n * @description layer扩展\r\n */\r\n\r\nNui.define('src/components/layer/layerExt',['src/components/layer/layer'], function(layer){\r\n    var module = this;\r\n\r\n    layer.alert = function(content, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        }, opts||{}))\r\n    }\r\n\r\n    layer.confirm = function(content, callback, title, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:'<div style=\"padding:10px; line-height:20px;\">'+(content||'')+'</div>',\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            align:'right',\r\n            confirm:{\r\n                callback:callback||function(){\r\n                    return true\r\n                }\r\n            }\r\n        }, opts||{}, {\r\n            confirm:{\r\n                enable:true\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.iframe = function(src, title, width, height){\r\n        return layer({\r\n            iframe:{\r\n                enable:true,\r\n                src:src\r\n            },\r\n            title:title,\r\n            width:width,\r\n            height:height,\r\n            cancel:{\r\n                text:'关闭'\r\n            }\r\n        })\r\n    }\r\n\r\n    layer.tips = function(content, dir, position, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        return layer($.extend(true, {\r\n            content:content,\r\n            id:'tips',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n            position:position,\r\n            bubble:{\r\n                enable:true,\r\n                dir:dir||'top'\r\n            }\r\n        }, opts||{}, {\r\n            isTips:true,\r\n            isMask:false,\r\n            isClose:false,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.loading = function(content, width, height){\r\n        var opts;\r\n        if(typeof content === 'object'){\r\n            opts = content;\r\n            content = opts.content;\r\n            delete opts.content;\r\n        }\r\n        if(Nui.type(content, 'Number')){\r\n            height = width;\r\n            width = content;\r\n            content = '';\r\n        }\r\n        return layer($.extend({\r\n            content:'<div>'+(content||'正在加载数据...')+'</div>',\r\n            width:width||'auto',\r\n            height:height||'auto',\r\n        }, opts || {}, {\r\n            id:'loading',\r\n            isTips:true,\r\n            close:{\r\n                enable:false\r\n            }\r\n        }))\r\n    }\r\n\r\n    layer.message = function(type, content){\r\n        var opts, color = '#f00';\r\n        if(typeof type === 'object'){\r\n            opts = type;\r\n            content = opts.content;\r\n            delete opts.content;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type !== 'success' && type !== 'error'){\r\n            content = type;\r\n            type = 'success';\r\n        }\r\n\r\n        if(type === 'success' && !content){\r\n            content = '操作成功'\r\n        }\r\n        else if(type === 'error' && !content){\r\n            content = '操作失败'\r\n        }\r\n\r\n        if(type === 'success'){\r\n            color = '#39B54A';\r\n        }\r\n\r\n        return layer($.extend({\r\n            content:'<div style=\"padding:10px; color:'+ color +';\">'+content+'</div>',\r\n            id:'message',\r\n            width:'auto',\r\n            height:'auto',\r\n            isTips:true,\r\n            timer:1500,\r\n            close:{\r\n                enable:true\r\n            }\r\n        }, opts || {}, {\r\n            isMask:false\r\n        }))\r\n    }\r\n\r\n    layer.form = function(options){\r\n        var onInit = options.onInit;\r\n        delete options.onInit;\r\n        var validator;\r\n        var valid = options.valid;\r\n        var btns = $.extend([], options.button || [{\r\n            id:'cancel',\r\n            text:'关闭'\r\n        }, {\r\n            id:'confirm',\r\n            name:'normal',\r\n            text:'保存'\r\n        }])\r\n\r\n        Nui.each(btns, function(val, i){\r\n            if(val.id === 'confirm' && !val.callback){\r\n                btns[i].callback = function(main){\r\n                    main.find('form').submit()\r\n                }\r\n                return false\r\n            }\r\n        })\r\n\r\n        delete options.button;\r\n        var formLayer = layer($.extend(true, {button:btns}, {\r\n            scrollbar:false,\r\n            id:'form',\r\n            onInit:function(main, id){\r\n                var that = this;\r\n                var elems = main.find('[name!=\"\"][data-rule]');\r\n                var form = main.find('form');\r\n                var rules = {};\r\n                var messages = {};\r\n                var setting = form.data('setting');\r\n                elems.each(function(){\r\n                    var elem = $(this);\r\n                    var name = elem.attr('name');\r\n                    var data = elem.data();\r\n                    var rule = eval('('+ data.rule +')');\r\n                    var message = eval('('+ data.message +')');\r\n                    rules[name] = rule;\r\n                    $.each(message, function(key, msg){\r\n                        if(typeof options.messageFilter === 'function'){\r\n                            message[key] = options.messageFilter(name, msg)||''\r\n                        }\r\n                        message[key] = '<b></b><s></s><i class=\"iconfont\">&#xe605;</i>' + message[key];\r\n                    })\r\n                    messages[name] = message;\r\n                });\r\n                var opts = {\r\n                    rules:rules,\r\n                    messages:messages,\r\n                    errorClass:'s-err',\r\n\t\t\t\t\tonkeyup:false,\r\n\t\t\t\t\tfocusInvalid:false,\r\n                    onfocusout:false,\r\n\t\t\t\t\tfocusCleanup:true,\r\n                    ignore:'',\r\n                    success:function(error, element) {\r\n\t\t\t\t\t\terror.remove();\r\n\t\t\t\t\t\t$(element).addClass('s-succ');\r\n\t\t\t\t\t},\r\n\t\t\t\t\terrorPlacement:function(error, element) {\r\n\t\t\t\t\t\telement.removeClass('s-succ');\r\n\t\t\t\t\t\tif(error.text()){\r\n\t\t\t\t\t\t\telement.closest(options.itemWrap||'.ui-item').find(options.errorWrap||'.ui-err').html(error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n                    submitHandler:function(){\r\n                        var param = {};\r\n                        if(options.ajax && typeof options.ajax.getData === 'function'){\r\n                        \tparam = options.ajax.getData(form)\r\n                        }\r\n                        else{\r\n                        \tvar serialize = form.serializeArray();\r\n                        \t$.each(serialize, function(k, v){\r\n                                if(!param[v.name]){\r\n                                    param[v.name] = [];\r\n                                }\r\n                                param[v.name].push(v.value)\r\n                            })\r\n                            for(var i in param){\r\n                                param[i] = param[i].join(',')\r\n                            }\r\n                        }\r\n\r\n                        if(typeof options.onBeforeSubmit === 'function'){\r\n                        \tparam = options.onBeforeSubmit.call(that, main, id, param);\r\n                            if(param === false){\r\n                                return false\r\n                            }\r\n                        }\r\n\r\n                        var loading = layer.loading({\r\n                            content:options.loading||'正在保存数据...',\r\n                            under:that\r\n                        });\r\n                        \r\n                        $.ajax($.extend({\r\n                            url:form.attr('action'),\r\n                            dataType:'json',\r\n                            type:form.attr('method')||'POST',\r\n                            data:param,\r\n                            success:function(res, xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onSuccess === 'function'){\r\n                                    options.onSuccess.call(that, main, id, res, xhr)\r\n                                }\r\n                            },\r\n                            error:function(xhr){\r\n                                loading.hide();\r\n                                if(typeof options.onError === 'function'){\r\n                                    options.onError.call(that, main, id, xhr)\r\n                                }\r\n                            }\r\n                        }, options.ajax||{}), null)\r\n                    }\r\n                }\r\n                validator = form.validate($.extend(true, opts, setting||{}, valid||{}))\r\n                typeof onInit === 'function' && onInit.call(that, main, id, validator)\r\n            }\r\n        }, options||{}))\r\n        formLayer.validator = validator;\r\n        return formLayer\r\n    }\r\n\r\n    return layer\r\n})\r\n\n/**\r\n * @author Aniu[2017-02-27 23:46]\r\n * @update Aniu[2017-02-27 23:46]\r\n * @version 1.0.1\r\n * @description 路由\r\n */\r\n\r\nNui.define('src/components/router',['component', 'template', 'events'], function(component, template, events){\r\n    var statics = {\r\n        _paths:{},\r\n        _init:function(){\r\n            var that = this;\r\n            Nui.doc.on('click', '.nui-router-back', function(){\r\n                return that.back()\r\n            }).on('click', '.nui-router-forward', function(){\r\n                return that.forward()\r\n            })\r\n        },\r\n        _setpaths:function(rule, paths){\r\n            if(!this._paths[rule]){\r\n                this._paths[rule] = paths\r\n            }\r\n        },\r\n        _replace:function(hash){\r\n                        //IE8-中 A标签href属性会被添加上域名，将其移除\r\n            return hash.replace(location.protocol+'//'+location.host, '')\r\n                        //移除空白\r\n                       .replace(/\\s+/g, '')\r\n                       //移除 #!前缀\r\n                       .replace(/^\\#\\!?/, '')\r\n                       //开头添加斜杠\r\n                       .replace(/^([^\\/])/, '/$1')\r\n                       //移除末尾斜杠\r\n                       .replace(/\\/$/, '');\r\n        },\r\n        _getWrapper:function(container){\r\n            return $('<div class=\"nui-router-wrapper\"></div>').appendTo(container)\r\n        },\r\n        _split:function(url){\r\n            var ret = {\r\n                url:url,\r\n                params:{}\r\n            }\r\n            var match = url.match(/\\?[^\\/\\s]+/);\r\n            if(match){\r\n                var params = match[0];\r\n                ret.url = url.replace(params, '');\r\n                params = params.replace('?', '').split('&');\r\n                Nui.each(params, function(v, k){\r\n                    var arr = v.split('=');\r\n                    ret.params[arr[0]] = arr[1]\r\n                })\r\n            }\r\n            return ret;\r\n        },\r\n        _change:function(){\r\n            var that = this;\r\n            if(!$.isEmptyObject(that._paths)){\r\n                var _hash = location.hash, ret = this._split(_hash), hash = that._replace(ret.url), query = ret.params;\r\n                Nui.each(that._paths, function(v){\r\n                    if(hash === v.path || hash.indexOf(v.path) === 0){\r\n                        var params = hash.replace(v.path, '').replace(/^\\//, '');\r\n                        var object = that.__instances[v.id], opts = object.options, param = {};\r\n                        params = params ? params.split('/') : [];\r\n                        if(params.length === v.params.length){\r\n                            Nui.each(v.params, function(val, key){\r\n                                param[val] = params[key]\r\n                            })\r\n\r\n                            Nui.each(query, function(val, key){\r\n                                param[val] = query[key]\r\n                            })\r\n\r\n                            if(object._send && object._send.data && typeof opts.onData === 'function'){\r\n                                opts.onData.call(opts, object._send.data)\r\n                                delete object._send;\r\n                            }\r\n\r\n                            opts.data.path = v.path+'/';\r\n                            opts.data.url = hash+'/';\r\n                            opts.data.params = param;\r\n                            opts.data.query = query;\r\n\r\n                            if(object._isRrender === true || !object._wrapper){\r\n                                if(opts.wrapper && !object._wrapper){\r\n                                    object._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                else if(!that._wrapper){\r\n                                    that._wrapper = that._getWrapper(object.container)\r\n                                }\r\n                                if(object._isRrender || !object._wrapper){\r\n                                    component.destroy((object._wrapper||that._wrapper).off());\r\n                                }\r\n                                var wrapper = opts.element = object._wrapper || that._wrapper;\r\n                                var tmpl = opts.template;\r\n                                \r\n                                if(tmpl){\r\n                                    if(typeof tmpl === 'string'){\r\n                                        wrapper.html(template.render(tmpl, opts.data));\r\n                                    }\r\n                                    else{\r\n                                        wrapper.html(template.render.call(tmpl, tmpl.layout, opts.data));\r\n                                    }\r\n                                }\r\n                                if(typeof opts.onAfter === 'function'){\r\n                                    opts.onChange.call(opts);\r\n                                }\r\n                                events.call(opts);\r\n                                component.init(wrapper);\r\n                                delete object._isRrender;\r\n                            }\r\n                            var wrapper = object._wrapper || that._wrapper;\r\n                            wrapper.show().siblings('.nui-router-wrapper').hide();\r\n                            if(typeof opts.onAfter === 'function'){\r\n                                opts.onAfter.call(opts)\r\n                            }\r\n                            that._initialize = match = true;\r\n                            if(Nui.bsie7){\r\n                                that._setHistory(_hash);\r\n                            }\r\n                            return false\r\n                        }\r\n                    }\r\n                })\r\n\r\n                if(!that._initialize){\r\n                    Nui.each(that.__instances, function(v){\r\n                        if(!that._isEntry && v.options.entry === true){\r\n                            that._isEntry= true;\r\n                            if(v.target){\r\n                                v._render(v.target.eq(0));\r\n                            }\r\n                            that._initialize = true;\r\n                            return false\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n            that._oldhash = _hash;\r\n        },\r\n        _bindHashchange:function(){\r\n            var that = this;\r\n            if(Nui.bsie7){\r\n                var hashchange = function(ret){\r\n                    var hash = location.hash;\r\n                    if(that._oldhash !== hash){\r\n                        return !ret\r\n                    }\r\n                    return false\r\n                }\r\n                setInterval(function(){\r\n                    if(hashchange()){\r\n                        that._change()\r\n                    }\r\n                }, 100);\r\n                hashchange(true)\r\n            }\r\n            else{\r\n                Nui.win.on('hashchange', function(){\r\n                    that._change()\r\n                })\r\n            }\r\n        },\r\n        _$ready:null,\r\n        _$fn:null,\r\n        start:function(){\r\n            if(!this._initialize){\r\n                this._change();\r\n            }\r\n        },\r\n        location:function(url, data, render){\r\n            var that = this;\r\n            if(url){\r\n                if(arguments.length <=2 && typeof data === 'boolean'){\r\n                    render = data;\r\n                    data = null;\r\n                }\r\n                var temp, _router;\r\n                url = this._replace(url);\r\n                Nui.each(this._paths, function(val, rule){\r\n                    if(rule === url || (url.indexOf(val.path) === 0 &&\r\n                                        (temp = url.replace(val.path+'/', '')) && \r\n                                        temp.split('/').length === val.params.length)){\r\n                        _router = that.__instances[val.id];\r\n                        return false\r\n                    }\r\n                })\r\n                if(_router){\r\n                    _router._send = {\r\n                        data:data\r\n                    }\r\n                    _router._isRrender = render;\r\n                    _router._render(url)\r\n                }\r\n            }\r\n            else{\r\n                that.start()\r\n            }\r\n        },\r\n        forward:function(index){\r\n            history.forward(index);\r\n            return false\r\n        },\r\n        back:function(index){\r\n            history.back(index);\r\n            return false\r\n        }\r\n    }\r\n\r\n    if(Nui.bsie7){\r\n        statics._history = [];\r\n        statics._setHistory = function(hash){\r\n            if(!this._isHistory){\r\n                Nui.each(this._history, function(val){\r\n                    val.active = false\r\n                });\r\n                this._history.push({\r\n                    hash:hash,\r\n                    active:true\r\n                })\r\n            }\r\n            this._isHistory = false;\r\n        },\r\n        Nui.each(['forward', 'back'], function(v){\r\n            var value = v==='forward' ? 1 : -1;\r\n            statics[v] = function(){\r\n                var that = this, len = that._history.length;\r\n                statics._isHistory = true;\r\n                Nui.each(that._history, function(val, i){\r\n                    var index = i + value;\r\n                    if(val.active){\r\n                        //历史记录在起始或者末尾时，调用原生的记录\r\n                        if(index === -1 || index === len){\r\n                            window.history[v]();\r\n                            return false\r\n                        }\r\n                        var _history = that._history[index];\r\n                        if(_history){\r\n                            location.hash = _history.hash;\r\n                            _history.active = true;\r\n                        }\r\n                        val.active = false;\r\n                        return false\r\n                    }\r\n                })\r\n                return false\r\n            }\r\n        })\r\n    }\r\n\r\n    return this.extend(component, {\r\n        static:statics,\r\n        options:{\r\n            path:'',\r\n            template:'',\r\n            container:null,\r\n            data:{},\r\n            entry:false,\r\n            wrapper:false,\r\n            level:1,\r\n            onBefore:null,\r\n            onChange:null,\r\n            onAfter:null,\r\n            onData:null\r\n        },\r\n        _init:function(){\r\n            var that = this, router = that.constructor;\r\n            if(that._exec() && !router._bind){\r\n                router._bind = true;\r\n                router._bindHashchange();\r\n            }\r\n        },\r\n        _exec:function(){\r\n            var that = this, opts = that.options, router = that.constructor;\r\n            that.container = router._jquery(opts.container);\r\n            if(opts.path && that.container){\r\n                that.path = router._replace(opts.path);\r\n                var paths = that._getpath();\r\n                var len = paths.params.length;\r\n                if((!len && opts.level === 1) || opts.level !== 1){\r\n                    router._setpaths(paths.rule, paths)\r\n                }\r\n                if(len && opts.level > 0){\r\n                    var params = [], split = '/:', param, sub;\r\n                    while(param = paths.params.shift()){\r\n                        params.push(param);\r\n                        sub = params.join(split);\r\n                        router._setpaths(paths.rule+split+sub, $.extend({}, paths, {\r\n                            params:sub.split(split)\r\n                        }))\r\n                    }\r\n                }\r\n                if(that._getTarget()){\r\n                    return that._event()\r\n                }\r\n            }\r\n        },\r\n        _getpath:function(){\r\n            var that = this, path = that.path, opts = that.options, index = path.indexOf('/:');\r\n            var paths = {\r\n                id:that.__id,\r\n                params:[],\r\n                rule:path,\r\n                path:path\r\n            }\r\n            if(index !== -1){\r\n                paths.params = path.substr(index+2).split('/:');\r\n                paths.path = path.substr(0, index);\r\n                if(opts.level > 0){\r\n                    paths.rule = paths.path;\r\n                }\r\n            }\r\n            return paths\r\n        },\r\n        _render:function(url){\r\n            var that = this, opts = that.options, href = url instanceof jQuery ? url.attr('href') : url;\r\n            if(href){\r\n                var trigger = false;\r\n                var change = function(){\r\n                    trigger = true;\r\n                    location.hash = '#!'+that.constructor._replace(href)\r\n                }\r\n                if(typeof opts.onBefore === 'function' && opts.onBefore.call(opts, change) === false){\r\n                    return false\r\n                }\r\n                if(!trigger){\r\n                    change()\r\n                }\r\n            }\r\n        },\r\n        _event:function(){\r\n            var that = this, opts = that.options;\r\n            that._on('click', Nui.doc, that.target, function(e, elem){\r\n                that._render(elem);\r\n                return false\r\n            })\r\n            return that\r\n        },\r\n        _reset:function(){\r\n            var that = this, router = that.constructor;\r\n            that._off();\r\n            Nui.each(router._paths, function(val, i){\r\n                if(val.id === that.__id){\r\n                    delete router._paths[i];\r\n                }\r\n            })\r\n            return that\r\n        }\r\n    })\r\n})\nNui.define('pages/components/router/script/menu',[{\r\n    id:'recordVoucher',\r\n    name:'录凭证',\r\n    index:true,\r\n    icon:'',\r\n    path:'/voucher/record/'\r\n}, {\r\n    id:'seeVoucher',\r\n    name:'查凭证',\r\n    icon:'',\r\n    index:true,\r\n    path:'/voucher/list/aniu/jser/'\r\n}, {\r\n    name:'账簿',\r\n    icon:'',\r\n    subs:[{\r\n        id:'summary',\r\n        name:'总账',\r\n        icon:'',\r\n        path:'/books/summary/'\r\n    }, {\r\n        id:'detailed',\r\n        name:'明细账',\r\n        icon:'',\r\n        path:'/books/detailed/'\r\n    }, {\r\n        id:'accountbalance',\r\n        name:'科目余额表',\r\n        icon:'',\r\n        path:'/books/accountbalance/'\r\n    }]\r\n}])\nNui.define('pages/components/router/script/tpls/index',function(){\r\n    return this.renders(''+''\r\n        +'<div class=\"m-main ui-bgw\">'+''\r\n            +'<h3 class=\"ui-bdb ui-fcb\">'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run1\">欢</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run2\">迎</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run3\">使</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run4\">用</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run5\">云</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run6\">记</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run7\">账</em>'+''\r\n                +'<em class=\"ui-animate ui-animate-fadeInDown ui-animate-fadeInDown-run8\">！</em>'+''\r\n            +'</h3>'+''\r\n            +'<ul>'+''\r\n                +'<% each menu %>'+''\r\n                +'<% if $value.index %>'+''\r\n                +'<li>'+''\r\n                    +'<a href=\"javascript:void(0)\" rel=\"<% $value.path %>\">'+''\r\n                        +'<em><i class=\"iconfont ui-animate\">&#xe62a;</i></em>'+''\r\n                        +'<span class=\"ui-animate\"><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                +'</li>'+''\r\n                +'<% /if %>'+''\r\n                +'<% /each %>'+''\r\n            +'</ul>'+''\r\n        +'</div>'+''\r\n    +'')\r\n})\nNui.define('pages/components/router/script/modules/index',['pages/components/router/script/tpls/index', 'template', 'pages/components/router/script/menu'], function(tmpl, tpl, menu){\r\n    var module = this;\r\n    var router = module.require('src/components/router');\r\n    var layer = module.require('src/components/layer/layerExt');\r\n    module.imports('../../style/index');\r\n\r\n    return {\r\n        target:'#index',\r\n        entry:true,\r\n        path:'/index/',\r\n        template:tmpl,\r\n        data:{\r\n            menu:menu\r\n        },\r\n        events:{\r\n            'click a':function(e, elem){\r\n                router.location(elem.attr('rel'), {\r\n                    a:1\r\n                })\r\n            },\r\n            'click h3':function(){\r\n                var recordVoucher = module.require('pages/components/router/script/modules/recordVoucher');\r\n                var events = module.require('events');\r\n                var _layer = layer({\r\n                    content:tpl.render.call(recordVoucher.template, recordVoucher.template.layout, {\r\n                        params:{\r\n                            a:1\r\n                        }\r\n                    }),\r\n                    isFull:true\r\n                });\r\n                recordVoucher.element = _layer._main; \r\n                events.call(recordVoucher)\r\n            }\r\n        },\r\n        onChange:function(){\r\n            console.log(this.data)\r\n        }\r\n    }\r\n})\nNui.define('pages/components/router/script/router',['src/components/router'], function(router){\r\n    var module = this;\r\n\r\n    return function(){\r\n\r\n        router.config({\r\n            container:'.g-main',\r\n            onAfter:function(){\r\n                $('.m-menu-item a.s-crt').removeClass('s-crt');\r\n                $(this.target).addClass('s-crt');\r\n            }\r\n        })\r\n\r\n        router(module.require('pages/components/router/script/modules/index'))\r\n\r\n        router(module.require('pages/components/router/script/modules/recordVoucher'))\r\n\r\n        /*router({\r\n            target:'#seeVoucher',\r\n            path:'{list}',\r\n            wrapper:false,\r\n            level:2,\r\n            onChange:module.require('pages/components/router/script/modules/seeVoucher')\r\n        })*/\r\n\r\n        router.start()\r\n    }\r\n})\nNui.define('pages/components/router/script/tpls/layout',function(){\r\n    var module = this;\r\n    return ({\r\n        head:module.renders(''+''\r\n            +'<div class=\"f-fl m-head-main\">'+''\r\n                +'<% var data = list[0] %>'+''\r\n                +'<p class=\"f-fl name\"><% data.buname %></p>'+''\r\n                +'<p class=\"f-fl month\"><% data.buaddress %></p>'+''\r\n            +'</div>'+''\r\n        +''),\r\n        menu:module.renders(''+''\r\n            +'<% each menu %>'+''\r\n            +'<dl class=\"m-menu-item\">'+''\r\n                +'<dt>'+''\r\n                    +'<a href=\"<% $value.path || \\'javascript:void(0)\\' %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<em><i class=\"iconfont\"></i></em>'+''\r\n                        +'<span><% $value.name %></span>   '+''\r\n                    +'</a>'+''\r\n                +'</dt>'+''\r\n                +'<% if $value.subs && $value.subs.length %>'+''\r\n                +'<dd>'+''\r\n                    +'<% each $value.subs %>'+''\r\n                    +'<a href=\"<% $value.path %>\"<% if $value.id %> id=\"<% $value.id %>\"<% /if %>>'+''\r\n                        +'<span><% $value.name %></span>'+''\r\n                    +'</a>'+''\r\n                    +'<% /each %>'+''\r\n                +'</dd>'+''\r\n                +'<% /if %>'+''\r\n            +'</dl>'+''\r\n            +'<% /each %>'+''\r\n        +'')\r\n    })\r\n})\nNui.define('pages/components/router/script/render',['pages/components/router/script/menu', 'pages/components/router/script/tpls/layout', 'template'], function(menu, layout, tpl){\r\n    var module = this;\r\n    return function(data){\r\n        $('.m-headbox').html(tpl.render(layout.head, data))\r\n        data.menu = menu;\r\n        $('.m-menu').html(tpl.render(layout.menu, data))\r\n    }\r\n})\nNui.define('./script/page',function(require,imports,renders,extend){\n\tvar module=this;\n\tvar render = require('pages/components/router/script/render');\r\n\tvar router = require('pages/components/router/script/router');\r\n\tvar ajax = require('pages/components/router/script/ajax');\r\n\tvar base = imports('../style/base');\r\n\tvar page = imports('../style/page');\r\n\t\r\n\tajax({\r\n\t    url:'./script/data.json',\r\n\t    success:function(res){\r\n\t        render(res);\r\n\t        router()\r\n\t    }\r\n\t});\r\n\tmodule.exports = function(){\r\n\t    \r\n\t}\n});\n"]}