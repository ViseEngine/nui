{"version":3,"sources":["page-debug.js"],"names":["Nui","define","template","events","layer","elem","$","data","this","renders","click .j-add","click .j-del","click .j-update","checks","arr","find","length","each","push","val","render","html","add","e","remove","v","del","that","update","confirm","self","trim","main"],"mappings":"AACAA,IAAIC,OAAO,wBAAwB,WAAY,SAAU,iCAAkC,SAASC,EAAUC,EAAQC,GAExGD,GACNE,KAAKC,EAAE,SACPC,MAAM,KAAM,KAAM,MAClBL,SAASM,KAAKC,QAAQ,kIAUtBN,QACIO,eAAe,aACfC,eAAe,2BACfC,kBAAkB,iBAEtBC,OAAO,WACH,GAAIC,KAAkBN,MAAKH,KAAKU,KAAK,WACrC,SAAIP,KAAKH,KAAKU,KAAK,YAAYC,SAG/BR,KAAKH,KAAKU,KAAK,YAAYE,KAAK,WAC5BH,EAAII,KAAKZ,EAAEE,MAAMW,SAEdL,IAEXM,OAAO,WACHZ,KAAKH,KAAKgB,KAAKnB,EAASkB,OAAOZ,KAAKN,SAAUM,KAAKD,QAEvDe,IAAI,SAASC,EAAGlB,EAAME,GAClBC,KAAKD,KAAKW,KAAK,QAEnBM,OAAO,WACH,GAAIjB,KACJP,KAAIiB,KAAKT,KAAKD,KAAM,SAASkB,OACT,KAANA,GACNlB,EAAKW,KAAKO,KAGlBjB,KAAKD,KAAOA,GAEhBmB,IAAI,SAASH,EAAGlB,EAAME,GAClB,GAAIoB,GAAOnB,IACXR,KAAIiB,KAAKV,EAAM,SAASkB,SACbE,GAAKpB,KAAKkB,MAGzBG,OAAO,SAASL,EAAGlB,EAAME,GACrB,GAAIoB,GAAOnB,IACXJ,GAAMyB,QAAQ,iFAAkF,SAASN,EAAGO,GACxG,GAAIX,GAAMnB,IAAI+B,KAAKD,EAAKE,KAAKjB,KAAK,SAASI,MAC3C,IAAGA,EAKC,MAJAnB,KAAIiB,KAAKV,EAAM,SAASkB,GACpBE,EAAKpB,KAAKkB,GAAKN,IAEnBQ,EAAKP,UACE,GAEZ,GAAI,QAIXA","file":"page-min.js.map?v=d88f59f","sourcesContent":["\nNui.define('./script/events/page',['template', 'events', 'src/components/layer/layerExt'], function(template, events, layer){\r\n\r\n    var evt = events({\r\n        elem:$('#data'),\r\n        data:['蔬菜', '水果', '苹果'],\r\n        template:this.renders(''+''\r\n            +'<%each $list%>'+''\r\n            +'<li class=\"e-mt5\">'+''\r\n                +'<label>'+''\r\n                    +'<input type=\"checkbox\" value=\"<%$index%>\">'+''\r\n                    +'<span><%$value%></span>'+''\r\n                +'</label>'+''\r\n            +'</li>'+''\r\n            +'<%/each%>'+''\r\n        +''),\r\n        events:{\r\n            'click .j-add':'add render',\r\n            'click .j-del':'checks del remove render',\r\n            'click .j-update':'checks update'\r\n        },\r\n        checks:function(){\r\n            var arr = [], elems = this.elem.find(':checked');\r\n            if(!this.elem.find(':checked').length){\r\n                return false\r\n            }\r\n            this.elem.find(':checked').each(function(){\r\n                arr.push($(this).val())\r\n            })\r\n            return arr\r\n        },\r\n        render:function(){\r\n            this.elem.html(template.render(this.template, this.data))\r\n        },\r\n        add:function(e, elem, data){\r\n            this.data.push('自定义');\r\n        },\r\n        remove:function(){\r\n            var data = [];\r\n            Nui.each(this.data, function(v){\r\n                if(typeof v !== 'undefined'){\r\n                    data.push(v)\r\n                }\r\n            });\r\n            this.data = data;\r\n        },\r\n        del:function(e, elem, data){\r\n            var that = this;\r\n            Nui.each(data, function(v){\r\n                delete that.data[v]\r\n            });\r\n        },\r\n        update:function(e, elem, data){\r\n            var that = this;\r\n            layer.confirm('<input type=\"text\" style=\"border:1px solid #ccc; width:180px; height:24px;\" />', function(e, self){\r\n                var val = Nui.trim(self.main.find('input').val());\r\n                if(val){\r\n                    Nui.each(data, function(v){\r\n                        that.data[v] = val;\r\n                    })\r\n                    that.render();\r\n                    return true\r\n                }\r\n            }, '', 210)\r\n        }\r\n    })\r\n\r\n    evt.render()\r\n})\n"]}